{"remainingRequest":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\src\\components\\instructional_model\\ImageDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\src\\components\\instructional_model\\ImageDialog.vue","mtime":1593532256412},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592918128755},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1592918120439},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1592918466944},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592918128755},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1592918457604}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IENvb2tpZSBmcm9tICJqcy1jb29raWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkltYWdlRGlhbG9nIiwKICBwcm9wczogWyJvcHRpb25DYWxsIiwgInR5cGUiLCAiZG9tYWluIiwgImRpYWxvZyIsICJtb2JpbGVtZWRpYSJdLAogIGRhdGE6ICgpID0+ICh7CiAgICB2YWxpZDogdHJ1ZSwKICAgIGRpYWxvZ19hbGVydDogZmFsc2UsCiAgICB2aWV3SW1hZ2U6IGZhbHNlLAogICAgdmlld0ltYWdlU3JjOiAiIiwKICAgIGljb25WaWV3SW1hZ2VDb2xvcjogImJsdWUiLAogICAgdXJsRG93bmxvYWQ6ICIiLAogICAgcmVzb2x1dGlvbjogIiIsCiAgICBpbmZvTGV2ZWw6ICIiLAogICAgaW5mb0xlYXJuaW5nOiAiIiwKICAgIGluZm9DbGFzc2U6ICIiLAogICAgaW5mb0V4ZW1wbG86ICIiLAogICAgaW5mb0l0ZW1FeGVtcGxvczogWyJTaW0iLCAiTsOjbyJdLAogICAgaW5mb0l0ZW1DbGFzc2VzOiBbIkNvbmNlaXRvIiwgIlByaW5jw61waW8iLCAiRmF0byJdLAogICAgaW5mb0l0ZW1MZXZlbHM6IFsiMCAtIEluaWNpYWwiLCAiMSAtIEbDoWNpbCIsICIyIC0gTcOpZGlvIiwgIjMgLSBEaWbDrWNpbCJdLAogICAgaW5mb0l0ZW1MZWFybmluZ1N0eWxlczogWyJWaXN1YWwiLCAiVGV4dHVhbCJdLAogICAgaW5mb1Jlc3VtZTogIiIsCiAgICBpbWFnZW1EZXNjcmlwdGlvbjogIiIsCiAgICBpbWFnZW1PYmplY3Q6IG51bGwsCiAgICBpbWFnZW1EZXNjcmlwdGlvblJ1bGVzOiBbCiAgICAgIHYgPT4gISF2IHx8ICLDiSBuZWNlc3PDoXJpbyBkZXNjcmV2ZXIgYSBpbWFnZW0gYSBzZXIgaW5zZXJpZGEiLAogICAgICB2ID0+CiAgICAgICAgKHYgJiYgdi5sZW5ndGggPD0gNTApIHx8CiAgICAgICAgIkEgZGVzY3Jpw6fDo28gZGEgaW1hZ2VtIGRldmUgdGVyIG5vIG3DoXhpbW8gNTAgY2FyYWN0ZXJlcyIKICAgIF0KICB9KSwKICB3YXRjaDogewogICAgaW1hZ2VtT2JqZWN0OiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuaW1hZ2VtT2JqZWN0KSB7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5pbWFnZW1PYmplY3QpOwogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHZtLnJlc29sdXRpb24gPSBpbWcud2lkdGggKyAiWCIgKyBpbWcuaGVpZ2h0OwogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBkaWFsb2c6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5tb2JpbGVtZWRpYSkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEucGF0aCAhPT0gbnVsbCkgewogICAgICAgICAgICB2bS5pbWFnZW1EZXNjcmlwdGlvbiA9IHRoaXMubW9iaWxlbWVkaWEuZGVzY3JpcHRpb247CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEuZGlmZmljdWx0eUxldmVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIHZtLmluZm9MZXZlbCA9IHZtLmluZm9JdGVtTGV2ZWxzW3ZtLm1vYmlsZW1lZGlhLmRpZmZpY3VsdHlMZXZlbF07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEubGVhcm5pbmdTdHlsZSAhPT0gbnVsbCkgewogICAgICAgICAgICB2bS5pbmZvTGVhcm5pbmcgPQogICAgICAgICAgICAgIHZtLmluZm9JdGVtTGVhcm5pbmdTdHlsZXNbdm0ubW9iaWxlbWVkaWEubGVhcm5pbmdTdHlsZV07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEuZmtfaWRpbnN0cnVjdGlvbmFsZWxlbWVudCkgewogICAgICAgICAgICB2bS5pbmZvRXhlbXBsbyA9IHZtLmluZm9JdGVtRXhlbXBsb3NbMF07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEuZmtfaW5mb3JtYXRpb25pdGVtKSB7CiAgICAgICAgICAgIHZhciBjc3JmdG9rZW4gPSBDb29raWUuZ2V0KCJjc3JmdG9rZW4iKTsKICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICAgIlgtQ1NSRlRPS0VOIjogY3NyZnRva2VuCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgIC5wYXRjaCgKICAgICAgICAgICAgICAgIHZtLm1vYmlsZW1lZGlhLmZrX2luZm9ybWF0aW9uaXRlbSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICAgIHZtLmluZm9DbGFzc2UgPQogICAgICAgICAgICAgICAgICB2bS5pbmZvSXRlbUNsYXNzZXNbCiAgICAgICAgICAgICAgICAgICAgcmVzcG9zdGEuZGF0YS5ma19pbmZvcm1hdGlvbml0ZW10eXBlLnNwbGl0KCIvIilbNF0gLSAxCiAgICAgICAgICAgICAgICAgIF07CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdm0uZ2V0U3JjSW1hZ2UoKTsKICAgICAgICB2bS52aWV3SW1hZ2UgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmlld0ltYWdlU3JjID0gIiI7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHBvc3RPclB1dE1vYmlsZW1lZGlhKCkgewogICAgICB2YXIgYXV4aW5mb3JtYXRpb25pdGVtID0gewogICAgICAgIGF1eGluZm86CiAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2luZm9ybWF0aW9uaXRlbXR5cGUvYCArCiAgICAgICAgICAodGhpcy5pbmZvQ2xhc3NlICsgMSkgKwogICAgICAgICAgIi8iCiAgICAgIH07CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBwYXRoID0gIiI7CiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhKSB7CiAgICAgICAgcGF0aCA9IHRoaXMubW9iaWxlbWVkaWEucGF0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXRoID0KICAgICAgICAgIHRoaXMuZG9tYWluLmlka25vd2xlZGdlZG9tYWluLnRvU3RyaW5nKCkgKwogICAgICAgICAgIi8iICsKICAgICAgICAgIERhdGUubm93KCkudG9TdHJpbmcoKTsKICAgICAgfQogICAgICB2YXIgbW9iaWxlbWVkaWEgPSB7CiAgICAgICAgbGFiZWw6IHRoaXMuaW1hZ2VtRGVzY3JpcHRpb24sCiAgICAgICAgZmtfaWRtZWRpYXR5cGU6ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvbWVkaWF0eXBlLzEvIiwKICAgICAgICBwYXRoOiBwYXRoLAogICAgICAgIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbiwKICAgICAgICBuYW1lZmlsZTogcGF0aC5zcGxpdCgiLyIpWzFdLAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmltYWdlbURlc2NyaXB0aW9uLAogICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgdGV4dHNob3J0OiBudWxsLAogICAgICAgIHVybGxpbms6IG51bGwKICAgICAgfTsKCiAgICAgIHZhciBpbnN0cnVjdGlvbmFsZWxlbWVudCA9IHsKICAgICAgICBsYWJlbDogIkV4ZW1wbG8iLAogICAgICAgIGZrX2luc3RydWN0aW9uYWxlbGVtZW50dHlwZTogYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9pbnN0cnVjZWxlbWVudHR5cGUvNC9gCiAgICAgIH07CgogICAgICBhd2FpdCBmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKCkKICAgICAgICAuY2hpbGQocGF0aCkKICAgICAgICAucHV0KHRoaXMuaW1hZ2VtT2JqZWN0KTsKICAgICAgaWYgKHRoaXMuaW5mb0NsYXNzZSA9PSAtMSkgewogICAgICAgIHRoaXMuaW5mb0NsYXNzZSA9IDE7CiAgICAgICAgYXV4aW5mb3JtYXRpb25pdGVtLmF1eGluZm8gPQogICAgICAgICAgYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9pbmZvcm1hdGlvbml0ZW10eXBlL2AgKyB0aGlzLmluZm9DbGFzc2UgKyAiLyI7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaW5mb0xldmVsID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IHRoaXMuaW5mb0xldmVsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaW5mb0xlYXJuaW5nID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBsZWFybmluZ1N0eWxlOiB0aGlzLmluZm9MZWFybmluZwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJjb25jZWl0byIpIHsKICAgICAgICB2YXIgaXRlbWluZm8gPSB7CiAgICAgICAgICBuYW1laW5mb3JtYXRpb25pdGVtOiAiaW1hZ2VtXyIgKyB2bS5pbWFnZW1PYmplY3QubmFtZSwKICAgICAgICAgIGZrX2luZm9ybWF0aW9uaXRlbXR5cGU6IGF1eGluZm9ybWF0aW9uaXRlbS5hdXhpbmZvLAogICAgICAgICAgZmtfaWRjb25jZXB0OiB0aGlzLm9wdGlvbkNhbGwudXJsCiAgICAgICAgfTsKICAgICAgICBpZiAodGhpcy5pbmZvRXhlbXBsbykgewogICAgICAgICAgT2JqZWN0LmFzc2lnbihpbnN0cnVjdGlvbmFsZWxlbWVudCwgewogICAgICAgICAgICBma19pZGNvbmNlcHQ6IHRoaXMub3B0aW9uQ2FsbC51cmwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBma19pZGNvbmNlcHQ6IHRoaXMub3B0aW9uQ2FsbC51cmwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIikgewogICAgICAgIGlmICh0aGlzLmluZm9FeGVtcGxvKSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKGluc3RydWN0aW9uYWxlbGVtZW50LCB7CiAgICAgICAgICAgIGZrX2lka25vd2xlZGdlZG9tYWluOiB0aGlzLm9wdGlvbkNhbGwudXJsCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsKICAgICAgICAgIGZrX2lka25vd2xlZGdlZG9tYWluOiB0aGlzLm9wdGlvbkNhbGwudXJsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAibW9kdWxvIikgewogICAgICAgIGlmICh0aGlzLmluZm9FeGVtcGxvKSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKGluc3RydWN0aW9uYWxlbGVtZW50LCB7CiAgICAgICAgICAgIGZrX2lkbW9kdWxlOiB0aGlzLm9wdGlvbkNhbGwudXJsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgZmtfbW9kdWxlOiB0aGlzLm9wdGlvbkNhbGwudXJsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLyogQ8OTRElHTyBQQVJBIEVEScOHw4NPIERPIE1PQklMRU1FRElBICovCiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhKSB7CiAgICAgICAgdm0gPSB0aGlzOwogICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5ma19pZGluc3RydWN0aW9uYWxlbGVtZW50ICYmICF2bS5pbmZvRXhlbXBsbykgewogICAgICAgICAgYXdhaXQgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiBudWxsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKAogICAgICAgICAgIXZtLm1vYmlsZW1lZGlhLmZrX2lkaW5zdHJ1Y3Rpb25hbGVsZW1lbnQgJiYKICAgICAgICAgIHZtLmluZm9FeGVtcGxvID09PSB2bS5pbmZvSXRlbUV4ZW1wbG9zWzBdCiAgICAgICAgKSB7CiAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2luc3RydWN0aW9uYWxlbGVtZW50L2AsCiAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQsCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImNvbmNlaXRvIikgewogICAgICAgICAgYXdhaXQgYXhpb3MKICAgICAgICAgICAgLnB1dCh2bS5tb2JpbGVtZWRpYS5ma19pbmZvcm1hdGlvbml0ZW0sIGl0ZW1pbmZvLCB7CiAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYXdhaXQgYXhpb3MKICAgICAgICAgICAgICAgIC5wdXQodm0ubW9iaWxlbWVkaWEudXJsLCBtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKC8qcmVzcG9zdGEqLykgewogICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgdm0ubW9iaWxlbWVkaWEuZmtfaWRpbnN0cnVjdGlvbmFsZWxlbWVudCAmJgogICAgICAgICAgICAgICAgICAgICF2bS5pbmZvRXhlbXBsbwogICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoCiAgICAgICAgICAgICAgICAgICAgICB2bS5tb2JpbGVtZWRpYS5ma19pZGluc3RydWN0aW9uYWxlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gImRvbWluaW8iIHx8IHRoaXMudHlwZSA9PT0gIm1vZHVsbyIpIHsKICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgIC5wdXQodGhpcy5tb2JpbGVtZWRpYS51cmwsIG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7CiAgICAgICAgICAgICAgaWYgKHZtLm1vYmlsZW1lZGlhLmZrX2lkaW5zdHJ1Y3Rpb25hbGVsZW1lbnQgJiYgIXZtLmluZm9FeGVtcGxvKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUodm0ubW9iaWxlbWVkaWEuZmtfaWRpbnN0cnVjdGlvbmFsZWxlbWVudCwgewogICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLyogQ8OTRElHTyBQQVJBIENSSUHDh8ODTyBETyBNT0JJTEVNRURJQSAqLwogICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJjb25jZWl0byIpIHsKICAgICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgQ09NIElURU1JTkZPKi8KICAgICAgICAgIGlmICh0aGlzLmluZm9FeGVtcGxvKSB7CiAgICAgICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgQ09NIElURU0gSU5GTyBFIENPTSBFTEVNRU5UTyBJTlNUUlVDSU9OQUwqLwogICAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAgIC5wb3N0KGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvaW5mb3JtYXRpb25pdGVtL2AsIGl0ZW1pbmZvLCB7CiAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaW5zdHJ1Y3Rpb25hbGVsZW1lbnQsIHsKICAgICAgICAgICAgICAgICAgZmtfaW5mb3JtYXRpb25pdGVtOiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2luc3RydWN0aW9uYWxlbGVtZW50L2AsCiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEyKSB7CiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgICAgICAgZmtfaW5mb3JtYXRpb25pdGVtOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgICAgIGZrX2lkaW5zdHJ1Y3Rpb25hbGVsZW1lbnQ6IHJlc3Bvc3RhMi5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgICAgICAgICAgICAucG9zdChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsIG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qdm0ubW9kdWxvVGl0bGUgPSByZXNwb3N0YS5kYXRhLm5hbWVtb2R1bGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnN1YlRpdGxlID0gcmVzcG9zdGEuZGF0YS5zdWJ0aXRsZTsqLwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLyogQ8OTRElHTyBQQVJBIENSSUHDh8ODTyBETyBNT0JJTEVNRURJQSBDT00gSVRFTSBJTkZPIEUgU0VNIEVMRU1FTlRPIElOU1RSVUNJT05BTCovCiAgICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgICAgLnBvc3QoYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9pbmZvcm1hdGlvbml0ZW0vYCwgaXRlbWluZm8sIHsKICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbihyZXNwb3N0YSkgewogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgICAgICAgIC5wb3N0KGBodHRwOi8vbG9jYWxob3N0OjgwMDAvbW9iaWxlbWVkaWEvYCwgbW9iaWxlbWVkaWEsIHsKICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigvKnJlc3Bvc3RhKi8pIHsKICAgICAgICAgICAgICAgICAgICAvKnZtLm1vZHVsb1RpdGxlID0gcmVzcG9zdGEuZGF0YS5uYW1lbW9kdWxlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zdWJUaXRsZSA9IHJlc3Bvc3RhLmRhdGEuc3VidGl0bGU7Ki8KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIiB8fCB0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7CiAgICAgICAgICAvKiBDw5NESUdPIFBBUkEgQ1JJQcOHw4NPIERPIE1PQklMRU1FRElBIFNFTSBJVEVNIElORk8qLwogICAgICAgICAgaWYgKHRoaXMuaW5mb0V4ZW1wbG8pIHsKICAgICAgICAgICAgLyogQ8OTRElHTyBQQVJBIENSSUHDh8ODTyBETyBNT0JJTEVNRURJQSBTRU0gSVRFTSBJTkZPIEUgQ09NIEVMRU1FTlRPIElOU1RSVUNJT05BTCovCiAgICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2luc3RydWN0aW9uYWxlbGVtZW50L2AsCiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbmFsZWxlbWVudCwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsKICAgICAgICAgICAgICAgICAgZmtfaWRpbnN0cnVjdGlvbmFsZWxlbWVudDogcmVzcG9zdGEuZGF0YS51cmwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MKICAgICAgICAgICAgICAgICAgLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLCBtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKC8qcmVzcG9zdGEqLykgewogICAgICAgICAgICAgICAgICAgIC8qdm0ubW9kdWxvVGl0bGUgPSByZXNwb3N0YS5kYXRhLm5hbWVtb2R1bGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3ViVGl0bGUgPSByZXNwb3N0YS5kYXRhLnN1YnRpdGxlOyovCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLyogQ8OTRElHTyBQQVJBIENSSUHDh8ODTyBETyBNT0JJTEVNRURJQSBTRU0gSVRFTSBJTkZPIEUgU0VNIEVMRU1FTlRPIElOU1RSVUNJT05BTCovCiAgICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgICAgLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLCBtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKC8qcmVzcG9zdGEqLykgewogICAgICAgICAgICAgICAgLyp2bS5tb2R1bG9UaXRsZSA9IHJlc3Bvc3RhLmRhdGEubmFtZW1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zdWJUaXRsZSA9IHJlc3Bvc3RhLmRhdGEuc3VidGl0bGU7Ki8KICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5pbmZvQ2xhc3NlID0gdGhpcy5pbmZvSXRlbUNsYXNzZXMuZmluZEluZGV4KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2bS5pbmZvQ2xhc3NlOwogICAgICB9KTsKICAgICAgdGhpcy5pbmZvTGV2ZWwgPSB0aGlzLmluZm9JdGVtTGV2ZWxzLmZpbmRJbmRleChmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0xldmVsOwogICAgICB9KTsKICAgICAgdGhpcy5pbmZvTGVhcm5pbmcgPSB0aGlzLmluZm9JdGVtTGVhcm5pbmdTdHlsZXMuZmluZEluZGV4KGZ1bmN0aW9uKAogICAgICAgIHZhbHVlCiAgICAgICkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0xlYXJuaW5nOwogICAgICB9KTsKICAgICAgaWYgKHRoaXMuaW5mb0V4ZW1wbG8gPT09IHRoaXMuaW5mb0l0ZW1FeGVtcGxvc1sxXSkgewogICAgICAgIHRoaXMuaW5mb0V4ZW1wbG8gPSAiIjsKICAgICAgfQogICAgICBpZiAodGhpcy5pbWFnZW1PYmplY3QpIHsKICAgICAgICBhd2FpdCB0aGlzLnBvc3RPclB1dE1vYmlsZW1lZGlhKCk7CiAgICAgICAgYXdhaXQgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgICAgICBhd2FpdCB0aGlzLnJlc2V0VmFyaWFibGVzKCk7CiAgICAgICAgdGhpcy52aWV3SW1hZ2UgPSBmYWxzZTsKICAgICAgICB0aGlzLmltYWdlbU9iamVjdCA9IG51bGw7CiAgICAgICAgYXdhaXQgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaWFsb2dfYWxlcnQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgcmVzZXQoKSB7CiAgICAgIGF3YWl0IHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICAgIGF3YWl0IHRoaXMucmVzZXRWYXJpYWJsZXMoKTsKICAgICAgdGhpcy52aWV3SW1hZ2UgPSBmYWxzZTsKICAgICAgdGhpcy5pbWFnZW1PYmplY3QgPSBudWxsOwogICAgICBhd2FpdCB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgIH0sCiAgICByZXNldFZhcmlhYmxlcygpIHsKICAgICAgdGhpcy5pbmZvTGV2ZWwgPSAiIjsKICAgICAgdGhpcy5pbmZvTGVhcm5pbmcgPSAiIjsKICAgICAgdGhpcy5pbmZvQ2xhc3NlID0gIiI7CiAgICAgIHRoaXMuaW5mb0V4ZW1wbG8gPSAiIjsKICAgIH0sCiAgICBnZXRTcmNJbWFnZSgpIHsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEucGF0aCkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgZmlyZWJhc2UKICAgICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAgIC5yZWYodGhpcy5tb2JpbGVtZWRpYS5wYXRoKQogICAgICAgICAgLmdldERvd25sb2FkVVJMKCkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgICB2bS52aWV3SW1hZ2VTcmMgPSB1cmw7CiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICJibG9iIjsKICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHZhciBibG9iID0geGhyLnJlc3BvbnNlOwogICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIHZtLm1vYmlsZW1lZGlhLm5hbWVmaWxlLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB2bS5pbWFnZW1PYmplY3QgPSBmaWxlOwogICAgICAgICAgICB9OwogICAgICAgICAgICB4aHIub3BlbigiR0VUIiwgdXJsKTsKICAgICAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2V0SWNvbkNvbG9yKCkgewogICAgICBpZiAodGhpcy5tb2JpbGVtZWRpYS5wYXRoKSB7CiAgICAgICAgaWYgKHRoaXMuaWNvblZpZXdJbWFnZUNvbG9yID09PSAiZ3JleSIpIHsKICAgICAgICAgIHRoaXMuaWNvblZpZXdJbWFnZUNvbG9yID0gImJsdWUiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmljb25WaWV3SW1hZ2VDb2xvciA9ICJncmV5IjsKICAgICAgICB9CiAgICAgICAgdGhpcy52aWV3SW1hZ2UgPSAhdGhpcy52aWV3SW1hZ2U7CiAgICAgICAgLypmaXJlYmFzZQogICAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgICAgLnJlZih0aGlzLm1vYmlsZW1lZGlhLnBhdGgpCiAgICAgICAgICAuZ2V0RG93bmxvYWRVUkwoKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXJsKSB7CiAgICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCwgIl9ibGFuayIpOwogICAgICAgICAgfSk7Ki8KICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["ImageDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\n  <v-container class=\"pa-0\">\n    <v-card>\n      <v-card-title style=\"background-color:#63B0B0; color:white;\">\n        <span class=\"headline\">\n          <p>Importe sua imagem.</p>\n        </span>\n      </v-card-title>\n      <v-card-text>\n        <!--Formulario para adição de submódulo ou conceito-->\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n          <v-text-field\n            v-model=\"imagemDescription\"\n            :rules=\"imagemDescriptionRules\"\n            label=\"Utilize uma descrição para a imagem\"\n            required\n          ></v-text-field>\n        </v-form>\n        <v-row>\n          <v-col cols=\"3\" v-if=\"type==='conceito'\">\n            <label for=\"infoItemClassesSelect\">Classifique o item de informação</label>\n            <v-select\n              id=\"infoItemClassesSelect\"\n              class=\"mt-5\"\n              v-model=\"infoClasse\"\n              :items=\"infoItemClasses\"\n              label=\"Classe\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"3\">\n            <label for=\"infoItemExemplosSelect\">Esse conteúdo se trata de um exemplo?</label>\n            <v-select\n              class=\"mt-5\"\n              id=\"infoItemExemplosSelect\"\n              v-model=\"infoExemplo\"\n              :items=\"infoItemExemplos\"\n              label=\"Resposta\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"3\">\n            <label for=\"infoItemLevelsSelect\">Qual o nível de dificuldade deste conteúdo?</label>\n            <v-select\n              class=\"mt-5\"\n              id=\"infoItemLevelsSelect\"\n              v-model=\"infoLevel\"\n              :items=\"infoItemLevels\"\n              label=\"Nível\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\">\n            <label for=\"infoItemLearningStylesSelect\">Qual o estilo de aprendizado deste conteúdo?</label>\n            <v-select\n              id=\"infoItemLearningStylesSelect\"\n              v-model=\"infoLearning\"\n              :items=\"infoItemLearningStyles\"\n              label=\"Nível\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n        </v-row>\n        <v-spacer></v-spacer>\n        <v-file-input\n          label=\"UPLOAD IMAGE\"\n          filled\n          v-model=\"imagemObject\"\n          accept=\"image/*\"\n          prepend-icon=\"mdi-camera\"\n        ></v-file-input>\n        <v-spacer></v-spacer>\n        <label v-if=\"mobilemedia\" class=\"mr-2\" for=\"viewImageIconId\">Visualizar Imagem</label>\n        <v-icon\n          id=\"viewImageIconId\"\n          :color=\"iconViewImageColor\"\n          icon\n          @click=\"setIconColor()\"\n          v-if=\"mobilemedia\"\n        >mdi-eye</v-icon>\n\n        <v-img id=\"imagem\" class=\"mt-3\" v-bind:src=\"viewImageSrc\" v-if=\"imagemObject\"></v-img>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"red\" height=\"49\" dark large @click=\"reset()\">\n          Close\n          <v-icon dark right>mdi-close</v-icon>\n        </v-btn>\n        <v-btn color=\"success\" height=\"49\" dark large @click=\"validate()\">\n          Save\n          <v-icon dark right>mdi-content-save</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialog_alert\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\">ALERTA!</v-card-title>\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">É necessário importar alguma imagem.</v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialog_alert = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport * as firebase from \"firebase\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nexport default {\n  name: \"ImageDialog\",\n  props: [\"optionCall\", \"type\", \"domain\", \"dialog\", \"mobilemedia\"],\n  data: () => ({\n    valid: true,\n    dialog_alert: false,\n    viewImage: false,\n    viewImageSrc: \"\",\n    iconViewImageColor: \"blue\",\n    urlDownload: \"\",\n    resolution: \"\",\n    infoLevel: \"\",\n    infoLearning: \"\",\n    infoClasse: \"\",\n    infoExemplo: \"\",\n    infoItemExemplos: [\"Sim\", \"Não\"],\n    infoItemClasses: [\"Conceito\", \"Princípio\", \"Fato\"],\n    infoItemLevels: [\"0 - Inicial\", \"1 - Fácil\", \"2 - Médio\", \"3 - Difícil\"],\n    infoItemLearningStyles: [\"Visual\", \"Textual\"],\n    infoResume: \"\",\n    imagemDescription: \"\",\n    imagemObject: null,\n    imagemDescriptionRules: [\n      v => !!v || \"É necessário descrever a imagem a ser inserida\",\n      v =>\n        (v && v.length <= 50) ||\n        \"A descrição da imagem deve ter no máximo 50 caracteres\"\n    ]\n  }),\n  watch: {\n    imagemObject: function() {\n      if (this.imagemObject) {\n        var vm = this;\n        var img = new Image();\n        img.src = URL.createObjectURL(this.imagemObject);\n        img.onload = function() {\n          vm.resolution = img.width + \"X\" + img.height;\n        };\n      }\n    },\n    dialog: function() {\n      if (this.mobilemedia) {\n        var vm = this;\n        this.$nextTick(function() {\n          if (vm.mobilemedia.path !== null) {\n            vm.imagemDescription = this.mobilemedia.description;\n          }\n          if (vm.mobilemedia.difficultyLevel !== null) {\n            vm.infoLevel = vm.infoItemLevels[vm.mobilemedia.difficultyLevel];\n          }\n          if (vm.mobilemedia.learningStyle !== null) {\n            vm.infoLearning =\n              vm.infoItemLearningStyles[vm.mobilemedia.learningStyle];\n          }\n          if (vm.mobilemedia.fk_idinstructionalelement) {\n            vm.infoExemplo = vm.infoItemExemplos[0];\n          }\n          if (vm.mobilemedia.fk_informationitem) {\n            var csrftoken = Cookie.get(\"csrftoken\");\n            var headers = {\n              \"X-CSRFTOKEN\": csrftoken\n            };\n            \n            axios\n              .patch(\n                vm.mobilemedia.fk_informationitem,\n                {\n                  headers: headers\n                },\n                {\n                  auth: {\n                    username: \"admin\",\n                    password: \"admin\"\n                  }\n                }\n              )\n              .then(function(resposta) {\n                vm.infoClasse =\n                  vm.infoItemClasses[\n                    resposta.data.fk_informationitemtype.split(\"/\")[4] - 1\n                  ];\n              });\n          }\n        });\n        vm.getSrcImage();\n        vm.viewImage = true;\n      } else {\n        this.viewImageSrc = \"\";\n      }\n    }\n  },\n  methods: {\n    async postOrPutMobilemedia() {\n      var auxinformationitem = {\n        auxinfo:\n          `http://127.0.0.1:8000/informationitemtype/` +\n          (this.infoClasse + 1) +\n          \"/\"\n      };\n      var vm = this;\n      var path = \"\";\n      if (this.mobilemedia) {\n        path = this.mobilemedia.path;\n      } else {\n        path =\n          this.domain.idknowledgedomain.toString() +\n          \"/\" +\n          Date.now().toString();\n      }\n      var mobilemedia = {\n        label: this.imagemDescription,\n        fk_idmediatype: \"http://localhost:8000/mediatype/1/\",\n        path: path,\n        resolution: this.resolution,\n        namefile: path.split(\"/\")[1],\n        description: this.imagemDescription,\n        time: null,\n        textfull: null,\n        textshort: null,\n        urllink: null\n      };\n\n      var instructionalelement = {\n        label: \"Exemplo\",\n        fk_instructionalelementtype: `http://127.0.0.1:8000/instrucelementtype/4/`\n      };\n\n      await firebase\n        .storage()\n        .ref()\n        .child(path)\n        .put(this.imagemObject);\n      if (this.infoClasse == -1) {\n        this.infoClasse = 1;\n        auxinformationitem.auxinfo =\n          `http://127.0.0.1:8000/informationitemtype/` + this.infoClasse + \"/\";\n      }\n      if (this.infoLevel > -1) {\n        Object.assign(mobilemedia, {\n          difficultyLevel: this.infoLevel\n        });\n      }\n      if (this.infoLearning > -1) {\n        Object.assign(mobilemedia, {\n          learningStyle: this.infoLearning\n        });\n      }\n      if (this.type === \"conceito\") {\n        var iteminfo = {\n          nameinformationitem: \"imagem_\" + vm.imagemObject.name,\n          fk_informationitemtype: auxinformationitem.auxinfo,\n          fk_idconcept: this.optionCall.url\n        };\n        if (this.infoExemplo) {\n          Object.assign(instructionalelement, {\n            fk_idconcept: this.optionCall.url\n          });\n        }\n        Object.assign(mobilemedia, {\n          fk_idconcept: this.optionCall.url\n        });\n      } else if (this.type === \"dominio\") {\n        if (this.infoExemplo) {\n          Object.assign(instructionalelement, {\n            fk_idknowledgedomain: this.optionCall.url\n          });\n        }\n\n        Object.assign(mobilemedia, {\n          fk_idknowledgedomain: this.optionCall.url\n        });\n      } else if (this.type === \"modulo\") {\n        if (this.infoExemplo) {\n          Object.assign(instructionalelement, {\n            fk_idmodule: this.optionCall.url\n          });\n        }\n        Object.assign(mobilemedia, {\n          fk_module: this.optionCall.url\n        });\n      }\n      /* CÓDIGO PARA EDIÇÃO DO MOBILEMEDIA */\n      if (this.mobilemedia) {\n        vm = this;\n        if (vm.mobilemedia.fk_idinstructionalelement && !vm.infoExemplo) {\n          await Object.assign(mobilemedia, {\n            fk_idinstructionalelement: null\n          });\n        }\n        if (\n          !vm.mobilemedia.fk_idinstructionalelement &&\n          vm.infoExemplo === vm.infoItemExemplos[0]\n        ) {\n          await axios\n            .post(\n              `http://127.0.0.1:8000/instructionalelement/`,\n              instructionalelement,\n              {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              }\n            )\n            .then(async function(resposta) {\n              Object.assign(mobilemedia, {\n                fk_idinstructionalelement: resposta.data.url\n              });\n            });\n        }\n        if (this.type === \"conceito\") {\n          await axios\n            .put(vm.mobilemedia.fk_informationitem, iteminfo, {\n              auth: {\n                username: \"admin\",\n                password: \"admin\"\n              }\n            })\n            .then(async function(resposta) {\n              Object.assign(mobilemedia, {\n                fk_informationitem: resposta.data.url\n              });\n              await axios\n                .put(vm.mobilemedia.url, mobilemedia, {\n                  auth: {\n                    username: \"admin\",\n                    password: \"admin\"\n                  }\n                })\n                .then(async function(/*resposta*/) {\n                  if (\n                    vm.mobilemedia.fk_idinstructionalelement &&\n                    !vm.infoExemplo\n                  ) {\n                    await axios.delete(\n                      vm.mobilemedia.fk_idinstructionalelement,\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  }\n                });\n            });\n        } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n          await axios\n            .put(this.mobilemedia.url, mobilemedia, {\n              auth: {\n                username: \"admin\",\n                password: \"admin\"\n              }\n            })\n            .then(async function(/*resposta*/) {\n              if (vm.mobilemedia.fk_idinstructionalelement && !vm.infoExemplo) {\n                await axios.delete(vm.mobilemedia.fk_idinstructionalelement, {\n                  auth: {\n                    username: \"admin\",\n                    password: \"admin\"\n                  }\n                });\n              }\n            });\n        }\n      } else {\n        /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA */\n        if (this.type === \"conceito\") {\n          /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA COM ITEMINFO*/\n          if (this.infoExemplo) {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA COM ITEM INFO E COM ELEMENTO INSTRUCIONAL*/\n            await axios\n              .post(`http://127.0.0.1:8000/informationitem/`, iteminfo, {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              })\n              .then(async function(resposta) {\n                Object.assign(instructionalelement, {\n                  fk_informationitem: resposta.data.url\n                });\n                await axios\n                  .post(\n                    `http://127.0.0.1:8000/instructionalelement/`,\n                    instructionalelement,\n                    {\n                      auth: {\n                        username: \"admin\",\n                        password: \"admin\"\n                      }\n                    }\n                  )\n                  .then(async function(resposta2) {\n                    Object.assign(mobilemedia, {\n                      fk_informationitem: resposta.data.url,\n                      fk_idinstructionalelement: resposta2.data.url\n                    });\n                    await axios\n                      .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      })\n                      .then(function(/*resposta*/) {\n                        /*vm.moduloTitle = resposta.data.namemodule;\n                                    vm.subTitle = resposta.data.subtitle;*/\n                      });\n                  });\n              });\n          } else {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA COM ITEM INFO E SEM ELEMENTO INSTRUCIONAL*/\n            await axios\n              .post(`http://127.0.0.1:8000/informationitem/`, iteminfo, {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              })\n              .then(async function(resposta) {\n                Object.assign(mobilemedia, {\n                  fk_informationitem: resposta.data.url\n                });\n                await axios\n                  .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\n                    auth: {\n                      username: \"admin\",\n                      password: \"admin\"\n                    }\n                  })\n                  .then(function(/*resposta*/) {\n                    /*vm.moduloTitle = resposta.data.namemodule;\n                                    vm.subTitle = resposta.data.subtitle;*/\n                  });\n              });\n          }\n        } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n          /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA SEM ITEM INFO*/\n          if (this.infoExemplo) {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA SEM ITEM INFO E COM ELEMENTO INSTRUCIONAL*/\n            await axios\n              .post(\n                `http://127.0.0.1:8000/instructionalelement/`,\n                instructionalelement,\n                {\n                  auth: {\n                    username: \"admin\",\n                    password: \"admin\"\n                  }\n                }\n              )\n              .then(async function(resposta) {\n                Object.assign(mobilemedia, {\n                  fk_idinstructionalelement: resposta.data.url\n                });\n                await axios\n                  .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\n                    auth: {\n                      username: \"admin\",\n                      password: \"admin\"\n                    }\n                  })\n                  .then(function(/*resposta*/) {\n                    /*vm.moduloTitle = resposta.data.namemodule;\n                                vm.subTitle = resposta.data.subtitle;*/\n                  });\n              });\n          } else {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA SEM ITEM INFO E SEM ELEMENTO INSTRUCIONAL*/\n            await axios\n              .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              })\n              .then(function(/*resposta*/) {\n                /*vm.moduloTitle = resposta.data.namemodule;\n                                vm.subTitle = resposta.data.subtitle;*/\n              });\n          }\n        }\n      }\n    },\n    async validate() {\n      var vm = this;\n      this.infoClasse = this.infoItemClasses.findIndex(function(value) {\n        return value === vm.infoClasse;\n      });\n      this.infoLevel = this.infoItemLevels.findIndex(function(value) {\n        return value === vm.infoLevel;\n      });\n      this.infoLearning = this.infoItemLearningStyles.findIndex(function(\n        value\n      ) {\n        return value === vm.infoLearning;\n      });\n      if (this.infoExemplo === this.infoItemExemplos[1]) {\n        this.infoExemplo = \"\";\n      }\n      if (this.imagemObject) {\n        await this.postOrPutMobilemedia();\n        await this.$emit(\"close\");\n        await this.resetVariables();\n        this.viewImage = false;\n        this.imagemObject = null;\n        await this.$refs.form.reset();\n      } else {\n        this.dialog_alert = true;\n      }\n    },\n    async reset() {\n      await this.$emit(\"close\");\n      await this.resetVariables();\n      this.viewImage = false;\n      this.imagemObject = null;\n      await this.$refs.form.reset();\n    },\n    resetVariables() {\n      this.infoLevel = \"\";\n      this.infoLearning = \"\";\n      this.infoClasse = \"\";\n      this.infoExemplo = \"\";\n    },\n    getSrcImage() {\n      if (this.mobilemedia.path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(this.mobilemedia.path)\n          .getDownloadURL()\n          .then(function(url) {\n            vm.viewImageSrc = url;\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function() {\n              var blob = xhr.response;\n              const file = new File([blob], vm.mobilemedia.namefile, {\n                type: blob.type\n              });\n              vm.imagemObject = file;\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    setIconColor() {\n      if (this.mobilemedia.path) {\n        if (this.iconViewImageColor === \"grey\") {\n          this.iconViewImageColor = \"blue\";\n        } else {\n          this.iconViewImageColor = \"grey\";\n        }\n        this.viewImage = !this.viewImage;\n        /*firebase\n          .storage()\n          .ref(this.mobilemedia.path)\n          .getDownloadURL()\n          .then(function(url) {\n            window.open(url, \"_blank\");\n          });*/\n      }\n    }\n  }\n};\n</script>"]}]}