{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\AssessmentParameterDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\AssessmentParameterDialog.vue","mtime":1596743861313},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1593634550126},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1593634595918},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1593634595223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGkgZnJvbSAiQC9zZXJ2aWNlcy9BcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFzc2Vzc21lbnRQYXJhbWV0ZXJEaWFsb2ciLAogIHByb3BzOiBbImRvbWFpbiIsICJkaWFsb2ciXSwKICBkYXRhOiAoKSA9PiAoewogICAgdmFsaWQ6IHRydWUsCiAgICB0cmVlRGF0YTogW10sCiAgICBzZWxlY3Rpb246IFtdLAogICAgZWxlbWVudERhdGE6IFtdLAogICAgc2NvcG9UeXBlczogWwogICAgICB7CiAgICAgICAgdGV4dDogIkF2YWxpYcOnw6NvIiwKICAgICAgICB2YWx1ZTogMSwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJEb23DrW5pbyIsCiAgICAgICAgdmFsdWU6IDIsCiAgICAgIH0sCiAgICBdLAogICAgdHlwZXNUaHJlc2hvbGQ6IFsKICAgICAgewogICAgICAgIHRleHQ6ICJQb3JjZW50YWdlbSIsCiAgICAgICAgdmFsdWU6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiTGl0ZXJhbCIsCiAgICAgICAgdmFsdWU6IDIsCiAgICAgIH0sCiAgICBdLAogICAgdmFsdWVUeXBlczogWyJTaW5nbGUiLCAiUmFuZ2UiXSwKICAgIGFzc2Vzc21lbnRDb250cm9sOiBbXSwKICAgIGRpYWxvZ0Vycm9yOiBmYWxzZSwKICAgIG1lc3NhZ2VFcnJvcjogIiIsCiAgICBuZXdJdGVtczogW10sCiAgICBjaGVja2JveDogdHJ1ZSwKICB9KSwKICB3YXRjaDogewogICAgZG9tYWluOiBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbCA9IFtdOwogICAgICBpZiAodGhpcy5kb21haW4pIHsKICAgICAgICBhd2FpdCB0aGlzLmdldEFzc2Vzc21lbnRzKCk7CiAgICAgICAgYXdhaXQgdGhpcy5zZXREb21haW5WYXJpYWJsZXMoKTsKICAgICAgfQogICAgfSwKICAgIGRpYWxvZzogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wgPSBbXTsKICAgICAgaWYgKHRoaXMuZG9tYWluKSB7CiAgICAgICAgYXdhaXQgdGhpcy5nZXRBc3Nlc3NtZW50cygpOwogICAgICAgIGF3YWl0IHRoaXMuc2V0RG9tYWluVmFyaWFibGVzKCk7CiAgICAgIH0KICAgIH0sCiAgICBhc3Nlc3NtZW50Q29udHJvbDogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wuZm9yRWFjaCgoYXNzZXNzKSA9PiB7CiAgICAgICAgaWYgKGFzc2Vzcy52YWx1ZVR5cGUgPT09ICJTaW5nbGUiKSB7CiAgICAgICAgICBhc3Nlc3MucmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PiB7CiAgICAgICAgICAgIGlmIChyYW5nZS51cmwpIHsKICAgICAgICAgICAgICB0aGlzLmRlbGV0YVNpbmdsZShyYW5nZS51cmwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGFzc2Vzcy5yYW5nZXMgPSBbXTsKICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzcy52YWx1ZVR5cGUgPT09ICJSYW5nZSIpIHsKICAgICAgICAgIGlmIChhc3Nlc3Muc2luZ2xlLnVybCkgewogICAgICAgICAgICB0aGlzLmRlbGV0YVNpbmdsZShhc3Nlc3Muc2luZ2xlLnVybCk7CiAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0gIiI7CiAgICAgICAgICB9CiAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9ICIiOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sID0gW107CiAgICBpZiAodGhpcy5kb21haW4pIHsKICAgICAgYXdhaXQgdGhpcy5nZXRBc3Nlc3NtZW50cygpOwogICAgICBhd2FpdCB0aGlzLnNldERvbWFpblZhcmlhYmxlcygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0RG9tYWluVmFyaWFibGVzKCkgewogICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goewogICAgICAgIHRleHQ6ICJbRE9NSU5JT10gIiArIHRoaXMuZG9tYWluLm5hbWVrbm93bGVkZ2Vkb21haW4sCiAgICAgICAgdmFsdWU6IHRoaXMuZG9tYWluLnVybCwKICAgICAgfSk7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZG9tYWluLm1vZHVsZXMpICYmIHRoaXMuZG9tYWluLm1vZHVsZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5kb21haW4ubW9kdWxlcy5mb3JFYWNoKChtb2R1bG8pID0+IHsKICAgICAgICAgIGlmIChtb2R1bG8uZmtfaWRtb2R1bGUgPT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICBpZDogbW9kdWxvLnVybCwKICAgICAgICAgICAgICBuYW1lOiAiW01PRFVMT10gIiArIG1vZHVsby5uYW1lbW9kdWxlLAogICAgICAgICAgICAgIHZpc2libGU6IG1vZHVsby52aXNpYmxlLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0LmlkLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKG1vZHVsby5zdWJtb2R1bGVzLmxlbmd0aCkgewogICAgICAgICAgICAgIG1vZHVsby5zdWJtb2R1bGVzLmZvckVhY2goKHN1Ym1vZHVsbykgPT4gewogICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IHN1Ym1vZHVsby51cmwsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJbU1VCTU9EVUxPXSAiICsgc3VibW9kdWxvLm5hbWVtb2R1bGUsCiAgICAgICAgICAgICAgICAgIHZpc2libGU6IHN1Ym1vZHVsby52aXNpYmxlLAogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxvLmNvbmNlcHRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBzdWJtb2R1bG8uY29uY2VwdHMuZm9yRWFjaCgoY29uY2VpdG8pID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbmNlaXRvLnVybCwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbQ09OQ0VJVE9dICIgKyBjb25jZWl0by5uYW1lY29uY2VwdCwKICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGNvbmNlaXRvLnZpc2libGUsCiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0LmlkLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobW9kdWxvLmNvbmNlcHRzLmxlbmd0aCkgewogICAgICAgICAgICAgIG1vZHVsby5jb25jZXB0cy5mb3JFYWNoKChjb25jZWl0bykgPT4gewogICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IGNvbmNlaXRvLnVybCwKICAgICAgICAgICAgICAgICAgbmFtZTogIltDT05DRUlUT10gIiArIGNvbmNlaXRvLm5hbWVjb25jZXB0LAogICAgICAgICAgICAgICAgICB2aXNpYmxlOiBjb25jZWl0by52aXNpYmxlLAogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0QXNzZXNzbWVudHMoKSB7CiAgICAgIC8vIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmRvbWFpbikgewogICAgICAgIGlmICh0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBhc3Nlc3MgPSB7CiAgICAgICAgICAgIHR5cGVUaHJlc2hvbGQ6IHBhcnNlSW50KAogICAgICAgICAgICAgIHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udHlwZXRocmVzaG9sZC5zcGxpdCgiLyIpWzRdCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHNjb3BvOiBwYXJzZUludCgKICAgICAgICAgICAgICB0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNjb3BvLnNwbGl0KCIvIilbNF0KICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmtfZWxlbWVudDogdGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXQogICAgICAgICAgICAgIC5ma19pZGtub3dsZWRnZWRvbWFpbiwKICAgICAgICAgICAgdmFsdWVUeXBlOiAiIiwKICAgICAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICAgICAgdGhyZXNob2xkOiAiIiwKICAgICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICByYW5nZXM6IFtdLAogICAgICAgICAgICB1cmw6IHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgfTsKICAgICAgICAgIGlmICh0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiU2luZ2xlIjsKICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS50aHJlc2hvbGQgPSB0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0gdGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGVbMF0udXJsOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiUmFuZ2UiOwogICAgICAgICAgICB0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT4gewogICAgICAgICAgICAgIGFzc2Vzcy5yYW5nZXMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwKICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLAogICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wucHVzaChhc3Nlc3MpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5kb21haW4ubW9kdWxlcykgewogICAgICAgICAgdGhpcy5kb21haW4ubW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+IHsKICAgICAgICAgICAgaWYgKG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gewogICAgICAgICAgICAgICAgdHlwZVRocmVzaG9sZDogcGFyc2VJbnQoCiAgICAgICAgICAgICAgICAgIG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnR5cGV0aHJlc2hvbGQuc3BsaXQoIi8iKVs0XQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHNjb3BvOiBwYXJzZUludCgKICAgICAgICAgICAgICAgICAgbW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2NvcG8uc3BsaXQoIi8iKVs0XQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGZrX2VsZW1lbnQ6IG1vZHVsZS51cmwsCiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6ICIiLAogICAgICAgICAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogIiIsCiAgICAgICAgICAgICAgICAgIHVybDogIiIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmFuZ2VzOiBbXSwKICAgICAgICAgICAgICAgIHVybDogbW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBhc3Nlc3MudmFsdWVUeXBlID0gIlNpbmdsZSI7CiAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9CiAgICAgICAgICAgICAgICAgIG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnVybCA9CiAgICAgICAgICAgICAgICAgIG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS51cmw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJSYW5nZSI7CiAgICAgICAgICAgICAgICBtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+IHsKICAgICAgICAgICAgICAgICAgYXNzZXNzLnJhbmdlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwKICAgICAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwKICAgICAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLAogICAgICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goYXNzZXNzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobW9kdWxlLmNvbmNlcHRzKSB7CiAgICAgICAgICAgICAgbW9kdWxlLmNvbmNlcHRzLmZvckVhY2goKG1vZHVsZUNvbmNlcHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gewogICAgICAgICAgICAgICAgICAgIHR5cGVUaHJlc2hvbGQ6IHBhcnNlSW50KAogICAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnR5cGV0aHJlc2hvbGQuc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICIvIgogICAgICAgICAgICAgICAgICAgICAgKVs0XQogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgc2NvcG86IHBhcnNlSW50KAogICAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNjb3BvLnNwbGl0KCIvIilbNF0KICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIGZrX2VsZW1lbnQ6IG1vZHVsZUNvbmNlcHQudXJsLAogICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogIiIsCiAgICAgICAgICAgICAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6ICIiLAogICAgICAgICAgICAgICAgICAgICAgdXJsOiAiIiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHJhbmdlczogW10sCiAgICAgICAgICAgICAgICAgICAgdXJsOiBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwCiAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiU2luZ2xlIjsKICAgICAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9CiAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnRocmVzaG9sZDsKICAgICAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnVybCA9CiAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0ucmFuZ2VzLmxlbmd0aCA+IDAKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJSYW5nZSI7CiAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5mb3JFYWNoKAogICAgICAgICAgICAgICAgICAgICAgKHJhbmdlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5yYW5nZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJhbmdlLnVybCwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goYXNzZXNzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobW9kdWxlLnN1Ym1vZHVsZXMpIHsKICAgICAgICAgICAgICBtb2R1bGUuc3VibW9kdWxlcy5mb3JFYWNoKChzdWJtb2R1bGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIHZhciBhc3Nlc3MgPSB7CiAgICAgICAgICAgICAgICAgICAgdHlwZVRocmVzaG9sZDogcGFyc2VJbnQoCiAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS50eXBldGhyZXNob2xkLnNwbGl0KAogICAgICAgICAgICAgICAgICAgICAgICAiLyIKICAgICAgICAgICAgICAgICAgICAgIClbNF0KICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIHNjb3BvOiBwYXJzZUludCgKICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNjb3BvLnNwbGl0KCIvIilbNF0KICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIGZrX2VsZW1lbnQ6IHN1Ym1vZHVsZS51cmwsCiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiAiIiwKICAgICAgICAgICAgICAgICAgICBzaW5nbGU6IHsKICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogIiIsCiAgICAgICAgICAgICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzOiBbXSwKICAgICAgICAgICAgICAgICAgICB1cmw6IHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnVybCwKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgaWYgKHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJTaW5nbGUiOwogICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudGhyZXNob2xkID0KICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS51cmwgPQogICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMubGVuZ3RoID4gMAogICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBhc3Nlc3MudmFsdWVUeXBlID0gIlJhbmdlIjsKICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMuZm9yRWFjaCgKICAgICAgICAgICAgICAgICAgICAgIChyYW5nZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBhc3Nlc3MucmFuZ2VzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVyYW5nZTogcmFuZ2UubmFtZXJhbmdlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0dmFsdWU6IHJhbmdlLmxpbWl0dmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByYW5nZS51cmwsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5wdXNoKGFzc2Vzcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxlLmNvbmNlcHRzKSB7CiAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5jb25jZXB0cy5mb3JFYWNoKChzdWJtb2R1bGVDb25jZXB0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlVGhyZXNob2xkOiBwYXJzZUludCgKICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udHlwZXRocmVzaG9sZC5zcGxpdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIvIgogICAgICAgICAgICAgICAgICAgICAgICAgIClbNF0KICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgc2NvcG86IHBhcnNlSW50KAogICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zY29wby5zcGxpdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIvIgogICAgICAgICAgICAgICAgICAgICAgICAgIClbNF0KICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgZmtfZWxlbWVudDogc3VibW9kdWxlQ29uY2VwdC51cmwsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZQogICAgICAgICAgICAgICAgICAgICAgICAgIC5sZW5ndGggPiAwCiAgICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJTaW5nbGUiOwogICAgICAgICAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0KICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAubGVuZ3RoID4gMAogICAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiUmFuZ2UiOwogICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0ucmFuZ2VzLmZvckVhY2goCiAgICAgICAgICAgICAgICAgICAgICAgICAgKHJhbmdlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3Nlc3MucmFuZ2VzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0dmFsdWU6IHJhbmdlLmxpbWl0dmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5wdXNoKGFzc2Vzcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgcG9zdEFzc2Vzc21lbnQoKSB7CiAgICAgIGF3YWl0IHRoaXMuYXNzZXNzbWVudENvbnRyb2wuZm9yRWFjaChhc3luYyAoYXNzZXNzbWVudCkgPT4gewogICAgICAgIHZhciBhdXhBc3Nlc3NtZW50ID0gewogICAgICAgICAgdHlwZXRocmVzaG9sZDogYC90eXBldGhyZXNob2xkL2AgKyBhc3Nlc3NtZW50LnR5cGVUaHJlc2hvbGQgKyBgL2AsCiAgICAgICAgICBzY29wbzogYC9zY29wby9gICsgYXNzZXNzbWVudC5zY29wbyArIGAvYCwKICAgICAgICAgIGZrX2lka25vd2xlZGdlZG9tYWluOiBudWxsLAogICAgICAgICAgZmtfaWRtb2R1bGU6IG51bGwsCiAgICAgICAgICBma19pZGNvbmNlcHQ6IG51bGwsCiAgICAgICAgfTsKICAgICAgICBpZiAoYXNzZXNzbWVudC5ma19lbGVtZW50LnNwbGl0KCIvIilbM10gPT09ICJrbm93bGVkZ2Vkb21haW4iKSB7CiAgICAgICAgICBhdXhBc3Nlc3NtZW50LmZrX2lka25vd2xlZGdlZG9tYWluID0gYXNzZXNzbWVudC5ma19lbGVtZW50OwogICAgICAgIH0gZWxzZSBpZiAoYXNzZXNzbWVudC5ma19lbGVtZW50LnNwbGl0KCIvIilbM10gPT09ICJtb2R1bGUiKSB7CiAgICAgICAgICBhdXhBc3Nlc3NtZW50LmZrX2lkbW9kdWxlID0gYXNzZXNzbWVudC5ma19lbGVtZW50OwogICAgICAgIH0gZWxzZSBpZiAoYXNzZXNzbWVudC5ma19lbGVtZW50LnNwbGl0KCIvIilbM10gPT09ICJjb25jZXB0IikgewogICAgICAgICAgYXV4QXNzZXNzbWVudC5ma19pZGNvbmNlcHQgPSBhc3Nlc3NtZW50LmZrX2VsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoYXNzZXNzbWVudC51cmwpIHsKICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgIC5wdXQoYXNzZXNzbWVudC51cmwsIGF1eEFzc2Vzc21lbnQpCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgaWYgKGFzc2Vzc21lbnQudmFsdWVUeXBlID09PSAiU2luZ2xlIikgewogICAgICAgICAgICAgICAgaWYgKGFzc2Vzc21lbnQucmFuZ2VzKSB7CiAgICAgICAgICAgICAgICAgIGFzc2Vzc21lbnQucmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnVybCkgewogICAgICAgICAgICAgICAgICAgICAgQXBpKCkuZGVsZXRlKHJhbmdlLnVybCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGF3YWl0IEFwaSgpLnB1dChhc3Nlc3NtZW50LnNpbmdsZS51cmwsIHsKICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiBhc3Nlc3NtZW50LnNpbmdsZS50aHJlc2hvbGQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzc21lbnQudmFsdWVUeXBlID09PSAiUmFuZ2UiKSB7CiAgICAgICAgICAgICAgICBpZiAoYXNzZXNzbWVudC5zaW5nbGUudXJsKSB7CiAgICAgICAgICAgICAgICAgIEFwaSgpLmRlbGV0ZShhc3Nlc3NtZW50LnNpbmdsZS51cmwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXNzZXNzbWVudC5yYW5nZXMuZm9yRWFjaChhc3luYyAocmFuZ2UpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnVybCkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IEFwaSgpLnB1dChyYW5nZS51cmwsIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWVyYW5nZTogcmFuZ2UubmFtZXJhbmdlLAogICAgICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wb3N0KCIvcmFuZ2UvIiwgewogICAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsCiAgICAgICAgICAgICAgICAgICAgICBma19pZGFzc2Vzc21lbnRwYXJhbWV0ZXI6IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucG9zdCgiL2Fzc2Vzc21lbnRwYXJhbWV0ZXIvIiwgYXV4QXNzZXNzbWVudCkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBpZiAoYXNzZXNzbWVudC52YWx1ZVR5cGUgPT09ICJTaW5nbGUiKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wb3N0KCIvc2luZ2xlLyIsIHsKICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiBhc3Nlc3NtZW50LnNpbmdsZS50aHJlc2hvbGQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzc21lbnQudmFsdWVUeXBlID09PSAiUmFuZ2UiKSB7CiAgICAgICAgICAgICAgICBhc3Nlc3NtZW50LnJhbmdlcy5mb3JFYWNoKGFzeW5jIChyYW5nZSkgPT4gewogICAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wb3N0KCIvcmFuZ2UvIiwgewogICAgICAgICAgICAgICAgICAgIG5hbWVyYW5nZTogcmFuZ2UubmFtZXJhbmdlLAogICAgICAgICAgICAgICAgICAgIGZrX2lkYXNzZXNzbWVudHBhcmFtZXRlcjogcmVzcG9zdGEuZGF0YS51cmwsCiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkUmFuZ2UoaWRBc3Nlc3NtZW50KSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS5yYW5nZXMucHVzaCh7CiAgICAgICAgbmFtZXJhbmdlOiAiIiwKICAgICAgICBpbml0aWFsdmFsdWU6ICIiLAogICAgICAgIGxpbWl0dmFsdWU6ICIiLAogICAgICAgIHVybDogIiIsCiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGRlbGV0YVJhbmdlKGlkQXNzZXNzbWVudCwgaWRSYW5nZSkgewogICAgICBpZiAodGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnJhbmdlc1tpZFJhbmdlXS51cmwpIHsKICAgICAgICBBcGkoKS5kZWxldGUoCiAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzW2lkUmFuZ2VdLnVybAogICAgICAgICk7CiAgICAgIH0KICAgICAgaWYgKGlkUmFuZ2UgPT0gMCkgewogICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS5yYW5nZXMuc2hpZnQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzLnNwbGljZShpZFJhbmdlLCAxKTsKICAgICAgfQogICAgfSwKICAgIGFkZEFzc2Vzc21lbnQoKSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wucHVzaCh7CiAgICAgICAgdHlwZVRocmVzaG9sZDogIiIsCiAgICAgICAgc2NvcG86ICIiLAogICAgICAgIGZrX2VsZW1lbnQ6ICIiLAogICAgICAgIHZhbHVlVHlwZTogIiIsCiAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICB0aHJlc2hvbGQ6ICIiLAogICAgICAgICAgdXJsOiAiIiwKICAgICAgICB9LAogICAgICAgIHJhbmdlczogW10sCiAgICAgICAgdXJsOiAiIiwKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZGVsZXRhQXNzZXNzbWVudChpZEFzc2Vzc21lbnQpIHsKICAgICAgaWYgKHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS51cmwgIT09IG51bGwpIHsKICAgICAgICBhd2FpdCBBcGkoKS5kZWxldGUodGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnVybCk7CiAgICAgIH0KICAgICAgaWYgKGlkQXNzZXNzbWVudCA9PSAwKSB7CiAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5zaGlmdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wuc3BsaWNlKGlkQXNzZXNzbWVudCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGFTaW5nbGUodXJsU2luZ2xlKSB7CiAgICAgIGF3YWl0IEFwaSgpLmRlbGV0ZSh1cmxTaW5nbGUpOwogICAgfSwKICAgIGFzeW5jIHZhbGlkYXRlKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB2YXIgYXV4TG9vcFZhbGlkYXRpb24gPSAxOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmFzc2Vzc21lbnRDb250cm9sLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2ldLmZrX2VsZW1lbnQgPT09CiAgICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2pdLmZrX2VsZW1lbnQgJiYKICAgICAgICAgICAgICBpICE9PSBqCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGF1eExvb3BWYWxpZGF0aW9uID0gMDsKICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvciA9CiAgICAgICAgICAgICAgICAiTsOjbyBwb2RlIGV4aXN0aXIgbWFpcyBkZSB1bSBwYXLDom1ldHJvIGRlIGF2YWxpYcOnw6NvIHBhcmEgbyBtZXNtbyBlbGVtZW50by4gVmVyaWZpcXVlIG9zIHBhcsOibWV0cm9zIGRlIGF2YWxpYcOnw6NvICIgKwogICAgICAgICAgICAgICAgKGogKyAxKSArCiAgICAgICAgICAgICAgICAiIGUgIiArCiAgICAgICAgICAgICAgICAoaSArIDEpICsKICAgICAgICAgICAgICAgICIuIjsKICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoYXV4TG9vcFZhbGlkYXRpb24gPT09IDEpIHsKICAgICAgICAgIGF3YWl0IHRoaXMucG9zdEFzc2Vzc21lbnQoKTsKICAgICAgICAgIGF3YWl0IHRoaXMucHV0VmlzaWJsZSgpOwogICAgICAgICAgYXdhaXQgdGhpcy5yZXNldFZhcmlhYmxlcygpOwogICAgICAgICAgYXdhaXQgdGhpcy4kZW1pdCgiY2xvc2Vfb3Jfc2F2ZSIsICJzYXZlIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlX29yX3NhdmUiLCAiY2xvc2UiKTsKICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbCA9IFtdOwogICAgfSwKICAgIHJlc2V0VmFyaWFibGVzKCkgewogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sID0gW107CiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AssessmentParameterDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AssessmentParameterDialog.vue","sourceRoot":"src/components/didatic_model","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-card-title style=\"background-color:purple; color:white;\">\r\n      <span class=\"headline\">\r\n        <p>Defina as informações equivalentes aos parâmetros de avaliação.</p>\r\n      </span>\r\n    </v-card-title>\r\n    <v-row class=\"mx-0 px-0\">\r\n      <v-row class=\"mx-0 px-0 pl-6\">\r\n        <h3 class=\"mt-5\">Parâmetros de avaliação</h3>\r\n        <v-btn icon=\"icon\" class=\"mb-1\">\r\n          <v-icon\r\n            large\r\n            class=\"mt-9 ml-2\"\r\n            color=\"primary\"\r\n            @click=\"addAssessment()\"\r\n            >mdi-plus-box</v-icon\r\n          >\r\n        </v-btn>\r\n      </v-row>\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-row\r\n          v-for=\"(assessment, i) in assessmentControl\"\r\n          :key=\"i\"\r\n          style=\"margin-bottom: -20px;\"\r\n          class=\"mx-0 px-0 pl-6\"\r\n        >\r\n          <v-col cols=\"2\">\r\n            <v-select\r\n              v-model=\"assessmentControl[i].scopo\"\r\n              :items=\"scopoTypes\"\r\n              :rules=\"[(v) => !!v || 'Conceito é requerido']\"\r\n              label=\"Scopo\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"3\">\r\n            <v-select\r\n              v-model=\"assessmentControl[i].fk_element\"\r\n              :items=\"elementData\"\r\n              :rules=\"[(v) => !!v || 'O tipo do conceito é requerido']\"\r\n              label=\"Elemento\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"3\">\r\n            <v-select\r\n              v-model=\"assessmentControl[i].typeThreshold\"\r\n              :items=\"typesThreshold\"\r\n              :rules=\"[(v) => !!v || 'O tipo do conceito é requerido']\"\r\n              label=\"Tipo de Threshold\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"2\">\r\n            <v-select\r\n              style=\"margin-top: -1px;\"\r\n              v-model=\"assessmentControl[i].valueType\"\r\n              :items=\"valueTypes\"\r\n              :rules=\"[(v) => !!v || 'O tipo de dado é requerido']\"\r\n              label=\"Tipo de Dado\"\r\n              required\r\n            ></v-select>\r\n            <v-text-field\r\n              style=\"margin-top: -1px; margin-bottom: -10px;\"\r\n              v-if=\"assessmentControl[i].valueType === 'Single'\"\r\n              v-model=\"assessmentControl[i].single.threshold\"\r\n              label=\"Valor\"\r\n              :suffix=\"assessmentControl[i].typeThreshold === 1 ? '%' : ''\"\r\n              required\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"2\" class=\"mt-2\">\r\n            <v-btn\r\n              icon=\"icon\"\r\n              class=\"mb-1\"\r\n              v-if=\"assessmentControl[i].valueType === 'Range'\"\r\n            >\r\n              <v-icon large class=\"mb-1\" color=\"primary\" @click=\"addRange(i)\"\r\n                >mdi-plus-box</v-icon\r\n              >\r\n            </v-btn>\r\n            <v-btn icon=\"icon\" class=\"mb-1\">\r\n              <v-icon\r\n                large\r\n                class=\"mb-1\"\r\n                color=\"red\"\r\n                @click=\"deletaAssessment(i)\"\r\n                >mdi-minus-box</v-icon\r\n              >\r\n            </v-btn>\r\n          </v-col>\r\n          <v-row\r\n            v-if=\"assessmentControl[i].valueType === 'Single'\"\r\n            style=\"margin-top: -40px;\"\r\n          >\r\n            <v-col cols=\"7\"></v-col>\r\n            <v-col cols=\"2\" class=\"ml-10\"></v-col>\r\n          </v-row>\r\n          <div v-else>\r\n            <v-row\r\n              v-for=\"(range, idRange) in assessment.ranges\"\r\n              :key=\"idRange\"\r\n              style=\"margin-top: -30px;\"\r\n            >\r\n              <v-col cols=\"4\"></v-col>\r\n              <v-col cols=\"3\">\r\n                <v-text-field\r\n                  v-model=\"assessmentControl[i].ranges[idRange].namerange\"\r\n                  counter=\"15\"\r\n                  label=\"Nome do range\"\r\n                  style=\"margin:0px;\"\r\n                  required\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"2\">\r\n                <v-text-field\r\n                  v-model=\"assessmentControl[i].ranges[idRange].initialvalue\"\r\n                  label=\"Valor inicial\"\r\n                  style=\"margin:0px;\"\r\n                  type=\"number\"\r\n                  :suffix=\"assessmentControl[i].typeThreshold === 1 ? '%' : ''\"\r\n                  required\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"2\">\r\n                <v-text-field\r\n                  v-model=\"assessmentControl[i].ranges[idRange].limitvalue\"\r\n                  label=\"Valor Limite\"\r\n                  style=\"margin:0px;\"\r\n                  type=\"number\"\r\n                  :suffix=\"assessmentControl[i].typeThreshold === 1 ? '%' : ''\"\r\n                  required\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"1\">\r\n                <v-btn icon=\"icon\" class=\"mt-4\">\r\n                  <v-icon\r\n                    large\r\n                    class=\"mb-1\"\r\n                    color=\"red\"\r\n                    @click=\"deletaRange(i, idRange)\"\r\n                    >mdi-minus-box</v-icon\r\n                  >\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </div>\r\n        </v-row>\r\n      </v-form>\r\n    </v-row>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\r\n        Cancelar\r\n        <v-icon dark right>mdi-close</v-icon>\r\n      </v-btn>\r\n      <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\r\n        Salvar\r\n        <v-icon dark right>mdi-content-save</v-icon>\r\n      </v-btn>\r\n    </v-card-actions>\r\n    <div class=\"text-center\">\r\n      <v-dialog v-model=\"dialogError\" width=\"500\">\r\n        <v-card>\r\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\"\r\n            >ALERTA!</v-card-title\r\n          >\r\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">{{\r\n            messageError\r\n          }}</v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn color=\"primary\" text @click=\"dialogError = false\">Ok</v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n  import Api from \"@/services/Api\";\r\n  export default {\r\n    name: \"AssessmentParameterDialog\",\r\n    props: [\"domain\", \"dialog\"],\r\n    data: () => ({\r\n      valid: true,\r\n      treeData: [],\r\n      selection: [],\r\n      elementData: [],\r\n      scopoTypes: [\r\n        {\r\n          text: \"Avaliação\",\r\n          value: 1,\r\n        },\r\n        {\r\n          text: \"Domínio\",\r\n          value: 2,\r\n        },\r\n      ],\r\n      typesThreshold: [\r\n        {\r\n          text: \"Porcentagem\",\r\n          value: 1,\r\n        },\r\n        {\r\n          text: \"Literal\",\r\n          value: 2,\r\n        },\r\n      ],\r\n      valueTypes: [\"Single\", \"Range\"],\r\n      assessmentControl: [],\r\n      dialogError: false,\r\n      messageError: \"\",\r\n      newItems: [],\r\n      checkbox: true,\r\n    }),\r\n    watch: {\r\n      domain: async function() {\r\n        this.assessmentControl = [];\r\n        if (this.domain) {\r\n          await this.getAssessments();\r\n          await this.setDomainVariables();\r\n        }\r\n      },\r\n      dialog: async function() {\r\n        this.assessmentControl = [];\r\n        if (this.domain) {\r\n          await this.getAssessments();\r\n          await this.setDomainVariables();\r\n        }\r\n      },\r\n      assessmentControl: function() {\r\n        this.assessmentControl.forEach((assess) => {\r\n          if (assess.valueType === \"Single\") {\r\n            assess.ranges.forEach((range) => {\r\n              if (range.url) {\r\n                this.deletaSingle(range.url);\r\n              }\r\n            });\r\n            assess.ranges = [];\r\n          } else if (assess.valueType === \"Range\") {\r\n            if (assess.single.url) {\r\n              this.deletaSingle(assess.single.url);\r\n              assess.single.url = \"\";\r\n            }\r\n            assess.single.threshold = \"\";\r\n          }\r\n        });\r\n      },\r\n    },\r\n    mounted: async function() {\r\n      this.assessmentControl = [];\r\n      if (this.domain) {\r\n        await this.getAssessments();\r\n        await this.setDomainVariables();\r\n      }\r\n    },\r\n    methods: {\r\n      setDomainVariables() {\r\n        this.elementData.push({\r\n          text: \"[DOMINIO] \" + this.domain.nameknowledgedomain,\r\n          value: this.domain.url,\r\n        });\r\n        if (Array.isArray(this.domain.modules) && this.domain.modules.length) {\r\n          this.domain.modules.forEach((modulo) => {\r\n            if (modulo.fk_idmodule === null) {\r\n              var object = {\r\n                id: modulo.url,\r\n                name: \"[MODULO] \" + modulo.namemodule,\r\n                visible: modulo.visible,\r\n                children: [],\r\n              };\r\n              this.elementData.push({\r\n                text: object.name,\r\n                value: object.id,\r\n              });\r\n              if (modulo.submodules.length) {\r\n                modulo.submodules.forEach((submodulo) => {\r\n                  var object = {\r\n                    id: submodulo.url,\r\n                    name: \"[SUBMODULO] \" + submodulo.namemodule,\r\n                    visible: submodulo.visible,\r\n                    children: [],\r\n                  };\r\n                  this.elementData.push({\r\n                    text: object.name,\r\n                    value: object.id,\r\n                  });\r\n\r\n                  if (submodulo.concepts.length) {\r\n                    submodulo.concepts.forEach((conceito) => {\r\n                      var object = {\r\n                        id: conceito.url,\r\n                        name: \"[CONCEITO] \" + conceito.nameconcept,\r\n                        visible: conceito.visible,\r\n                        children: [],\r\n                      };\r\n                      this.elementData.push({\r\n                        text: object.name,\r\n                        value: object.id,\r\n                      });\r\n                    });\r\n                  }\r\n                });\r\n              }\r\n              if (modulo.concepts.length) {\r\n                modulo.concepts.forEach((conceito) => {\r\n                  var object = {\r\n                    id: conceito.url,\r\n                    name: \"[CONCEITO] \" + conceito.nameconcept,\r\n                    visible: conceito.visible,\r\n                    children: [],\r\n                  };\r\n                  this.elementData.push({\r\n                    text: object.name,\r\n                    value: object.id,\r\n                  });\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }\r\n      },\r\n      getAssessments() {\r\n        // var vm = this;\r\n        if (this.domain) {\r\n          if (this.domain.assessmentparameter.length > 0) {\r\n            var assess = {\r\n              typeThreshold: parseInt(\r\n                this.domain.assessmentparameter[0].typethreshold.split(\"/\")[4]\r\n              ),\r\n              scopo: parseInt(\r\n                this.domain.assessmentparameter[0].scopo.split(\"/\")[4]\r\n              ),\r\n              fk_element: this.domain.assessmentparameter[0]\r\n                .fk_idknowledgedomain,\r\n              valueType: \"\",\r\n              single: {\r\n                threshold: \"\",\r\n                url: \"\",\r\n              },\r\n              ranges: [],\r\n              url: this.domain.assessmentparameter[0].url,\r\n            };\r\n            if (this.domain.assessmentparameter[0].single.length > 0) {\r\n              assess.valueType = \"Single\";\r\n              assess.single.threshold = this.domain.assessmentparameter[0].single[0].threshold;\r\n              assess.single.url = this.domain.assessmentparameter[0].single[0].url;\r\n            } else if (this.domain.assessmentparameter[0].ranges.length > 0) {\r\n              assess.valueType = \"Range\";\r\n              this.domain.assessmentparameter[0].ranges.forEach((range) => {\r\n                assess.ranges.push({\r\n                  namerange: range.namerange,\r\n                  initialvalue: range.initialvalue,\r\n                  limitvalue: range.limitvalue,\r\n                  url: range.url,\r\n                });\r\n              });\r\n            }\r\n            this.assessmentControl.push(assess);\r\n          }\r\n          if (this.domain.modules) {\r\n            this.domain.modules.forEach((module) => {\r\n              if (module.assessmentparameter.length > 0) {\r\n                var assess = {\r\n                  typeThreshold: parseInt(\r\n                    module.assessmentparameter[0].typethreshold.split(\"/\")[4]\r\n                  ),\r\n                  scopo: parseInt(\r\n                    module.assessmentparameter[0].scopo.split(\"/\")[4]\r\n                  ),\r\n                  fk_element: module.url,\r\n                  valueType: \"\",\r\n                  single: {\r\n                    threshold: \"\",\r\n                    url: \"\",\r\n                  },\r\n                  ranges: [],\r\n                  url: module.assessmentparameter[0].url,\r\n                };\r\n                if (module.assessmentparameter[0].single.length > 0) {\r\n                  assess.valueType = \"Single\";\r\n                  assess.single.threshold =\r\n                    module.assessmentparameter[0].single[0].threshold;\r\n                  assess.single.url =\r\n                    module.assessmentparameter[0].single[0].url;\r\n                } else if (module.assessmentparameter[0].ranges.length > 0) {\r\n                  assess.valueType = \"Range\";\r\n                  module.assessmentparameter[0].ranges.forEach((range) => {\r\n                    assess.ranges.push({\r\n                      namerange: range.namerange,\r\n                      initialvalue: range.initialvalue,\r\n                      limitvalue: range.limitvalue,\r\n                      url: range.url,\r\n                    });\r\n                  });\r\n                }\r\n                this.assessmentControl.push(assess);\r\n              }\r\n              if (module.concepts) {\r\n                module.concepts.forEach((moduleConcept) => {\r\n                  if (moduleConcept.assessmentparameter.length > 0) {\r\n                    var assess = {\r\n                      typeThreshold: parseInt(\r\n                        moduleConcept.assessmentparameter[0].typethreshold.split(\r\n                          \"/\"\r\n                        )[4]\r\n                      ),\r\n                      scopo: parseInt(\r\n                        moduleConcept.assessmentparameter[0].scopo.split(\"/\")[4]\r\n                      ),\r\n                      fk_element: moduleConcept.url,\r\n                      valueType: \"\",\r\n                      single: {\r\n                        threshold: \"\",\r\n                        url: \"\",\r\n                      },\r\n                      ranges: [],\r\n                      url: moduleConcept.assessmentparameter[0].url,\r\n                    };\r\n                    if (\r\n                      moduleConcept.assessmentparameter[0].single.length > 0\r\n                    ) {\r\n                      assess.valueType = \"Single\";\r\n                      assess.single.threshold =\r\n                        moduleConcept.assessmentparameter[0].single[0].threshold;\r\n                      assess.single.url =\r\n                        moduleConcept.assessmentparameter[0].single[0].url;\r\n                    } else if (\r\n                      moduleConcept.assessmentparameter[0].ranges.length > 0\r\n                    ) {\r\n                      assess.valueType = \"Range\";\r\n                      moduleConcept.assessmentparameter[0].ranges.forEach(\r\n                        (range) => {\r\n                          assess.ranges.push({\r\n                            namerange: range.namerange,\r\n                            initialvalue: range.initialvalue,\r\n                            limitvalue: range.limitvalue,\r\n                            url: range.url,\r\n                          });\r\n                        }\r\n                      );\r\n                    }\r\n                    this.assessmentControl.push(assess);\r\n                  }\r\n                });\r\n              }\r\n              if (module.submodules) {\r\n                module.submodules.forEach((submodule) => {\r\n                  if (submodule.assessmentparameter.length > 0) {\r\n                    var assess = {\r\n                      typeThreshold: parseInt(\r\n                        submodule.assessmentparameter[0].typethreshold.split(\r\n                          \"/\"\r\n                        )[4]\r\n                      ),\r\n                      scopo: parseInt(\r\n                        submodule.assessmentparameter[0].scopo.split(\"/\")[4]\r\n                      ),\r\n                      fk_element: submodule.url,\r\n                      valueType: \"\",\r\n                      single: {\r\n                        threshold: \"\",\r\n                        url: \"\",\r\n                      },\r\n                      ranges: [],\r\n                      url: submodule.assessmentparameter[0].url,\r\n                    };\r\n                    if (submodule.assessmentparameter[0].single.length > 0) {\r\n                      assess.valueType = \"Single\";\r\n                      assess.single.threshold =\r\n                        submodule.assessmentparameter[0].single[0].threshold;\r\n                      assess.single.url =\r\n                        submodule.assessmentparameter[0].single[0].url;\r\n                    } else if (\r\n                      submodule.assessmentparameter[0].ranges.length > 0\r\n                    ) {\r\n                      assess.valueType = \"Range\";\r\n                      submodule.assessmentparameter[0].ranges.forEach(\r\n                        (range) => {\r\n                          assess.ranges.push({\r\n                            namerange: range.namerange,\r\n                            initialvalue: range.initialvalue,\r\n                            limitvalue: range.limitvalue,\r\n                            url: range.url,\r\n                          });\r\n                        }\r\n                      );\r\n                    }\r\n                    this.assessmentControl.push(assess);\r\n                  }\r\n                  if (submodule.concepts) {\r\n                    submodule.concepts.forEach((submoduleConcept) => {\r\n                      if (submoduleConcept.assessmentparameter.length > 0) {\r\n                        var assess = {\r\n                          typeThreshold: parseInt(\r\n                            submoduleConcept.assessmentparameter[0].typethreshold.split(\r\n                              \"/\"\r\n                            )[4]\r\n                          ),\r\n                          scopo: parseInt(\r\n                            submoduleConcept.assessmentparameter[0].scopo.split(\r\n                              \"/\"\r\n                            )[4]\r\n                          ),\r\n                          fk_element: submoduleConcept.url,\r\n                          valueType: \"\",\r\n                          single: {\r\n                            threshold: \"\",\r\n                            url: \"\",\r\n                          },\r\n                          ranges: [],\r\n                          url: submoduleConcept.assessmentparameter[0].url,\r\n                        };\r\n                        if (\r\n                          submoduleConcept.assessmentparameter[0].single\r\n                            .length > 0\r\n                        ) {\r\n                          assess.valueType = \"Single\";\r\n                          assess.single.threshold =\r\n                            submoduleConcept.assessmentparameter[0].single[0].threshold;\r\n                          assess.single.url =\r\n                            submoduleConcept.assessmentparameter[0].single[0].url;\r\n                        } else if (\r\n                          submoduleConcept.assessmentparameter[0].ranges\r\n                            .length > 0\r\n                        ) {\r\n                          assess.valueType = \"Range\";\r\n                          submoduleConcept.assessmentparameter[0].ranges.forEach(\r\n                            (range) => {\r\n                              assess.ranges.push({\r\n                                namerange: range.namerange,\r\n                                initialvalue: range.initialvalue,\r\n                                limitvalue: range.limitvalue,\r\n                                url: range.url,\r\n                              });\r\n                            }\r\n                          );\r\n                        }\r\n                        this.assessmentControl.push(assess);\r\n                      }\r\n                    });\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      },\r\n      async postAssessment() {\r\n        await this.assessmentControl.forEach(async (assessment) => {\r\n          var auxAssessment = {\r\n            typethreshold: `/typethreshold/` + assessment.typeThreshold + `/`,\r\n            scopo: `/scopo/` + assessment.scopo + `/`,\r\n            fk_idknowledgedomain: null,\r\n            fk_idmodule: null,\r\n            fk_idconcept: null,\r\n          };\r\n          if (assessment.fk_element.split(\"/\")[3] === \"knowledgedomain\") {\r\n            auxAssessment.fk_idknowledgedomain = assessment.fk_element;\r\n          } else if (assessment.fk_element.split(\"/\")[3] === \"module\") {\r\n            auxAssessment.fk_idmodule = assessment.fk_element;\r\n          } else if (assessment.fk_element.split(\"/\")[3] === \"concept\") {\r\n            auxAssessment.fk_idconcept = assessment.fk_element;\r\n          }\r\n\r\n          if (assessment.url) {\r\n            await Api()\r\n              .put(assessment.url, auxAssessment)\r\n              .then(async function(resposta) {\r\n                if (assessment.valueType === \"Single\") {\r\n                  if (assessment.ranges) {\r\n                    assessment.ranges.forEach((range) => {\r\n                      if (range.url) {\r\n                        Api().delete(range.url);\r\n                      }\r\n                    });\r\n                  }\r\n                  await Api().put(assessment.single.url, {\r\n                    fk_idassessmentparameter: resposta.data.url,\r\n                    threshold: assessment.single.threshold,\r\n                  });\r\n                } else if (assessment.valueType === \"Range\") {\r\n                  if (assessment.single.url) {\r\n                    Api().delete(assessment.single.url);\r\n                  }\r\n                  assessment.ranges.forEach(async (range) => {\r\n                    if (range.url) {\r\n                      await Api().put(range.url, {\r\n                        namerange: range.namerange,\r\n                        fk_idassessmentparameter: resposta.data.url,\r\n                        initialvalue: range.initialvalue,\r\n                        limitvalue: range.limitvalue,\r\n                      });\r\n                    } else {\r\n                      await Api().post(\"/range/\", {\r\n                        namerange: range.namerange,\r\n                        fk_idassessmentparameter: resposta.data.url,\r\n                        initialvalue: range.initialvalue,\r\n                        limitvalue: range.limitvalue,\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n              });\r\n          } else {\r\n            await Api()\r\n              .post(\"/assessmentparameter/\", auxAssessment)\r\n              .then(async function(resposta) {\r\n                if (assessment.valueType === \"Single\") {\r\n                  await Api().post(\"/single/\", {\r\n                    fk_idassessmentparameter: resposta.data.url,\r\n                    threshold: assessment.single.threshold,\r\n                  });\r\n                } else if (assessment.valueType === \"Range\") {\r\n                  assessment.ranges.forEach(async (range) => {\r\n                    await Api().post(\"/range/\", {\r\n                      namerange: range.namerange,\r\n                      fk_idassessmentparameter: resposta.data.url,\r\n                      initialvalue: range.initialvalue,\r\n                      limitvalue: range.limitvalue,\r\n                    });\r\n                  });\r\n                }\r\n              });\r\n          }\r\n        });\r\n      },\r\n      addRange(idAssessment) {\r\n        this.assessmentControl[idAssessment].ranges.push({\r\n          namerange: \"\",\r\n          initialvalue: \"\",\r\n          limitvalue: \"\",\r\n          url: \"\",\r\n        });\r\n      },\r\n      async deletaRange(idAssessment, idRange) {\r\n        if (this.assessmentControl[idAssessment].ranges[idRange].url) {\r\n          Api().delete(\r\n            this.assessmentControl[idAssessment].ranges[idRange].url\r\n          );\r\n        }\r\n        if (idRange == 0) {\r\n          this.assessmentControl[idAssessment].ranges.shift();\r\n        } else {\r\n          this.assessmentControl[idAssessment].ranges.splice(idRange, 1);\r\n        }\r\n      },\r\n      addAssessment() {\r\n        this.assessmentControl.push({\r\n          typeThreshold: \"\",\r\n          scopo: \"\",\r\n          fk_element: \"\",\r\n          valueType: \"\",\r\n          single: {\r\n            threshold: \"\",\r\n            url: \"\",\r\n          },\r\n          ranges: [],\r\n          url: \"\",\r\n        });\r\n      },\r\n      async deletaAssessment(idAssessment) {\r\n        if (this.assessmentControl[idAssessment].url !== null) {\r\n          await Api().delete(this.assessmentControl[idAssessment].url);\r\n        }\r\n        if (idAssessment == 0) {\r\n          this.assessmentControl.shift();\r\n        } else {\r\n          this.assessmentControl.splice(idAssessment, 1);\r\n        }\r\n      },\r\n      async deletaSingle(urlSingle) {\r\n        await Api().delete(urlSingle);\r\n      },\r\n      async validate() {\r\n        if (this.$refs.form.validate()) {\r\n          var auxLoopValidation = 1;\r\n          for (var i = 0; i < this.assessmentControl.length; i++) {\r\n            for (var j = 0; j < this.assessmentControl.length; j++) {\r\n              if (\r\n                this.assessmentControl[i].fk_element ===\r\n                  this.assessmentControl[j].fk_element &&\r\n                i !== j\r\n              ) {\r\n                auxLoopValidation = 0;\r\n                this.messageError =\r\n                  \"Não pode existir mais de um parâmetro de avaliação para o mesmo elemento. Verifique os parâmetros de avaliação \" +\r\n                  (j + 1) +\r\n                  \" e \" +\r\n                  (i + 1) +\r\n                  \".\";\r\n                this.dialogError = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (auxLoopValidation === 1) {\r\n            await this.postAssessment();\r\n            await this.putVisible();\r\n            await this.resetVariables();\r\n            await this.$emit(\"close_or_save\", \"save\");\r\n          }\r\n        }\r\n      },\r\n      reset() {\r\n        this.$emit(\"close_or_save\", \"close\");\r\n        this.assessmentControl = [];\r\n      },\r\n      resetVariables() {\r\n        this.assessmentControl = [];\r\n      },\r\n      resetValidation() {\r\n        this.$refs.form.resetValidation();\r\n      },\r\n    },\r\n  };\r\n</script>\r\n"]}]}