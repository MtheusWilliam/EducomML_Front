{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\AssessmentParameterDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\AssessmentParameterDialog.vue","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1597353521000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGkgZnJvbSAiQC9zZXJ2aWNlcy9BcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFzc2Vzc21lbnRQYXJhbWV0ZXJEaWFsb2ciLAogIHByb3BzOiBbImRvbWFpbiIsICJkaWFsb2ciXSwKICBkYXRhOiAoKSA9PiAoewogICAgdmFsaWQ6IHRydWUsCiAgICB0cmVlRGF0YTogW10sCiAgICBzZWxlY3Rpb246IFtdLAogICAgZWxlbWVudERhdGE6IFtdLAogICAgc2NvcG9UeXBlczogWwogICAgICB7CiAgICAgICAgdGV4dDogIkF2YWxpYcOnw6NvIiwKICAgICAgICB2YWx1ZTogMSwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJEb23DrW5pbyIsCiAgICAgICAgdmFsdWU6IDIsCiAgICAgIH0sCiAgICBdLAogICAgdHlwZXNUaHJlc2hvbGQ6IFsKICAgICAgewogICAgICAgIHRleHQ6ICJQb3JjZW50YWdlbSIsCiAgICAgICAgdmFsdWU6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiTGl0ZXJhbCIsCiAgICAgICAgdmFsdWU6IDIsCiAgICAgIH0sCiAgICBdLAogICAgdmFsdWVUeXBlczogWyJTaW5nbGUiLCAiUmFuZ2UiXSwKICAgIGFzc2Vzc21lbnRDb250cm9sOiBbXSwKICAgIGRpYWxvZ0Vycm9yOiBmYWxzZSwKICAgIG1lc3NhZ2VFcnJvcjogIiIsCiAgICBuZXdJdGVtczogW10sCiAgICBjaGVja2JveDogdHJ1ZSwKICB9KSwKICB3YXRjaDogewogICAgZG9tYWluOiBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbCA9IFtdOwogICAgICBpZiAodGhpcy5kb21haW4pIHsKICAgICAgICBhd2FpdCB0aGlzLmdldEFzc2Vzc21lbnRzKCk7CiAgICAgICAgYXdhaXQgdGhpcy5zZXREb21haW5WYXJpYWJsZXMoKTsKICAgICAgfQogICAgfSwKICAgIGRpYWxvZzogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wgPSBbXTsKICAgICAgaWYgKHRoaXMuZG9tYWluKSB7CiAgICAgICAgYXdhaXQgdGhpcy5nZXRBc3Nlc3NtZW50cygpOwogICAgICAgIGF3YWl0IHRoaXMuc2V0RG9tYWluVmFyaWFibGVzKCk7CiAgICAgIH0KICAgIH0sCiAgICBhc3Nlc3NtZW50Q29udHJvbDogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wuZm9yRWFjaCgoYXNzZXNzKSA9PiB7CiAgICAgICAgaWYgKGFzc2Vzcy52YWx1ZVR5cGUgPT09ICJTaW5nbGUiKSB7CiAgICAgICAgICBhc3Nlc3MucmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PiB7CiAgICAgICAgICAgIGlmIChyYW5nZS51cmwpIHsKICAgICAgICAgICAgICB0aGlzLmRlbGV0YVNpbmdsZShyYW5nZS51cmwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGFzc2Vzcy5yYW5nZXMgPSBbXTsKICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzcy52YWx1ZVR5cGUgPT09ICJSYW5nZSIpIHsKICAgICAgICAgIGlmIChhc3Nlc3Muc2luZ2xlLnVybCkgewogICAgICAgICAgICB0aGlzLmRlbGV0YVNpbmdsZShhc3Nlc3Muc2luZ2xlLnVybCk7CiAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0gIiI7CiAgICAgICAgICB9CiAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9ICIiOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sID0gW107CiAgICBpZiAodGhpcy5kb21haW4pIHsKICAgICAgYXdhaXQgdGhpcy5nZXRBc3Nlc3NtZW50cygpOwogICAgICBhd2FpdCB0aGlzLnNldERvbWFpblZhcmlhYmxlcygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0RG9tYWluVmFyaWFibGVzKCkgewogICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goewogICAgICAgIHRleHQ6ICJbRE9NSU5JT10gIiArIHRoaXMuZG9tYWluLm5hbWVrbm93bGVkZ2Vkb21haW4sCiAgICAgICAgdmFsdWU6IHRoaXMuZG9tYWluLnVybCwKICAgICAgfSk7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZG9tYWluLm1vZHVsZXMpICYmIHRoaXMuZG9tYWluLm1vZHVsZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5kb21haW4ubW9kdWxlcy5mb3JFYWNoKChtb2R1bG8pID0+IHsKICAgICAgICAgIGlmIChtb2R1bG8uZmtfaWRtb2R1bGUgPT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICBpZDogbW9kdWxvLnVybCwKICAgICAgICAgICAgICBuYW1lOiAiW01PRFVMT10gIiArIG1vZHVsby5uYW1lbW9kdWxlLAogICAgICAgICAgICAgIHZpc2libGU6IG1vZHVsby52aXNpYmxlLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0LmlkLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKG1vZHVsby5zdWJtb2R1bGVzLmxlbmd0aCkgewogICAgICAgICAgICAgIG1vZHVsby5zdWJtb2R1bGVzLmZvckVhY2goKHN1Ym1vZHVsbykgPT4gewogICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IHN1Ym1vZHVsby51cmwsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJbU1VCTU9EVUxPXSAiICsgc3VibW9kdWxvLm5hbWVtb2R1bGUsCiAgICAgICAgICAgICAgICAgIHZpc2libGU6IHN1Ym1vZHVsby52aXNpYmxlLAogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxvLmNvbmNlcHRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBzdWJtb2R1bG8uY29uY2VwdHMuZm9yRWFjaCgoY29uY2VpdG8pID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbmNlaXRvLnVybCwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbQ09OQ0VJVE9dICIgKyBjb25jZWl0by5uYW1lY29uY2VwdCwKICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGNvbmNlaXRvLnZpc2libGUsCiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0LmlkLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobW9kdWxvLmNvbmNlcHRzLmxlbmd0aCkgewogICAgICAgICAgICAgIG1vZHVsby5jb25jZXB0cy5mb3JFYWNoKChjb25jZWl0bykgPT4gewogICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IGNvbmNlaXRvLnVybCwKICAgICAgICAgICAgICAgICAgbmFtZTogIltDT05DRUlUT10gIiArIGNvbmNlaXRvLm5hbWVjb25jZXB0LAogICAgICAgICAgICAgICAgICB2aXNpYmxlOiBjb25jZWl0by52aXNpYmxlLAogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0QXNzZXNzbWVudHMoKSB7CiAgICAgIC8vIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmRvbWFpbikgewogICAgICAgIGlmICh0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBhc3Nlc3MgPSB7CiAgICAgICAgICAgIHR5cGVUaHJlc2hvbGQ6IHBhcnNlSW50KAogICAgICAgICAgICAgIHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udHlwZXRocmVzaG9sZC5zcGxpdCgiLyIpWzRdCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHNjb3BvOiBwYXJzZUludCgKICAgICAgICAgICAgICB0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNjb3BvLnNwbGl0KCIvIilbNF0KICAgICAgICAgICAgKSwKICAgICAgICAgICAgZmtfZWxlbWVudDogdGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXQogICAgICAgICAgICAgIC5ma19pZGtub3dsZWRnZWRvbWFpbiwKICAgICAgICAgICAgdmFsdWVUeXBlOiAiIiwKICAgICAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICAgICAgdGhyZXNob2xkOiAiIiwKICAgICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICByYW5nZXM6IFtdLAogICAgICAgICAgICB1cmw6IHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgfTsKICAgICAgICAgIGlmICh0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiU2luZ2xlIjsKICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS50aHJlc2hvbGQgPSB0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0gdGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGVbMF0udXJsOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiUmFuZ2UiOwogICAgICAgICAgICB0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT4gewogICAgICAgICAgICAgIGFzc2Vzcy5yYW5nZXMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwKICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLAogICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wucHVzaChhc3Nlc3MpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5kb21haW4ubW9kdWxlcykgewogICAgICAgICAgdGhpcy5kb21haW4ubW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+IHsKICAgICAgICAgICAgaWYgKG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gewogICAgICAgICAgICAgICAgdHlwZVRocmVzaG9sZDogcGFyc2VJbnQoCiAgICAgICAgICAgICAgICAgIG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnR5cGV0aHJlc2hvbGQuc3BsaXQoIi8iKVs0XQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHNjb3BvOiBwYXJzZUludCgKICAgICAgICAgICAgICAgICAgbW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2NvcG8uc3BsaXQoIi8iKVs0XQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGZrX2VsZW1lbnQ6IG1vZHVsZS51cmwsCiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6ICIiLAogICAgICAgICAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogIiIsCiAgICAgICAgICAgICAgICAgIHVybDogIiIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmFuZ2VzOiBbXSwKICAgICAgICAgICAgICAgIHVybDogbW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBhc3Nlc3MudmFsdWVUeXBlID0gIlNpbmdsZSI7CiAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9CiAgICAgICAgICAgICAgICAgIG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnVybCA9CiAgICAgICAgICAgICAgICAgIG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS51cmw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJSYW5nZSI7CiAgICAgICAgICAgICAgICBtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+IHsKICAgICAgICAgICAgICAgICAgYXNzZXNzLnJhbmdlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwKICAgICAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwKICAgICAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLAogICAgICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goYXNzZXNzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobW9kdWxlLmNvbmNlcHRzKSB7CiAgICAgICAgICAgICAgbW9kdWxlLmNvbmNlcHRzLmZvckVhY2goKG1vZHVsZUNvbmNlcHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gewogICAgICAgICAgICAgICAgICAgIHR5cGVUaHJlc2hvbGQ6IHBhcnNlSW50KAogICAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnR5cGV0aHJlc2hvbGQuc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgICAgICIvIgogICAgICAgICAgICAgICAgICAgICAgKVs0XQogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgc2NvcG86IHBhcnNlSW50KAogICAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNjb3BvLnNwbGl0KCIvIilbNF0KICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIGZrX2VsZW1lbnQ6IG1vZHVsZUNvbmNlcHQudXJsLAogICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogIiIsCiAgICAgICAgICAgICAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6ICIiLAogICAgICAgICAgICAgICAgICAgICAgdXJsOiAiIiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHJhbmdlczogW10sCiAgICAgICAgICAgICAgICAgICAgdXJsOiBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwCiAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiU2luZ2xlIjsKICAgICAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9CiAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnRocmVzaG9sZDsKICAgICAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnVybCA9CiAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0ucmFuZ2VzLmxlbmd0aCA+IDAKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJSYW5nZSI7CiAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5mb3JFYWNoKAogICAgICAgICAgICAgICAgICAgICAgKHJhbmdlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5yYW5nZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJhbmdlLnVybCwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goYXNzZXNzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobW9kdWxlLnN1Ym1vZHVsZXMpIHsKICAgICAgICAgICAgICBtb2R1bGUuc3VibW9kdWxlcy5mb3JFYWNoKChzdWJtb2R1bGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIHZhciBhc3Nlc3MgPSB7CiAgICAgICAgICAgICAgICAgICAgdHlwZVRocmVzaG9sZDogcGFyc2VJbnQoCiAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS50eXBldGhyZXNob2xkLnNwbGl0KAogICAgICAgICAgICAgICAgICAgICAgICAiLyIKICAgICAgICAgICAgICAgICAgICAgIClbNF0KICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIHNjb3BvOiBwYXJzZUludCgKICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNjb3BvLnNwbGl0KCIvIilbNF0KICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIGZrX2VsZW1lbnQ6IHN1Ym1vZHVsZS51cmwsCiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiAiIiwKICAgICAgICAgICAgICAgICAgICBzaW5nbGU6IHsKICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogIiIsCiAgICAgICAgICAgICAgICAgICAgICB1cmw6ICIiLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzOiBbXSwKICAgICAgICAgICAgICAgICAgICB1cmw6IHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnVybCwKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgaWYgKHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJTaW5nbGUiOwogICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudGhyZXNob2xkID0KICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS51cmwgPQogICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMubGVuZ3RoID4gMAogICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBhc3Nlc3MudmFsdWVUeXBlID0gIlJhbmdlIjsKICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMuZm9yRWFjaCgKICAgICAgICAgICAgICAgICAgICAgIChyYW5nZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBhc3Nlc3MucmFuZ2VzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVyYW5nZTogcmFuZ2UubmFtZXJhbmdlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0dmFsdWU6IHJhbmdlLmxpbWl0dmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByYW5nZS51cmwsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5wdXNoKGFzc2Vzcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxlLmNvbmNlcHRzKSB7CiAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5jb25jZXB0cy5mb3JFYWNoKChzdWJtb2R1bGVDb25jZXB0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlVGhyZXNob2xkOiBwYXJzZUludCgKICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udHlwZXRocmVzaG9sZC5zcGxpdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIvIgogICAgICAgICAgICAgICAgICAgICAgICAgIClbNF0KICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgc2NvcG86IHBhcnNlSW50KAogICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zY29wby5zcGxpdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIvIgogICAgICAgICAgICAgICAgICAgICAgICAgIClbNF0KICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgZmtfZWxlbWVudDogc3VibW9kdWxlQ29uY2VwdC51cmwsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLAogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZQogICAgICAgICAgICAgICAgICAgICAgICAgIC5sZW5ndGggPiAwCiAgICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJTaW5nbGUiOwogICAgICAgICAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0KICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAubGVuZ3RoID4gMAogICAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiUmFuZ2UiOwogICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0ucmFuZ2VzLmZvckVhY2goCiAgICAgICAgICAgICAgICAgICAgICAgICAgKHJhbmdlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3Nlc3MucmFuZ2VzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0dmFsdWU6IHJhbmdlLmxpbWl0dmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5wdXNoKGFzc2Vzcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgcG9zdEFzc2Vzc21lbnQoKSB7CiAgICAgIGF3YWl0IHRoaXMuYXNzZXNzbWVudENvbnRyb2wuZm9yRWFjaChhc3luYyAoYXNzZXNzbWVudCkgPT4gewogICAgICAgIHZhciBhdXhBc3Nlc3NtZW50ID0gewogICAgICAgICAgdHlwZXRocmVzaG9sZDogYC90eXBldGhyZXNob2xkL2AgKyBhc3Nlc3NtZW50LnR5cGVUaHJlc2hvbGQgKyBgL2AsCiAgICAgICAgICBzY29wbzogYC9zY29wby9gICsgYXNzZXNzbWVudC5zY29wbyArIGAvYCwKICAgICAgICAgIGZrX2lka25vd2xlZGdlZG9tYWluOiBudWxsLAogICAgICAgICAgZmtfaWRtb2R1bGU6IG51bGwsCiAgICAgICAgICBma19pZGNvbmNlcHQ6IG51bGwsCiAgICAgICAgfTsKICAgICAgICBpZiAoYXNzZXNzbWVudC5ma19lbGVtZW50LnNwbGl0KCIvIilbM10gPT09ICJrbm93bGVkZ2Vkb21haW4iKSB7CiAgICAgICAgICBhdXhBc3Nlc3NtZW50LmZrX2lka25vd2xlZGdlZG9tYWluID0gYXNzZXNzbWVudC5ma19lbGVtZW50OwogICAgICAgIH0gZWxzZSBpZiAoYXNzZXNzbWVudC5ma19lbGVtZW50LnNwbGl0KCIvIilbM10gPT09ICJtb2R1bGUiKSB7CiAgICAgICAgICBhdXhBc3Nlc3NtZW50LmZrX2lkbW9kdWxlID0gYXNzZXNzbWVudC5ma19lbGVtZW50OwogICAgICAgIH0gZWxzZSBpZiAoYXNzZXNzbWVudC5ma19lbGVtZW50LnNwbGl0KCIvIilbM10gPT09ICJjb25jZXB0IikgewogICAgICAgICAgYXV4QXNzZXNzbWVudC5ma19pZGNvbmNlcHQgPSBhc3Nlc3NtZW50LmZrX2VsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoYXNzZXNzbWVudC51cmwpIHsKICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgIC5wdXQoYXNzZXNzbWVudC51cmwsIGF1eEFzc2Vzc21lbnQpCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgaWYgKGFzc2Vzc21lbnQudmFsdWVUeXBlID09PSAiU2luZ2xlIikgewogICAgICAgICAgICAgICAgaWYgKGFzc2Vzc21lbnQucmFuZ2VzKSB7CiAgICAgICAgICAgICAgICAgIGFzc2Vzc21lbnQucmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnVybCkgewogICAgICAgICAgICAgICAgICAgICAgQXBpKCkuZGVsZXRlKHJhbmdlLnVybCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGF3YWl0IEFwaSgpLnB1dChhc3Nlc3NtZW50LnNpbmdsZS51cmwsIHsKICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiBhc3Nlc3NtZW50LnNpbmdsZS50aHJlc2hvbGQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzc21lbnQudmFsdWVUeXBlID09PSAiUmFuZ2UiKSB7CiAgICAgICAgICAgICAgICBpZiAoYXNzZXNzbWVudC5zaW5nbGUudXJsKSB7CiAgICAgICAgICAgICAgICAgIEFwaSgpLmRlbGV0ZShhc3Nlc3NtZW50LnNpbmdsZS51cmwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXNzZXNzbWVudC5yYW5nZXMuZm9yRWFjaChhc3luYyAocmFuZ2UpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnVybCkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IEFwaSgpLnB1dChyYW5nZS51cmwsIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWVyYW5nZTogcmFuZ2UubmFtZXJhbmdlLAogICAgICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wb3N0KCIvcmFuZ2UvIiwgewogICAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsCiAgICAgICAgICAgICAgICAgICAgICBma19pZGFzc2Vzc21lbnRwYXJhbWV0ZXI6IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucG9zdCgiL2Fzc2Vzc21lbnRwYXJhbWV0ZXIvIiwgYXV4QXNzZXNzbWVudCkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBpZiAoYXNzZXNzbWVudC52YWx1ZVR5cGUgPT09ICJTaW5nbGUiKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wb3N0KCIvc2luZ2xlLyIsIHsKICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiBhc3Nlc3NtZW50LnNpbmdsZS50aHJlc2hvbGQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzc21lbnQudmFsdWVUeXBlID09PSAiUmFuZ2UiKSB7CiAgICAgICAgICAgICAgICBhc3Nlc3NtZW50LnJhbmdlcy5mb3JFYWNoKGFzeW5jIChyYW5nZSkgPT4gewogICAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wb3N0KCIvcmFuZ2UvIiwgewogICAgICAgICAgICAgICAgICAgIG5hbWVyYW5nZTogcmFuZ2UubmFtZXJhbmdlLAogICAgICAgICAgICAgICAgICAgIGZrX2lkYXNzZXNzbWVudHBhcmFtZXRlcjogcmVzcG9zdGEuZGF0YS51cmwsCiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkUmFuZ2UoaWRBc3Nlc3NtZW50KSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS5yYW5nZXMucHVzaCh7CiAgICAgICAgbmFtZXJhbmdlOiAiIiwKICAgICAgICBpbml0aWFsdmFsdWU6ICIiLAogICAgICAgIGxpbWl0dmFsdWU6ICIiLAogICAgICAgIHVybDogIiIsCiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGRlbGV0YVJhbmdlKGlkQXNzZXNzbWVudCwgaWRSYW5nZSkgewogICAgICBpZiAodGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnJhbmdlc1tpZFJhbmdlXS51cmwpIHsKICAgICAgICBBcGkoKS5kZWxldGUoCiAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzW2lkUmFuZ2VdLnVybAogICAgICAgICk7CiAgICAgIH0KICAgICAgaWYgKGlkUmFuZ2UgPT0gMCkgewogICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS5yYW5nZXMuc2hpZnQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzLnNwbGljZShpZFJhbmdlLCAxKTsKICAgICAgfQogICAgfSwKICAgIGFkZEFzc2Vzc21lbnQoKSB7CiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wucHVzaCh7CiAgICAgICAgdHlwZVRocmVzaG9sZDogIiIsCiAgICAgICAgc2NvcG86ICIiLAogICAgICAgIGZrX2VsZW1lbnQ6ICIiLAogICAgICAgIHZhbHVlVHlwZTogIiIsCiAgICAgICAgc2luZ2xlOiB7CiAgICAgICAgICB0aHJlc2hvbGQ6ICIiLAogICAgICAgICAgdXJsOiAiIiwKICAgICAgICB9LAogICAgICAgIHJhbmdlczogW10sCiAgICAgICAgdXJsOiAiIiwKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZGVsZXRhQXNzZXNzbWVudChpZEFzc2Vzc21lbnQpIHsKICAgICAgaWYgKHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS51cmwgIT09IG51bGwpIHsKICAgICAgICBhd2FpdCBBcGkoKS5kZWxldGUodGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnVybCk7CiAgICAgIH0KICAgICAgaWYgKGlkQXNzZXNzbWVudCA9PSAwKSB7CiAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5zaGlmdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wuc3BsaWNlKGlkQXNzZXNzbWVudCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGFTaW5nbGUodXJsU2luZ2xlKSB7CiAgICAgIGF3YWl0IEFwaSgpLmRlbGV0ZSh1cmxTaW5nbGUpOwogICAgfSwKICAgIGFzeW5jIHZhbGlkYXRlKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB2YXIgYXV4TG9vcFZhbGlkYXRpb24gPSAxOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmFzc2Vzc21lbnRDb250cm9sLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2ldLmZrX2VsZW1lbnQgPT09CiAgICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2pdLmZrX2VsZW1lbnQgJiYKICAgICAgICAgICAgICBpICE9PSBqCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGF1eExvb3BWYWxpZGF0aW9uID0gMDsKICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvciA9CiAgICAgICAgICAgICAgICAiTsOjbyBwb2RlIGV4aXN0aXIgbWFpcyBkZSB1bSBwYXLDom1ldHJvIGRlIGF2YWxpYcOnw6NvIHBhcmEgbyBtZXNtbyBlbGVtZW50by4gVmVyaWZpcXVlIG9zIHBhcsOibWV0cm9zIGRlIGF2YWxpYcOnw6NvICIgKwogICAgICAgICAgICAgICAgKGogKyAxKSArCiAgICAgICAgICAgICAgICAiIGUgIiArCiAgICAgICAgICAgICAgICAoaSArIDEpICsKICAgICAgICAgICAgICAgICIuIjsKICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoYXV4TG9vcFZhbGlkYXRpb24gPT09IDEpIHsKICAgICAgICAgIGF3YWl0IHRoaXMucG9zdEFzc2Vzc21lbnQoKTsKICAgICAgICAgIGF3YWl0IHRoaXMucHV0VmlzaWJsZSgpOwogICAgICAgICAgYXdhaXQgdGhpcy5yZXNldFZhcmlhYmxlcygpOwogICAgICAgICAgYXdhaXQgdGhpcy4kZW1pdCgiY2xvc2Vfb3Jfc2F2ZSIsICJzYXZlIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlX29yX3NhdmUiLCAiY2xvc2UiKTsKICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbCA9IFtdOwogICAgfSwKICAgIHJlc2V0VmFyaWFibGVzKCkgewogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sID0gW107CiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AssessmentParameterDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AssessmentParameterDialog.vue","sourceRoot":"src/components/didatic_model","sourcesContent":["<template>\n  <v-card>\n    <v-card-title style=\"background-color:purple; color:white;\">\n      <span class=\"headline\">\n        <p>Defina as informações equivalentes aos parâmetros de avaliação.</p>\n      </span>\n    </v-card-title>\n    <v-row class=\"mx-0 px-0\">\n      <v-row class=\"mx-0 px-0 pl-6\">\n        <h3 class=\"mt-5\">Parâmetros de avaliação</h3>\n        <v-btn icon=\"icon\" class=\"mb-1\">\n          <v-icon\n            large\n            class=\"mt-9 ml-2\"\n            color=\"primary\"\n            @click=\"addAssessment()\"\n            >mdi-plus-box</v-icon\n          >\n        </v-btn>\n      </v-row>\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-row\n          v-for=\"(assessment, i) in assessmentControl\"\n          :key=\"i\"\n          style=\"margin-bottom: -20px;\"\n          class=\"mx-0 px-0 pl-6\"\n        >\n          <v-col cols=\"2\">\n            <v-select\n              v-model=\"assessmentControl[i].scopo\"\n              :items=\"scopoTypes\"\n              :rules=\"[(v) => !!v || 'Conceito é requerido']\"\n              label=\"Scopo\"\n              style=\"margin:0px;\"\n              required\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-select\n              v-model=\"assessmentControl[i].fk_element\"\n              :items=\"elementData\"\n              :rules=\"[(v) => !!v || 'O tipo do conceito é requerido']\"\n              label=\"Elemento\"\n              style=\"margin:0px;\"\n              required\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-select\n              v-model=\"assessmentControl[i].typeThreshold\"\n              :items=\"typesThreshold\"\n              :rules=\"[(v) => !!v || 'O tipo do conceito é requerido']\"\n              label=\"Tipo de Threshold\"\n              style=\"margin:0px;\"\n              required\n            ></v-select>\n          </v-col>\n          <v-col cols=\"2\">\n            <v-select\n              style=\"margin-top: -1px;\"\n              v-model=\"assessmentControl[i].valueType\"\n              :items=\"valueTypes\"\n              :rules=\"[(v) => !!v || 'O tipo de dado é requerido']\"\n              label=\"Tipo de Dado\"\n              required\n            ></v-select>\n            <v-text-field\n              style=\"margin-top: -1px; margin-bottom: -10px;\"\n              v-if=\"assessmentControl[i].valueType === 'Single'\"\n              v-model=\"assessmentControl[i].single.threshold\"\n              label=\"Valor\"\n              :suffix=\"assessmentControl[i].typeThreshold === 1 ? '%' : ''\"\n              required\n            ></v-text-field>\n          </v-col>\n\n          <v-col cols=\"2\" class=\"mt-2\">\n            <v-btn\n              icon=\"icon\"\n              class=\"mb-1\"\n              v-if=\"assessmentControl[i].valueType === 'Range'\"\n            >\n              <v-icon large class=\"mb-1\" color=\"primary\" @click=\"addRange(i)\"\n                >mdi-plus-box</v-icon\n              >\n            </v-btn>\n            <v-btn icon=\"icon\" class=\"mb-1\">\n              <v-icon\n                large\n                class=\"mb-1\"\n                color=\"red\"\n                @click=\"deletaAssessment(i)\"\n                >mdi-minus-box</v-icon\n              >\n            </v-btn>\n          </v-col>\n          <v-row\n            v-if=\"assessmentControl[i].valueType === 'Single'\"\n            style=\"margin-top: -40px;\"\n          >\n            <v-col cols=\"7\"></v-col>\n            <v-col cols=\"2\" class=\"ml-10\"></v-col>\n          </v-row>\n          <div v-else>\n            <v-row\n              v-for=\"(range, idRange) in assessment.ranges\"\n              :key=\"idRange\"\n              style=\"margin-top: -30px;\"\n            >\n              <v-col cols=\"4\"></v-col>\n              <v-col cols=\"3\">\n                <v-text-field\n                  v-model=\"assessmentControl[i].ranges[idRange].namerange\"\n                  counter=\"15\"\n                  label=\"Nome do range\"\n                  style=\"margin:0px;\"\n                  required\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"2\">\n                <v-text-field\n                  v-model=\"assessmentControl[i].ranges[idRange].initialvalue\"\n                  label=\"Valor inicial\"\n                  style=\"margin:0px;\"\n                  type=\"number\"\n                  :suffix=\"assessmentControl[i].typeThreshold === 1 ? '%' : ''\"\n                  required\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"2\">\n                <v-text-field\n                  v-model=\"assessmentControl[i].ranges[idRange].limitvalue\"\n                  label=\"Valor Limite\"\n                  style=\"margin:0px;\"\n                  type=\"number\"\n                  :suffix=\"assessmentControl[i].typeThreshold === 1 ? '%' : ''\"\n                  required\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"1\">\n                <v-btn icon=\"icon\" class=\"mt-4\">\n                  <v-icon\n                    large\n                    class=\"mb-1\"\n                    color=\"red\"\n                    @click=\"deletaRange(i, idRange)\"\n                    >mdi-minus-box</v-icon\n                  >\n                </v-btn>\n              </v-col>\n            </v-row>\n          </div>\n        </v-row>\n      </v-form>\n    </v-row>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\n        Cancelar\n        <v-icon dark right>mdi-close</v-icon>\n      </v-btn>\n      <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\n        Salvar\n        <v-icon dark right>mdi-content-save</v-icon>\n      </v-btn>\n    </v-card-actions>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialogError\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\"\n            >ALERTA!</v-card-title\n          >\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">{{\n            messageError\n          }}</v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialogError = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-card>\n</template>\n\n<script>\n  import Api from \"@/services/Api\";\n  export default {\n    name: \"AssessmentParameterDialog\",\n    props: [\"domain\", \"dialog\"],\n    data: () => ({\n      valid: true,\n      treeData: [],\n      selection: [],\n      elementData: [],\n      scopoTypes: [\n        {\n          text: \"Avaliação\",\n          value: 1,\n        },\n        {\n          text: \"Domínio\",\n          value: 2,\n        },\n      ],\n      typesThreshold: [\n        {\n          text: \"Porcentagem\",\n          value: 1,\n        },\n        {\n          text: \"Literal\",\n          value: 2,\n        },\n      ],\n      valueTypes: [\"Single\", \"Range\"],\n      assessmentControl: [],\n      dialogError: false,\n      messageError: \"\",\n      newItems: [],\n      checkbox: true,\n    }),\n    watch: {\n      domain: async function() {\n        this.assessmentControl = [];\n        if (this.domain) {\n          await this.getAssessments();\n          await this.setDomainVariables();\n        }\n      },\n      dialog: async function() {\n        this.assessmentControl = [];\n        if (this.domain) {\n          await this.getAssessments();\n          await this.setDomainVariables();\n        }\n      },\n      assessmentControl: function() {\n        this.assessmentControl.forEach((assess) => {\n          if (assess.valueType === \"Single\") {\n            assess.ranges.forEach((range) => {\n              if (range.url) {\n                this.deletaSingle(range.url);\n              }\n            });\n            assess.ranges = [];\n          } else if (assess.valueType === \"Range\") {\n            if (assess.single.url) {\n              this.deletaSingle(assess.single.url);\n              assess.single.url = \"\";\n            }\n            assess.single.threshold = \"\";\n          }\n        });\n      },\n    },\n    mounted: async function() {\n      this.assessmentControl = [];\n      if (this.domain) {\n        await this.getAssessments();\n        await this.setDomainVariables();\n      }\n    },\n    methods: {\n      setDomainVariables() {\n        this.elementData.push({\n          text: \"[DOMINIO] \" + this.domain.nameknowledgedomain,\n          value: this.domain.url,\n        });\n        if (Array.isArray(this.domain.modules) && this.domain.modules.length) {\n          this.domain.modules.forEach((modulo) => {\n            if (modulo.fk_idmodule === null) {\n              var object = {\n                id: modulo.url,\n                name: \"[MODULO] \" + modulo.namemodule,\n                visible: modulo.visible,\n                children: [],\n              };\n              this.elementData.push({\n                text: object.name,\n                value: object.id,\n              });\n              if (modulo.submodules.length) {\n                modulo.submodules.forEach((submodulo) => {\n                  var object = {\n                    id: submodulo.url,\n                    name: \"[SUBMODULO] \" + submodulo.namemodule,\n                    visible: submodulo.visible,\n                    children: [],\n                  };\n                  this.elementData.push({\n                    text: object.name,\n                    value: object.id,\n                  });\n\n                  if (submodulo.concepts.length) {\n                    submodulo.concepts.forEach((conceito) => {\n                      var object = {\n                        id: conceito.url,\n                        name: \"[CONCEITO] \" + conceito.nameconcept,\n                        visible: conceito.visible,\n                        children: [],\n                      };\n                      this.elementData.push({\n                        text: object.name,\n                        value: object.id,\n                      });\n                    });\n                  }\n                });\n              }\n              if (modulo.concepts.length) {\n                modulo.concepts.forEach((conceito) => {\n                  var object = {\n                    id: conceito.url,\n                    name: \"[CONCEITO] \" + conceito.nameconcept,\n                    visible: conceito.visible,\n                    children: [],\n                  };\n                  this.elementData.push({\n                    text: object.name,\n                    value: object.id,\n                  });\n                });\n              }\n            }\n          });\n        }\n      },\n      getAssessments() {\n        // var vm = this;\n        if (this.domain) {\n          if (this.domain.assessmentparameter.length > 0) {\n            var assess = {\n              typeThreshold: parseInt(\n                this.domain.assessmentparameter[0].typethreshold.split(\"/\")[4]\n              ),\n              scopo: parseInt(\n                this.domain.assessmentparameter[0].scopo.split(\"/\")[4]\n              ),\n              fk_element: this.domain.assessmentparameter[0]\n                .fk_idknowledgedomain,\n              valueType: \"\",\n              single: {\n                threshold: \"\",\n                url: \"\",\n              },\n              ranges: [],\n              url: this.domain.assessmentparameter[0].url,\n            };\n            if (this.domain.assessmentparameter[0].single.length > 0) {\n              assess.valueType = \"Single\";\n              assess.single.threshold = this.domain.assessmentparameter[0].single[0].threshold;\n              assess.single.url = this.domain.assessmentparameter[0].single[0].url;\n            } else if (this.domain.assessmentparameter[0].ranges.length > 0) {\n              assess.valueType = \"Range\";\n              this.domain.assessmentparameter[0].ranges.forEach((range) => {\n                assess.ranges.push({\n                  namerange: range.namerange,\n                  initialvalue: range.initialvalue,\n                  limitvalue: range.limitvalue,\n                  url: range.url,\n                });\n              });\n            }\n            this.assessmentControl.push(assess);\n          }\n          if (this.domain.modules) {\n            this.domain.modules.forEach((module) => {\n              if (module.assessmentparameter.length > 0) {\n                var assess = {\n                  typeThreshold: parseInt(\n                    module.assessmentparameter[0].typethreshold.split(\"/\")[4]\n                  ),\n                  scopo: parseInt(\n                    module.assessmentparameter[0].scopo.split(\"/\")[4]\n                  ),\n                  fk_element: module.url,\n                  valueType: \"\",\n                  single: {\n                    threshold: \"\",\n                    url: \"\",\n                  },\n                  ranges: [],\n                  url: module.assessmentparameter[0].url,\n                };\n                if (module.assessmentparameter[0].single.length > 0) {\n                  assess.valueType = \"Single\";\n                  assess.single.threshold =\n                    module.assessmentparameter[0].single[0].threshold;\n                  assess.single.url =\n                    module.assessmentparameter[0].single[0].url;\n                } else if (module.assessmentparameter[0].ranges.length > 0) {\n                  assess.valueType = \"Range\";\n                  module.assessmentparameter[0].ranges.forEach((range) => {\n                    assess.ranges.push({\n                      namerange: range.namerange,\n                      initialvalue: range.initialvalue,\n                      limitvalue: range.limitvalue,\n                      url: range.url,\n                    });\n                  });\n                }\n                this.assessmentControl.push(assess);\n              }\n              if (module.concepts) {\n                module.concepts.forEach((moduleConcept) => {\n                  if (moduleConcept.assessmentparameter.length > 0) {\n                    var assess = {\n                      typeThreshold: parseInt(\n                        moduleConcept.assessmentparameter[0].typethreshold.split(\n                          \"/\"\n                        )[4]\n                      ),\n                      scopo: parseInt(\n                        moduleConcept.assessmentparameter[0].scopo.split(\"/\")[4]\n                      ),\n                      fk_element: moduleConcept.url,\n                      valueType: \"\",\n                      single: {\n                        threshold: \"\",\n                        url: \"\",\n                      },\n                      ranges: [],\n                      url: moduleConcept.assessmentparameter[0].url,\n                    };\n                    if (\n                      moduleConcept.assessmentparameter[0].single.length > 0\n                    ) {\n                      assess.valueType = \"Single\";\n                      assess.single.threshold =\n                        moduleConcept.assessmentparameter[0].single[0].threshold;\n                      assess.single.url =\n                        moduleConcept.assessmentparameter[0].single[0].url;\n                    } else if (\n                      moduleConcept.assessmentparameter[0].ranges.length > 0\n                    ) {\n                      assess.valueType = \"Range\";\n                      moduleConcept.assessmentparameter[0].ranges.forEach(\n                        (range) => {\n                          assess.ranges.push({\n                            namerange: range.namerange,\n                            initialvalue: range.initialvalue,\n                            limitvalue: range.limitvalue,\n                            url: range.url,\n                          });\n                        }\n                      );\n                    }\n                    this.assessmentControl.push(assess);\n                  }\n                });\n              }\n              if (module.submodules) {\n                module.submodules.forEach((submodule) => {\n                  if (submodule.assessmentparameter.length > 0) {\n                    var assess = {\n                      typeThreshold: parseInt(\n                        submodule.assessmentparameter[0].typethreshold.split(\n                          \"/\"\n                        )[4]\n                      ),\n                      scopo: parseInt(\n                        submodule.assessmentparameter[0].scopo.split(\"/\")[4]\n                      ),\n                      fk_element: submodule.url,\n                      valueType: \"\",\n                      single: {\n                        threshold: \"\",\n                        url: \"\",\n                      },\n                      ranges: [],\n                      url: submodule.assessmentparameter[0].url,\n                    };\n                    if (submodule.assessmentparameter[0].single.length > 0) {\n                      assess.valueType = \"Single\";\n                      assess.single.threshold =\n                        submodule.assessmentparameter[0].single[0].threshold;\n                      assess.single.url =\n                        submodule.assessmentparameter[0].single[0].url;\n                    } else if (\n                      submodule.assessmentparameter[0].ranges.length > 0\n                    ) {\n                      assess.valueType = \"Range\";\n                      submodule.assessmentparameter[0].ranges.forEach(\n                        (range) => {\n                          assess.ranges.push({\n                            namerange: range.namerange,\n                            initialvalue: range.initialvalue,\n                            limitvalue: range.limitvalue,\n                            url: range.url,\n                          });\n                        }\n                      );\n                    }\n                    this.assessmentControl.push(assess);\n                  }\n                  if (submodule.concepts) {\n                    submodule.concepts.forEach((submoduleConcept) => {\n                      if (submoduleConcept.assessmentparameter.length > 0) {\n                        var assess = {\n                          typeThreshold: parseInt(\n                            submoduleConcept.assessmentparameter[0].typethreshold.split(\n                              \"/\"\n                            )[4]\n                          ),\n                          scopo: parseInt(\n                            submoduleConcept.assessmentparameter[0].scopo.split(\n                              \"/\"\n                            )[4]\n                          ),\n                          fk_element: submoduleConcept.url,\n                          valueType: \"\",\n                          single: {\n                            threshold: \"\",\n                            url: \"\",\n                          },\n                          ranges: [],\n                          url: submoduleConcept.assessmentparameter[0].url,\n                        };\n                        if (\n                          submoduleConcept.assessmentparameter[0].single\n                            .length > 0\n                        ) {\n                          assess.valueType = \"Single\";\n                          assess.single.threshold =\n                            submoduleConcept.assessmentparameter[0].single[0].threshold;\n                          assess.single.url =\n                            submoduleConcept.assessmentparameter[0].single[0].url;\n                        } else if (\n                          submoduleConcept.assessmentparameter[0].ranges\n                            .length > 0\n                        ) {\n                          assess.valueType = \"Range\";\n                          submoduleConcept.assessmentparameter[0].ranges.forEach(\n                            (range) => {\n                              assess.ranges.push({\n                                namerange: range.namerange,\n                                initialvalue: range.initialvalue,\n                                limitvalue: range.limitvalue,\n                                url: range.url,\n                              });\n                            }\n                          );\n                        }\n                        this.assessmentControl.push(assess);\n                      }\n                    });\n                  }\n                });\n              }\n            });\n          }\n        }\n      },\n      async postAssessment() {\n        await this.assessmentControl.forEach(async (assessment) => {\n          var auxAssessment = {\n            typethreshold: `/typethreshold/` + assessment.typeThreshold + `/`,\n            scopo: `/scopo/` + assessment.scopo + `/`,\n            fk_idknowledgedomain: null,\n            fk_idmodule: null,\n            fk_idconcept: null,\n          };\n          if (assessment.fk_element.split(\"/\")[3] === \"knowledgedomain\") {\n            auxAssessment.fk_idknowledgedomain = assessment.fk_element;\n          } else if (assessment.fk_element.split(\"/\")[3] === \"module\") {\n            auxAssessment.fk_idmodule = assessment.fk_element;\n          } else if (assessment.fk_element.split(\"/\")[3] === \"concept\") {\n            auxAssessment.fk_idconcept = assessment.fk_element;\n          }\n\n          if (assessment.url) {\n            await Api()\n              .put(assessment.url, auxAssessment)\n              .then(async function(resposta) {\n                if (assessment.valueType === \"Single\") {\n                  if (assessment.ranges) {\n                    assessment.ranges.forEach((range) => {\n                      if (range.url) {\n                        Api().delete(range.url);\n                      }\n                    });\n                  }\n                  await Api().put(assessment.single.url, {\n                    fk_idassessmentparameter: resposta.data.url,\n                    threshold: assessment.single.threshold,\n                  });\n                } else if (assessment.valueType === \"Range\") {\n                  if (assessment.single.url) {\n                    Api().delete(assessment.single.url);\n                  }\n                  assessment.ranges.forEach(async (range) => {\n                    if (range.url) {\n                      await Api().put(range.url, {\n                        namerange: range.namerange,\n                        fk_idassessmentparameter: resposta.data.url,\n                        initialvalue: range.initialvalue,\n                        limitvalue: range.limitvalue,\n                      });\n                    } else {\n                      await Api().post(\"/range/\", {\n                        namerange: range.namerange,\n                        fk_idassessmentparameter: resposta.data.url,\n                        initialvalue: range.initialvalue,\n                        limitvalue: range.limitvalue,\n                      });\n                    }\n                  });\n                }\n              });\n          } else {\n            await Api()\n              .post(\"/assessmentparameter/\", auxAssessment)\n              .then(async function(resposta) {\n                if (assessment.valueType === \"Single\") {\n                  await Api().post(\"/single/\", {\n                    fk_idassessmentparameter: resposta.data.url,\n                    threshold: assessment.single.threshold,\n                  });\n                } else if (assessment.valueType === \"Range\") {\n                  assessment.ranges.forEach(async (range) => {\n                    await Api().post(\"/range/\", {\n                      namerange: range.namerange,\n                      fk_idassessmentparameter: resposta.data.url,\n                      initialvalue: range.initialvalue,\n                      limitvalue: range.limitvalue,\n                    });\n                  });\n                }\n              });\n          }\n        });\n      },\n      addRange(idAssessment) {\n        this.assessmentControl[idAssessment].ranges.push({\n          namerange: \"\",\n          initialvalue: \"\",\n          limitvalue: \"\",\n          url: \"\",\n        });\n      },\n      async deletaRange(idAssessment, idRange) {\n        if (this.assessmentControl[idAssessment].ranges[idRange].url) {\n          Api().delete(\n            this.assessmentControl[idAssessment].ranges[idRange].url\n          );\n        }\n        if (idRange == 0) {\n          this.assessmentControl[idAssessment].ranges.shift();\n        } else {\n          this.assessmentControl[idAssessment].ranges.splice(idRange, 1);\n        }\n      },\n      addAssessment() {\n        this.assessmentControl.push({\n          typeThreshold: \"\",\n          scopo: \"\",\n          fk_element: \"\",\n          valueType: \"\",\n          single: {\n            threshold: \"\",\n            url: \"\",\n          },\n          ranges: [],\n          url: \"\",\n        });\n      },\n      async deletaAssessment(idAssessment) {\n        if (this.assessmentControl[idAssessment].url !== null) {\n          await Api().delete(this.assessmentControl[idAssessment].url);\n        }\n        if (idAssessment == 0) {\n          this.assessmentControl.shift();\n        } else {\n          this.assessmentControl.splice(idAssessment, 1);\n        }\n      },\n      async deletaSingle(urlSingle) {\n        await Api().delete(urlSingle);\n      },\n      async validate() {\n        if (this.$refs.form.validate()) {\n          var auxLoopValidation = 1;\n          for (var i = 0; i < this.assessmentControl.length; i++) {\n            for (var j = 0; j < this.assessmentControl.length; j++) {\n              if (\n                this.assessmentControl[i].fk_element ===\n                  this.assessmentControl[j].fk_element &&\n                i !== j\n              ) {\n                auxLoopValidation = 0;\n                this.messageError =\n                  \"Não pode existir mais de um parâmetro de avaliação para o mesmo elemento. Verifique os parâmetros de avaliação \" +\n                  (j + 1) +\n                  \" e \" +\n                  (i + 1) +\n                  \".\";\n                this.dialogError = true;\n                break;\n              }\n            }\n          }\n          if (auxLoopValidation === 1) {\n            await this.postAssessment();\n            await this.putVisible();\n            await this.resetVariables();\n            await this.$emit(\"close_or_save\", \"save\");\n          }\n        }\n      },\n      reset() {\n        this.$emit(\"close_or_save\", \"close\");\n        this.assessmentControl = [];\n      },\n      resetVariables() {\n        this.assessmentControl = [];\n      },\n      resetValidation() {\n        this.$refs.form.resetValidation();\n      },\n    },\n  };\n</script>\n"]}]}