{"remainingRequest":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vitor/Documentos/EducomML/EducomML_Front/master/src/components/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/src/components/SignUp.vue","mtime":1594511087882},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/cache-loader/dist/cjs.js","mtime":1593613513250},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/babel-loader/lib/index.js","mtime":1593613513143},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vuetify-loader/lib/loader.js","mtime":1593613518416},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/cache-loader/dist/cjs.js","mtime":1593613513250},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vue-loader/lib/index.js","mtime":1593613518353}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2lnblVwIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICB1c2VybmFtZVJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgIsOJIG5lY2Vzc8OhcmlvIGluc2VyaXIgc2V1IHVzZXJuYW1lIiwKICAgICAgICB2ID0+CiAgICAgICAgICAodiAmJiB2Lmxlbmd0aCA8PSAyNSkgfHwKICAgICAgICAgICJTZXUgdXNlcm5hbWUgZGV2ZSBwb3NzdWlyIG1lbm9zIGRlIDI1IGNhcmFjdGVyZXMiCiAgICAgIF0sCiAgICAgIG5hbWU6ICIiLAogICAgICBuYW1lUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAiw4kgbmVjZXNzw6FyaW8gaW5zZXJpciBzZXUgbm9tZSIsCiAgICAgICAgdiA9PgogICAgICAgICAgKHYgJiYgdi5sZW5ndGggPD0gMzApIHx8CiAgICAgICAgICAiU2V1IG5vbWUgZGV2ZSBwb3NzdWlyIG1lbm9zIGRlIDMwIGNhcmFjdGVyZXMiCiAgICAgIF0sCiAgICAgIGxhc3RuYW1lOiAiIiwKICAgICAgbGFzdG5hbWVSdWxlczogWwogICAgICAgIHYgPT4gISF2IHx8ICLDiSBuZWNlc3PDoXJpbyBpbnNlcmlyIHNldSBzb2JyZW5vbWUiLAogICAgICAgIHYgPT4KICAgICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDMwKSB8fAogICAgICAgICAgIlNldSBzb2JyZW5vbWUgZGV2ZSBwb3NzdWlyIG1lbm9zIGRlIDMwIGNhcmFjdGVyZXMiCiAgICAgIF0sCiAgICAgIGVtYWlsOiAiIiwKICAgICAgZW1haWxSdWxlczogWwogICAgICAgIHYgPT4gISF2IHx8ICLDiSBuZWNlc3PDoXJpbyBpbnNlcmlyIHNldSBlLW1haWwiLAogICAgICAgIHYgPT4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAiw4kgbmVjZXNzw6FyaW8gaW5zZXJpciB1bSBlLW1haWwgdsOhbGlkbyIKICAgICAgXSwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBwYXNzd29yZFJ1bGVzOiBbdiA9PiAhIXYgfHwgIsOJIG5lY2Vzc8OhcmlvIGluc2VyaXIgc3VhIHNlbmhhIl0sCiAgICAgIHBhc3N3b3JkQ29uZmlybTogIiIsCiAgICAgIG1lc3NhZ2VDbGFzczogIiIsCiAgICAgIG1lc3NhZ2VUaXRsZTogIiIsCiAgICAgIG1lc3NhZ2VFcnJvcjogIiIsCiAgICAgIGRpYWxvZ0Vycm9yOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYXNzd29yZENvbmZpcm1hdGlvblJ1bGUoKSB7CiAgICAgIHJldHVybiAoKSA9PgogICAgICAgIHRoaXMucGFzc3dvcmQgPT09IHRoaXMucGFzc3dvcmRDb25maXJtIHx8ICJBcyBzZW5oYXMgZGV2ZW0gc2VyIGlndWFpcyI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBwb3N0VXNlcigpIHsKICAgICAgYXdhaXQgdGhpcy5heGlvcy5wb3N0KAogICAgICAgICJodHRwOi8vbG9jYWxob3N0OjgwMDAvdXNlcnMvIiwKICAgICAgICB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZS50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBmaXJzdF9uYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBsYXN0X25hbWU6IHRoaXMubGFzdG5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIGlzX2FjdGl2ZTogZmFsc2UKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGFzeW5jIHZhbGlkYXRlKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CiAgICAgICAgICBhd2FpdCB0aGlzLnBvc3RVc2VyKCk7CiAgICAgICAgICB0aGlzLm1lc3NhZ2VDbGFzcyA9ICJoZWFkbGluZSBncmVlbiI7CiAgICAgICAgICB0aGlzLm1lc3NhZ2VUaXRsZSA9ICJFbWFpbCBkZSBjb25maXJtYcOnw6NvIGVudmlhZG8gY29tIHN1Y2Vzc28iOwogICAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IgPQogICAgICAgICAgICAiRW52aWFtb3MgdW0gZW1haWwgZGUgY29uZmlybWHDp8OjbyBwYXJhIHZvY8OqLiBWZXJpZmlxdWUgYSBjYWl4YSBkZSBtZW5zYWdlbnMgZG8gc2V1IGVtYWlsIHBhcmEgYXRpdmFyIHN1YSBjb250YS4iOwogICAgICAgICAgdGhpcy5kaWFsb2dFcnJvciA9IHRydWU7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICB0aGlzLm1lc3NhZ2VDbGFzcyA9ICJoZWFkbGluZSByZWQiOwogICAgICAgICAgdGhpcy5tZXNzYWdlVGl0bGUgPSAiRXJybyI7CiAgICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvciA9CiAgICAgICAgICAgICJPIHVzZXJuYW1lIG91IGVtYWlsIGrDoSBlc3TDo28gc2VuZG8gdXRpbGl6YWRvcyBuYSBwbGF0YWZvcm1hIjsKICAgICAgICAgIHRoaXMuZGlhbG9nRXJyb3IgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIGZpcnN0TG9naW4oKSB7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJvYnRhaW5Ub2tlbiIsIHsKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9KTsKICAgICAgYXdhaXQgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJob21lIgogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class=\"elevation-12\">\n    <v-toolbar color=\"black\" flat>\n      <v-toolbar-title style=\"color:#FFCC00;\">Crie sua conta no Educom.ML</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-img class=\"mt-1\" src=\"../assets/logo.png\" style=\"width: 20px;\"></v-img>\n      <v-tooltip bottom>\n        <span>Source</span>\n      </v-tooltip>\n    </v-toolbar>\n    <v-card-text>\n      <v-form style=\"margin-bottom: -20px;\" ref=\"form\">\n        <v-text-field\n          v-model=\"username\"\n          label=\"Username\"\n          name=\"username\"\n          :rules=\"usernameRules\"\n          prepend-icon=\"mdi-account\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          v-model=\"name\"\n          label=\"Nome\"\n          name=\"name\"\n          :rules=\"nameRules\"\n          prepend-icon=\"mdi-account\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          v-model=\"lastname\"\n          label=\"Sobrenome\"\n          name=\"lastname\"\n          :rules=\"lastnameRules\"\n          prepend-icon=\"mdi-account\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          id=\"email\"\n          label=\"E-mail\"\n          name=\"email\"\n          :rules=\"emailRules\"\n          v-model=\"email\"\n          prepend-icon=\"mdi-email\"\n          type=\"email\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          id=\"password\"\n          label=\"Senha\"\n          name=\"password\"\n          v-model=\"password\"\n          :rules=\"passwordRules\"\n          type=\"password\"\n          prepend-icon=\"mdi-lock\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          id=\"passwordConfirm\"\n          label=\"Confirmação de Senha\"\n          name=\"passwordConfirm\"\n          v-model=\"passwordConfirm\"\n          type=\"password\"\n          :rules=\"[passwordConfirmationRule]\"\n          prepend-icon=\"mdi-lock\"\n          required\n        ></v-text-field>\n      </v-form>\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" @click=\"validate()\" large class=\"mr-4\">Cadastrar</v-btn>\n    </v-card-actions>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialogError\" width=\"500\">\n        <v-card>\n          <v-card-title :class=\"messageClass\" primary-title style=\"color:white;\">{{messageTitle}}</v-card-title>\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">{{messageError}}</v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialogError = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  name: \"SignUp\",\n  data() {\n    return {\n      dialog: false,\n      username: \"\",\n      usernameRules: [\n        v => !!v || \"É necessário inserir seu username\",\n        v =>\n          (v && v.length <= 25) ||\n          \"Seu username deve possuir menos de 25 caracteres\"\n      ],\n      name: \"\",\n      nameRules: [\n        v => !!v || \"É necessário inserir seu nome\",\n        v =>\n          (v && v.length <= 30) ||\n          \"Seu nome deve possuir menos de 30 caracteres\"\n      ],\n      lastname: \"\",\n      lastnameRules: [\n        v => !!v || \"É necessário inserir seu sobrenome\",\n        v =>\n          (v && v.length <= 30) ||\n          \"Seu sobrenome deve possuir menos de 30 caracteres\"\n      ],\n      email: \"\",\n      emailRules: [\n        v => !!v || \"É necessário inserir seu e-mail\",\n        v => /.+@.+\\..+/.test(v) || \"É necessário inserir um e-mail válido\"\n      ],\n      password: \"\",\n      passwordRules: [v => !!v || \"É necessário inserir sua senha\"],\n      passwordConfirm: \"\",\n      messageClass: \"\",\n      messageTitle: \"\",\n      messageError: \"\",\n      dialogError: \"\"\n    };\n  },\n  computed: {\n    passwordConfirmationRule() {\n      return () =>\n        this.password === this.passwordConfirm || \"As senhas devem ser iguais\";\n    }\n  },\n  methods: {\n    async postUser() {\n      await this.axios.post(\n        \"http://localhost:8000/users/\",\n        {\n          username: this.username.toLowerCase(),\n          email: this.email,\n          first_name: this.name,\n          last_name: this.lastname,\n          password: this.password,\n          is_active: false\n        },\n        {\n          auth: {\n            username: \"admin\",\n            password: \"admin\"\n          }\n        }\n      );\n    },\n    async validate() {\n      if (this.$refs.form.validate()) {\n        try {\n          await this.$refs.form.validate();\n          await this.postUser();\n          this.messageClass = \"headline green\";\n          this.messageTitle = \"Email de confirmação enviado com sucesso\";\n          this.messageError =\n            \"Enviamos um email de confirmação para você. Verifique a caixa de mensagens do seu email para ativar sua conta.\";\n          this.dialogError = true;\n        } catch (err) {\n          this.messageClass = \"headline red\";\n          this.messageTitle = \"Erro\";\n          this.messageError =\n            \"O username ou email já estão sendo utilizados na plataforma\";\n          this.dialogError = true;\n        }\n      }\n    },\n    async firstLogin() {\n      await this.$store.dispatch(\"obtainToken\", {\n        username: this.username,\n        password: this.password\n      });\n      await this.$router.push({\n        name: \"home\"\n      });\n    }\n  }\n};\n</script>"]}]}