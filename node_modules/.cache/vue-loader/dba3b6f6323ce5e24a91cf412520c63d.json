{"remainingRequest":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\src\\components\\instructional_model\\ImageDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\src\\components\\instructional_model\\ImageDialog.vue","mtime":1591642781092},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590347942431},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1590347941601},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1590348000448},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590347942431},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1590347998594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZSI7DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJJbWFnZURpYWxvZyIsDQogIHByb3BzOiBbIm9wdGlvbkNhbGwiLCAidHlwZSIsImRvbWFpbiJdLA0KICBkYXRhOiAoKSA9PiAoew0KICAgIHZhbGlkOiB0cnVlLA0KICAgICAgICBpbmZvTGV2ZWw6ICIiLA0KICAgICAgICBpbmZvTGVhcm5pbmc6ICIiLA0KICAgICAgICBpbmZvQ2xhc3NlOiAiIiwNCiAgICAgICAgaW5mb0l0ZW1DbGFzc2VzOiBbIkNvbmNlaXRvIiwgIlByaW5jw61waW8iLCAiRmF0byJdLA0KICAgICAgICBpbmZvSXRlbUxldmVsczogWyIwIC0gSW5pY2lhbCIsICIxIC0gRsOhY2lsIiwgIjIgLSBNw6lkaW8iLCAiMyAtIERpZsOtY2lsIl0sDQogICAgICAgIGluZm9JdGVtTGVhcm5pbmdTdHlsZXM6IFsiVmlzdWFsIiwgIlRleHR1YWwiXSwNCiAgICAgICAgaW5mb1Jlc3VtZTogIiIsDQogICAgaW1hZ2VtRGVzY3JpcHRpb246ICIiLA0KICAgIGltYWdlbU9iamVjdDoge30sDQogICAgaW1hZ2VtRGVzY3JpcHRpb25SdWxlczogWw0KICAgICAgdiA9PiAhIXYgfHwgIsOJIG5lY2Vzc8OhcmlvIGRlc2NyZXZlciBhIGltYWdlbSBhIHNlciBpbnNlcmlkYSIsDQogICAgICB2ID0+DQogICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDUwKSB8fA0KICAgICAgICAiQSBkZXNjcmnDp8OjbyBkYSBpbWFnZW0gZGV2ZSB0ZXIgbm8gbcOheGltbyA1MCBjYXJhY3RlcmVzIg0KICAgIF0NCiAgfSksDQogIG1ldGhvZHM6IHsNCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMuJGVtaXQoImNsb3NlIik7DQogICAgfSwNCiAgICBhc3luYyBwb3N0TW9iaWxlTWVkaWEoKSB7DQogICAgICB2YXIgdm0gPSB0aGlzOw0KICAgICAgdmFyIHBhdGggPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7DQogICAgICBhd2FpdCBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCkuY2hpbGQodGhpcy5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSkuY2hpbGQocGF0aCkucHV0KHRoaXMuaW1hZ2VtT2JqZWN0KTsNCiAgICAgIHZhciBtb2JpbGVtZWRpYSA9IHsNCiAgICAgICAgbGFiZWw6IHRoaXMuaW1hZ2VtRGVzY3JpcHRpb24sDQogICAgICAgIGZrX2lkbWVkaWF0eXBlOiAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8xLyIsDQogICAgICAgIGRpZmZpY3VsdHlMZXZlbDogbnVsbCwNCiAgICAgICAgbGVhcm5pbmdTdHlsZTogbnVsbCwNCiAgICAgICAgcGF0aDogdGhpcy5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSsnLycrcGF0aCwNCiAgICAgICAgbmFtZWZpbGU6IHRoaXMuaW1hZ2VtT2JqZWN0Lm5hbWUsDQogICAgICAgIHJlc29sdXRpb246ICIiLA0KICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5pbWFnZW1EZXNjcmlwdGlvbiwNCiAgICAgICAgdGltZTogbnVsbCwNCiAgICAgICAgdGV4dGZ1bGw6IG51bGwsDQogICAgICAgIHRleHRzaG9ydDogbnVsbCwNCiAgICAgICAgdXJsbGluazogbnVsbA0KICAgICAgfTsNCiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImNvbmNlaXRvIikgew0KICAgICAgICB2YXIgaXRlbWluZm8gPSB7DQogICAgICAgICAgbmFtZWluZm9ybWF0aW9uaXRlbTogImltYWdlbV8iICsgdm0uaW1hZ2VtT2JqZWN0Lm5hbWUsDQogICAgICAgICAgZmtfaW5mb3JtYXRpb25pdGVtdHlwZTogIGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvaW5mb3JtYXRpb25pdGVtdHlwZS9gICsgKHZtLmluZm9DbGFzc2UrMSkgKyAiLyIsDQogICAgICAgICAgZmtfaWRjb25jZXB0OiB0aGlzLm9wdGlvbkNhbGwudXJsDQogICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coaXRlbWluZm8pOw0KICAgICAgICBpZiAodGhpcy50eXBlID09PSAiZG9taW5pbyIpIHsNCiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7DQogICAgICAgICAgICAgICAgICAgIGZrX2lka25vd2xlZGdlZG9tYWluOiB0aGlzLm9wdGlvbkNhbGwudXJsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gIm1vZHVsbyIpIHsNCiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7DQogICAgICAgICAgICAgICAgICAgIGZrX21vZHVsZTogdGhpcy5vcHRpb25DYWxsLnVybA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJjb25jZWl0byIpIHsNCiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7DQogICAgICAgICAgICAgICAgICAgIGZrX2NvbmNlcHQ6IHRoaXMub3B0aW9uQ2FsbC51cmwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImNvbmNlaXRvIikgew0KICAgICAgICBhd2FpdCBheGlvcw0KICAgICAgICAgIC5wb3N0KGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvaW5mb3JtYXRpb25pdGVtL2AsIGl0ZW1pbmZvLCB7DQogICAgICAgICAgICBhdXRoOiB7DQogICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLA0KICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9zdGEpIHsNCiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsNCiAgICAgICAgICAgICAgZmtfaW5mb3JtYXRpb25pdGVtOiByZXNwb3N0YS5kYXRhLnVybA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAucG9zdChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsIG1vYmlsZW1lZGlhLCB7DQogICAgICAgICAgICAgICAgYXV0aDogew0KICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsDQogICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7DQogICAgICAgICAgICAgICAgLyp2bS5tb2R1bG9UaXRsZSA9IHJlc3Bvc3RhLmRhdGEubmFtZW1vZHVsZTsNCiAgICAgICAgICAgICAgICAgICAgdm0uc3ViVGl0bGUgPSByZXNwb3N0YS5kYXRhLnN1YnRpdGxlOyovDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIiB8fCB0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7DQogICAgICAgIGF3YWl0IGF4aW9zDQogICAgICAgICAgLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLCBtb2JpbGVtZWRpYSwgew0KICAgICAgICAgICAgYXV0aDogew0KICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwNCiAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKC8qcmVzcG9zdGEqLykgew0KICAgICAgICAgICAgLyp2bS5tb2R1bG9UaXRsZSA9IHJlc3Bvc3RhLmRhdGEubmFtZW1vZHVsZTsNCiAgICAgICAgICAgICAgICAgICAgdm0uc3ViVGl0bGUgPSByZXNwb3N0YS5kYXRhLnN1YnRpdGxlOyovDQogICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIH0gICAgIA0KICAgIH0sDQogICAgdmFsaWRhdGUoKSB7DQogICAgICAgICB2YXIgdm0gPSB0aGlzOw0KICAgICAgdGhpcy5pbmZvQ2xhc3NlID0gdGhpcy5pbmZvSXRlbUNsYXNzZXMuZmluZEluZGV4KGZ1bmN0aW9uKHZhbHVlKSB7DQogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0NsYXNzZTsNCiAgICAgIH0pOw0KICAgICAgdGhpcy5pbmZvTGV2ZWwgPSB0aGlzLmluZm9JdGVtTGV2ZWxzLmZpbmRJbmRleChmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgICByZXR1cm4gdmFsdWUgPT09IHZtLmluZm9MZXZlbDsNCiAgICAgIH0pOw0KICAgICAgdGhpcy5pbmZvTGVhcm5pbmcgPSB0aGlzLmluZm9JdGVtTGVhcm5pbmdTdHlsZXMuZmluZEluZGV4KGZ1bmN0aW9uKA0KICAgICAgICB2YWx1ZQ0KICAgICAgKSB7DQogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0xlYXJuaW5nOw0KICAgICAgfSk7DQogICAgICANCiAgICAgIHRoaXMucG9zdE1vYmlsZU1lZGlhKCk7DQogICAgICB0aGlzLiRlbWl0KCJjbG9zZSIpOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["ImageDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ImageDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\r\n  <v-container class=\"pa-0\">\r\n    <v-card>\r\n      <v-card-title style=\"background-color:#63B0B0; color:white;\">\r\n        <span class=\"headline\">\r\n          <p>Importe sua imagem.</p>\r\n        </span>\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <!--Formulario para adição de submódulo ou conceito-->\r\n\r\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n          <v-text-field\r\n            v-model=\"imagemDescription\"\r\n            :rules=\"imagemDescriptionRules\"\r\n            label=\"Utilize uma descrição para a imagem\"\r\n            required\r\n          ></v-text-field>\r\n        </v-form>\r\n        <v-row  v-if=\"type==='conceito'\">\r\n\r\n            <v-col cols=\"4\">\r\n              <label for=\"infoItemClassesSelect\">Classifique o item de informação</label>\r\n              <v-select\r\n                id=\"infoItemClassesSelect\"\r\n                class=\"mt-5\"\r\n                v-model=\"infoClasse\"\r\n                :items=\"infoItemClasses\"\r\n                label=\"Classe\"\r\n                style=\"margin:0px;\"\r\n              ></v-select>\r\n            </v-col>\r\n\r\n            <v-col cols=\"4\">\r\n              <label for=\"infoItemLevelsSelect\">Qual o nível de dificuldade deste conteúdo?</label>\r\n              <v-select\r\n                id=\"infoItemLevelsSelect\"\r\n                v-model=\"infoLevel\"\r\n                :items=\"infoItemLevels\"\r\n                label=\"Nível\"\r\n                style=\"margin:0px;\"\r\n              ></v-select>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <label for=\"infoItemLearningStylesSelect\">Qual o estilo de aprendizado deste conteúdo?</label>\r\n              <v-select\r\n                id=\"infoItemLearningStylesSelect\"\r\n                v-model=\"infoLearning\"\r\n                :items=\"infoItemLearningStyles\"\r\n                label=\"Nível\"\r\n                style=\"margin:0px;\"\r\n              ></v-select>\r\n            </v-col>\r\n          </v-row>\r\n        <v-spacer></v-spacer>\r\n        <v-file-input\r\n          label=\"UPLOAD IMAGE\"\r\n          filled\r\n          v-model=\"imagemObject\"\r\n          accept=\"image/*\"\r\n          prepend-icon=\"mdi-camera\"\r\n        ></v-file-input>\r\n        <v-spacer></v-spacer>\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\r\n          Close\r\n          <v-icon dark right>mdi-close</v-icon>\r\n        </v-btn>\r\n        <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\r\n          Save\r\n          <v-icon dark right>mdi-content-save</v-icon>\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport * as firebase from \"firebase\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"ImageDialog\",\r\n  props: [\"optionCall\", \"type\",\"domain\"],\r\n  data: () => ({\r\n    valid: true,\r\n        infoLevel: \"\",\r\n        infoLearning: \"\",\r\n        infoClasse: \"\",\r\n        infoItemClasses: [\"Conceito\", \"Princípio\", \"Fato\"],\r\n        infoItemLevels: [\"0 - Inicial\", \"1 - Fácil\", \"2 - Médio\", \"3 - Difícil\"],\r\n        infoItemLearningStyles: [\"Visual\", \"Textual\"],\r\n        infoResume: \"\",\r\n    imagemDescription: \"\",\r\n    imagemObject: {},\r\n    imagemDescriptionRules: [\r\n      v => !!v || \"É necessário descrever a imagem a ser inserida\",\r\n      v =>\r\n        (v && v.length <= 50) ||\r\n        \"A descrição da imagem deve ter no máximo 50 caracteres\"\r\n    ]\r\n  }),\r\n  methods: {\r\n    reset() {\r\n      this.$emit(\"close\");\r\n    },\r\n    async postMobileMedia() {\r\n      var vm = this;\r\n      var path = Date.now().toString();\r\n      await firebase.storage().ref().child(this.domain.idknowledgedomain.toString()).child(path).put(this.imagemObject);\r\n      var mobilemedia = {\r\n        label: this.imagemDescription,\r\n        fk_idmediatype: \"http://localhost:8000/mediatype/1/\",\r\n        difficultyLevel: null,\r\n        learningStyle: null,\r\n        path: this.domain.idknowledgedomain.toString()+'/'+path,\r\n        namefile: this.imagemObject.name,\r\n        resolution: \"\",\r\n        description: this.imagemDescription,\r\n        time: null,\r\n        textfull: null,\r\n        textshort: null,\r\n        urllink: null\r\n      };\r\n        if (this.type === \"conceito\") {\r\n        var iteminfo = {\r\n          nameinformationitem: \"imagem_\" + vm.imagemObject.name,\r\n          fk_informationitemtype:  `http://127.0.0.1:8000/informationitemtype/` + (vm.infoClasse+1) + \"/\",\r\n          fk_idconcept: this.optionCall.url\r\n        };\r\n        }\r\n        console.log(iteminfo);\r\n        if (this.type === \"dominio\") {\r\n                Object.assign(mobilemedia, {\r\n                    fk_idknowledgedomain: this.optionCall.url\r\n                });\r\n            } else if (this.type === \"modulo\") {\r\n                Object.assign(mobilemedia, {\r\n                    fk_module: this.optionCall.url\r\n                });\r\n            } else if (this.type === \"conceito\") {\r\n                Object.assign(mobilemedia, {\r\n                    fk_concept: this.optionCall.url\r\n                });\r\n            }\r\n\r\n      if (this.type === \"conceito\") {\r\n        await axios\r\n          .post(`http://127.0.0.1:8000/informationitem/`, iteminfo, {\r\n            auth: {\r\n              username: \"admin\",\r\n              password: \"admin\"\r\n            }\r\n          })\r\n          .then(function(resposta) {\r\n            Object.assign(mobilemedia, {\r\n              fk_informationitem: resposta.data.url\r\n            });\r\n            axios\r\n              .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\r\n                auth: {\r\n                  username: \"admin\",\r\n                  password: \"admin\"\r\n                }\r\n              })\r\n              .then(function(/*resposta*/) {\r\n                /*vm.moduloTitle = resposta.data.namemodule;\r\n                    vm.subTitle = resposta.data.subtitle;*/\r\n              });\r\n          });\r\n      } else if (this.type === \"dominio\" || this.type === \"modulo\") {\r\n        await axios\r\n          .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\r\n            auth: {\r\n              username: \"admin\",\r\n              password: \"admin\"\r\n            }\r\n          })\r\n          .then(function(/*resposta*/) {\r\n            /*vm.moduloTitle = resposta.data.namemodule;\r\n                    vm.subTitle = resposta.data.subtitle;*/\r\n          });\r\n\r\n            }     \r\n    },\r\n    validate() {\r\n         var vm = this;\r\n      this.infoClasse = this.infoItemClasses.findIndex(function(value) {\r\n        return value === vm.infoClasse;\r\n      });\r\n      this.infoLevel = this.infoItemLevels.findIndex(function(value) {\r\n        return value === vm.infoLevel;\r\n      });\r\n      this.infoLearning = this.infoItemLearningStyles.findIndex(function(\r\n        value\r\n      ) {\r\n        return value === vm.infoLearning;\r\n      });\r\n      \r\n      this.postMobileMedia();\r\n      this.$emit(\"close\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}