{"remainingRequest":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\src\\components\\instructional_model\\AtividadeColaborativaDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\src\\components\\instructional_model\\AtividadeColaborativaDialog.vue","mtime":1593011980578},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592918128755},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1592918120439},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1592918466944},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592918128755},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1592918457604}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBdGl2aWRhZGVDb2xhYm9yYXRpdmFEaWFsb2ciLAogIHByb3BzOiBbCiAgICAiaW5zdHJ1Y09wdGlvbkNhbGwiLAogICAgImluc3RydWNUeXBlIiwKICAgICJkb21haW4iLAogICAgImRpYWxvZyIsCiAgICAicHJvY2VkdXJlIiwKICAgICJjb25jZXB0IiwKICAgICJtb2R1bGUiLAogICAgImluc3RydWN0aW9uYWxlbGVtZW50IgogIF0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGF1eEdldFNyYzogW10sCiAgICBhdXhHZXRTcmNRdWVzdGlvbnM6IFtdLAogICAgdmFsaWQ6IHRydWUsCiAgICBkaWFsb2dfYWxlcnQ6IGZhbHNlLAogICAgZGlhbG9nX2FsZXJ0MjogZmFsc2UsCiAgICBkaWFsb2dfYWxlcnQzOiBmYWxzZSwKICAgIHF1ZXN0aW9uQWp1c3Q6ICIiLAogICAgY29sYWJvcmF0aXZlTmFtZTogIiIsCiAgICBjb2xhYm9yYXRpdmVOYW1lUnVsZXM6IFsKICAgICAgdiA9PgogICAgICAgICEhdiB8fAogICAgICAgICLDiSBuZWNlc3PDoXJpbyBkZXNjcmV2ZXIgdW0gaWRlbnRpZmljYWRvciBwYXJhIGEgYXRpdmlkYWRlIGNvbGFib3JhdGl2YSIsCiAgICAgIHYgPT4KICAgICAgICAodiAmJiB2Lmxlbmd0aCA8PSAyNSkgfHwKICAgICAgICAiTm9tZSBkbyBpZGVudGlmaWNhZG9yIGRhIGF0aXZpZGFkZSBjb2xhYm9yYXRpdmEgZGV2ZSB0ZXIgbm8gbcOheGltbyAyNSBjYXJhY3RlcmVzIgogICAgXSwKICAgIG1lbWJlckFtb3VudDogIiIsCiAgICBtZW1iZXJBbW91bnRSdWxlczogWwogICAgICB2ID0+CiAgICAgICAgISF2IHx8CiAgICAgICAgIsOJIG5lY2Vzc8OhcmlvIGluc2VyaXIgYSBxdWFudGlkYWRlIGRlIGFsdW5vcyBlbnZvbHZpZG9zIG5hIGF0aXZpZGFkZSIKICAgIF0sCiAgICBjb2xhYm9yYXRpdmVEZXNjcmlwdGlvbjogIiIsCiAgICBjb2xhYm9yYXRpdmVEZXNjcmlwdGlvblJ1bGVzOiBbCiAgICAgIHYgPT4KICAgICAgICAhIXYgfHwKICAgICAgICAiw4kgbmVjZXNzw6FyaW8gaW5zZXJpciB1bWEgZGVzY3Jpw6fDo28gZGEgYXRpdmlkYWRlIGNvbGFib3JhdGl2YSBhIHNlciBpbnNlcmlkYSIKICAgIF0sCiAgICBpdGVtc01vYmlsZU1lZGlhOiBbCiAgICAgIHsKICAgICAgICBpY29uOiAibWRpLWZpbGUtaW1hZ2UiLAogICAgICAgIG5hbWU6ICJJbWFnZW0iCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBpY29uOiAibWRpLWZpbGUtdmlkZW8iLAogICAgICAgIG5hbWU6ICJWaWRlbyIKICAgICAgfSwKICAgICAgewogICAgICAgIGljb246ICJtZGktZmlsZS1tdXNpYyIsCiAgICAgICAgbmFtZTogIkF1ZGlvIgogICAgICB9LAogICAgICB7CiAgICAgICAgaWNvbjogIm1kaS1saW5rLXZhcmlhbnQiLAogICAgICAgIG5hbWU6ICJMaW5rIgogICAgICB9CiAgICBdLAogICAgbGlua1VybFJ1bGVzOiBbdiA9PiAhIXYgfHwgIsOJIG5lY2Vzc8OhcmlvIGluc2VyaXIgYSB1cmwgZG8gc2V1IGxpbmsiXSwKICAgIG1vYmlsZU1lZGlhc0NvbnRyb2w6IFtdLAogICAgdmlld1F1ZXN0aW9uczogZmFsc2UsCiAgICBxdWVzdGlvblR5cGVzOiBbIlF1ZXN0w6NvIE9iamV0aXZhIiwgIlF1ZXN0w6NvIERpc2N1c3NpdmEiXSwKICAgIHF1ZXN0aW9uc0NvbnRyb2w6IFtdLAogICAgaWRPYmpBbnN3ZXJJdGVtczogWwogICAgICAiQSIsCiAgICAgICJCIiwKICAgICAgIkMiLAogICAgICAiRCIsCiAgICAgICJFIiwKICAgICAgIkYiLAogICAgICAiRyIsCiAgICAgICJIIiwKICAgICAgIkkiLAogICAgICAiSiIsCiAgICAgICJLIiwKICAgICAgIkwiLAogICAgICAiTSIsCiAgICAgICJOIiwKICAgICAgIk8iLAogICAgICAiUCIsCiAgICAgICJRIiwKICAgICAgIlIiLAogICAgICAiUyIsCiAgICAgICJUIiwKICAgICAgIlUiLAogICAgICAiViIsCiAgICAgICJXIiwKICAgICAgIlgiLAogICAgICAiWSIsCiAgICAgICJaIgogICAgXSwKICAgIGFsdGVybmF0aXZlRGVzY3JpcHRpb25SdWxlczogWwogICAgICB2ID0+ICEhdiB8fCAiw4kgbmVjZXNzw6FyaW8gZGVzY3JldmVyIGEgYWx0ZXJuYXRpdmEuIgogICAgXQogIH0pLAogIHdhdGNoOiB7CiAgICBkaWFsb2c6IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbmFsZWxlbWVudCkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICB0aGlzLmNvbGFib3JhdGl2ZU5hbWUgPSB0aGlzLmluc3RydWN0aW9uYWxlbGVtZW50LmxhYmVsOwogICAgICAgICAgdGhpcy5jb2xhYm9yYXRpdmVEZXNjcmlwdGlvbiA9IHRoaXMuaW5zdHJ1Y3Rpb25hbGVsZW1lbnQuZGVzY3JpcHRpb247CiAgICAgICAgICB0aGlzLm1lbWJlckFtb3VudCA9IHBhcnNlSW50KHRoaXMuaW5zdHJ1Y3Rpb25hbGVsZW1lbnQubWVtYmVyYW1vdW50KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2wgPSBbXTsKICAgICAgICB0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2wgPSBbXTsKICAgICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbmFsZWxlbWVudC5tb2JpbGVtZWRpYXMubGVuZ3RoID4gMCkgewogICAgICAgICAgYXdhaXQgdGhpcy5pbnN0cnVjdGlvbmFsZWxlbWVudC5tb2JpbGVtZWRpYXMuZm9yRWFjaChhc3luYyBmdW5jdGlvbigKICAgICAgICAgICAgZWxlbWVudE1vYmlsZQogICAgICAgICAgKSB7CiAgICAgICAgICAgIGlmIChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0gPT09ICIxIikgewogICAgICAgICAgICAgIHZtLmdldFNyY0ltYWdlKGVsZW1lbnRNb2JpbGUucGF0aCwgZWxlbWVudE1vYmlsZS5uYW1lZmlsZSk7CiAgICAgICAgICAgICAgYXdhaXQgdm0ubW9iaWxlTWVkaWFzQ29udHJvbC5wdXNoKHsKICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlSW50KGVsZW1lbnRNb2JpbGUuZmtfaWRtZWRpYXR5cGUuc3BsaXQoIi8iKVs0XSksCiAgICAgICAgICAgICAgICBvYmplY3Q6IG51bGwsCiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBlbGVtZW50TW9iaWxlLnJlc29sdXRpb24sCiAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50TW9iaWxlLnBhdGgsCiAgICAgICAgICAgICAgICBuYW1lZmlsZTogZWxlbWVudE1vYmlsZS5uYW1lZmlsZSwKICAgICAgICAgICAgICAgIHVybDogZWxlbWVudE1vYmlsZS51cmwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0gPT09ICIyIikgewogICAgICAgICAgICAgIHZtLmdldFNyY1ZpZGVvKGVsZW1lbnRNb2JpbGUucGF0aCwgZWxlbWVudE1vYmlsZS5uYW1lZmlsZSk7CiAgICAgICAgICAgICAgYXdhaXQgdm0ubW9iaWxlTWVkaWFzQ29udHJvbC5wdXNoKHsKICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlSW50KGVsZW1lbnRNb2JpbGUuZmtfaWRtZWRpYXR5cGUuc3BsaXQoIi8iKVs0XSksCiAgICAgICAgICAgICAgICBvYmplY3Q6IG51bGwsCiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBlbGVtZW50TW9iaWxlLnJlc29sdXRpb24sCiAgICAgICAgICAgICAgICB0aW1lOiBlbGVtZW50TW9iaWxlLnRpbWUsCiAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50TW9iaWxlLnBhdGgsCiAgICAgICAgICAgICAgICBuYW1lZmlsZTogZWxlbWVudE1vYmlsZS5uYW1lZmlsZSwKICAgICAgICAgICAgICAgIHVybDogZWxlbWVudE1vYmlsZS51cmwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0gPT09ICIzIikgewogICAgICAgICAgICAgIHZtLmdldFNyY0F1ZGlvKGVsZW1lbnRNb2JpbGUucGF0aCwgZWxlbWVudE1vYmlsZS5uYW1lZmlsZSk7CiAgICAgICAgICAgICAgYXdhaXQgdm0ubW9iaWxlTWVkaWFzQ29udHJvbC5wdXNoKHsKICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlSW50KGVsZW1lbnRNb2JpbGUuZmtfaWRtZWRpYXR5cGUuc3BsaXQoIi8iKVs0XSksCiAgICAgICAgICAgICAgICBvYmplY3Q6IG51bGwsCiAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50TW9iaWxlLnBhdGgsCiAgICAgICAgICAgICAgICBuYW1lZmlsZTogZWxlbWVudE1vYmlsZS5uYW1lZmlsZSwKICAgICAgICAgICAgICAgIHVybDogZWxlbWVudE1vYmlsZS51cmwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0gPT09ICI1IikgewogICAgICAgICAgICAgIGF3YWl0IHZtLm1vYmlsZU1lZGlhc0NvbnRyb2wucHVzaCh7CiAgICAgICAgICAgICAgICB0eXBlOiBwYXJzZUludChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0pLAogICAgICAgICAgICAgICAgb2JqZWN0OiBlbGVtZW50TW9iaWxlLnVybGxpbmssCiAgICAgICAgICAgICAgICB1cmw6IGVsZW1lbnRNb2JpbGUudXJsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbmFsZWxlbWVudC5xdWVzdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy52aWV3UXVlc3Rpb25zID0gdHJ1ZTsKICAgICAgICAgIGF3YWl0IHRoaXMuaW5zdHJ1Y3Rpb25hbGVsZW1lbnQucXVlc3Rpb25zLmZvckVhY2goYXN5bmMgZnVuY3Rpb24oCiAgICAgICAgICAgIGVsZW1lbnRRdWVzdGlvbiwKICAgICAgICAgICAgaW5kZXhRdWVzdGlvbgogICAgICAgICAgKSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlbGVtZW50UXVlc3Rpb24udHlwZXF1ZXN0aW9uID09PQogICAgICAgICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvcXVlc3Rpb250eXBlLzEvYAogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBhd2FpdCB2bS5xdWVzdGlvbnNDb250cm9sLnB1c2goewogICAgICAgICAgICAgICAgdHlwZVF1ZXN0aW9uOiBwYXJzZUludCgKICAgICAgICAgICAgICAgICAgZWxlbWVudFF1ZXN0aW9uLnR5cGVxdWVzdGlvbi5zcGxpdCgiLyIpWzRdCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb25RdWVzdGlvbjogZWxlbWVudFF1ZXN0aW9uLmRlc2NyaXB0aW9ucXVlc3Rpb24sCiAgICAgICAgICAgICAgICBhbnN3ZXJzQWx0ZXJuYXRpdmVzOiBbXSwKICAgICAgICAgICAgICAgIG1vYmlsZU1lZGlhczogW10sCiAgICAgICAgICAgICAgICB1cmw6IGVsZW1lbnRRdWVzdGlvbi51cmwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhd2FpdCBlbGVtZW50UXVlc3Rpb24uYW5zd2Vyc2FsdGVybmF0aXZlcy5mb3JFYWNoKGFzeW5jIGZ1bmN0aW9uKAogICAgICAgICAgICAgICAgZWxlbWVudEFsdGVybmF0aXZlCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBhd2FpdCB2bS5xdWVzdGlvbnNDb250cm9sWwogICAgICAgICAgICAgICAgICBpbmRleFF1ZXN0aW9uCiAgICAgICAgICAgICAgICBdLmFuc3dlcnNBbHRlcm5hdGl2ZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlzVHJ1ZTogZWxlbWVudEFsdGVybmF0aXZlLmlzdHJ1ZSwKICAgICAgICAgICAgICAgICAgYW5zd2VyczogZWxlbWVudEFsdGVybmF0aXZlLmFuc3dlcnMsCiAgICAgICAgICAgICAgICAgIHVybDogZWxlbWVudEFsdGVybmF0aXZlLnVybAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgZWxlbWVudFF1ZXN0aW9uLnR5cGVxdWVzdGlvbiA9PT0KICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL3F1ZXN0aW9udHlwZS8yL2AKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgYXdhaXQgdm0ucXVlc3Rpb25zQ29udHJvbC5wdXNoKHsKICAgICAgICAgICAgICAgIHR5cGVRdWVzdGlvbjogcGFyc2VJbnQoCiAgICAgICAgICAgICAgICAgIGVsZW1lbnRRdWVzdGlvbi50eXBlcXVlc3Rpb24uc3BsaXQoIi8iKVs0XQogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uUXVlc3Rpb246IGVsZW1lbnRRdWVzdGlvbi5kZXNjcmlwdGlvbnF1ZXN0aW9uLAogICAgICAgICAgICAgICAgY29ycmVjdEFuc3dlcjoKICAgICAgICAgICAgICAgICAgZWxlbWVudFF1ZXN0aW9uLnJlc29sdXRpb25xdWVzdGlvblswXS5jb3JyZWN0YW5zd2VyLAogICAgICAgICAgICAgICAgbW9iaWxlTWVkaWFzOiBbXSwKICAgICAgICAgICAgICAgIHVybDogZWxlbWVudFF1ZXN0aW9uLnVybCwKICAgICAgICAgICAgICAgIHVybENvcnJlY3RBbnN3ZXI6IGVsZW1lbnRRdWVzdGlvbi5yZXNvbHV0aW9ucXVlc3Rpb25bMF0udXJsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGVsZW1lbnRRdWVzdGlvbi5tb2JpbGVtZWRpYXMpIHsKICAgICAgICAgICAgICBhd2FpdCBlbGVtZW50UXVlc3Rpb24ubW9iaWxlbWVkaWFzLmZvckVhY2goYXN5bmMgZnVuY3Rpb24oCiAgICAgICAgICAgICAgICBlbGVtZW50TW9iaWxlCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudE1vYmlsZS5ma19pZG1lZGlhdHlwZS5zcGxpdCgiLyIpWzRdID09PSAiMSIpIHsKICAgICAgICAgICAgICAgICAgdm0uZ2V0U3JjSW1hZ2VRdWVzdGlvbnMoCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1vYmlsZS5wYXRoLAogICAgICAgICAgICAgICAgICAgIGVsZW1lbnRNb2JpbGUubmFtZWZpbGUKICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgYXdhaXQgdm0ucXVlc3Rpb25zQ29udHJvbFtpbmRleFF1ZXN0aW9uXS5tb2JpbGVNZWRpYXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogcGFyc2VJbnQoZWxlbWVudE1vYmlsZS5ma19pZG1lZGlhdHlwZS5zcGxpdCgiLyIpWzRdKSwKICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogZWxlbWVudE1vYmlsZS5yZXNvbHV0aW9uLAogICAgICAgICAgICAgICAgICAgIHBhdGg6IGVsZW1lbnRNb2JpbGUucGF0aCwKICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogZWxlbWVudE1vYmlsZS5uYW1lZmlsZSwKICAgICAgICAgICAgICAgICAgICB1cmw6IGVsZW1lbnRNb2JpbGUudXJsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0gPT09ICIyIikgewogICAgICAgICAgICAgICAgICB2bS5nZXRTcmNWaWRlb1F1ZXN0aW9ucygKICAgICAgICAgICAgICAgICAgICBlbGVtZW50TW9iaWxlLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1vYmlsZS5uYW1lZmlsZQogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICBhd2FpdCB2bS5xdWVzdGlvbnNDb250cm9sW2luZGV4UXVlc3Rpb25dLm1vYmlsZU1lZGlhcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXJzZUludChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0pLAogICAgICAgICAgICAgICAgICAgIG9iamVjdDogbnVsbCwKICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBlbGVtZW50TW9iaWxlLnJlc29sdXRpb24sCiAgICAgICAgICAgICAgICAgICAgdGltZTogZWxlbWVudE1vYmlsZS50aW1lLAogICAgICAgICAgICAgICAgICAgIHBhdGg6IGVsZW1lbnRNb2JpbGUucGF0aCwKICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogZWxlbWVudE1vYmlsZS5uYW1lZmlsZSwKICAgICAgICAgICAgICAgICAgICB1cmw6IGVsZW1lbnRNb2JpbGUudXJsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0gPT09ICIzIikgewogICAgICAgICAgICAgICAgICB2bS5nZXRTcmNBdWRpb1F1ZXN0aW9ucygKICAgICAgICAgICAgICAgICAgICBlbGVtZW50TW9iaWxlLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1vYmlsZS5uYW1lZmlsZQogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICBhd2FpdCB2bS5xdWVzdGlvbnNDb250cm9sW2luZGV4UXVlc3Rpb25dLm1vYmlsZU1lZGlhcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXJzZUludChlbGVtZW50TW9iaWxlLmZrX2lkbWVkaWF0eXBlLnNwbGl0KCIvIilbNF0pLAogICAgICAgICAgICAgICAgICAgIG9iamVjdDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50TW9iaWxlLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgbmFtZWZpbGU6IGVsZW1lbnRNb2JpbGUubmFtZWZpbGUsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBlbGVtZW50TW9iaWxlLnVybAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudE1vYmlsZS5ma19pZG1lZGlhdHlwZS5zcGxpdCgiLyIpWzRdID09PSAiNSIpIHsKICAgICAgICAgICAgICAgICAgYXdhaXQgdm0ucXVlc3Rpb25zQ29udHJvbFtpbmRleFF1ZXN0aW9uXS5tb2JpbGVNZWRpYXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogcGFyc2VJbnQoZWxlbWVudE1vYmlsZS5ma19pZG1lZGlhdHlwZS5zcGxpdCgiLyIpWzRdKSwKICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IGVsZW1lbnRNb2JpbGUudXJsbGluaywKICAgICAgICAgICAgICAgICAgICB1cmw6IGVsZW1lbnRNb2JpbGUudXJsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHZtLnZpZXdRdWVzdGlvbnMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2wgPSBbXTsKICAgICAgICB0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2wgPSBbXTsKICAgICAgICB0aGlzLnJlc2V0VmFsaWRhdGlvbigpOwogICAgICAgIHRoaXMudmlld1F1ZXN0aW9ucyA9IGZhbHNlOwogICAgICAgIHRoaXMuYXZhbGlhY2FvTmFtZSA9ICIiOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiBGVU7Dh8ODTyBQQVJBIFNBTFZBUiBBVElWSURBREUgQ09MQUJPUkFUSVZBIFFVRSBURU5IQSBRVUVTVMOVRVMgKi8KICAgIGFzeW5jIHBvc3RRdWVzdGlvbnMoKSB7CiAgICAgIHZhciBpbnN0cnVjdGlvbmFsZWxlbWVudCA9IHsKICAgICAgICBsYWJlbDogdGhpcy5jb2xhYm9yYXRpdmVOYW1lLAogICAgICAgIGZrX2luc3RydWN0aW9uYWxlbGVtZW50dHlwZTogYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9pbnN0cnVjZWxlbWVudHR5cGUvMy9gLAogICAgICAgIG1lbWJlcmFtb3VudDogdGhpcy5tZW1iZXJBbW91bnQsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuY29sYWJvcmF0aXZlRGVzY3JpcHRpb24KICAgICAgfTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHBhdGggPSBbXTsKICAgICAgdmFyIGF1eFBhdGggPSAiIjsKICAgICAgaWYgKHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbCkgewogICAgICAgIHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbC5mb3JFYWNoKG1vYmlsZW1lZGlhID0+IHsKICAgICAgICAgIGlmIChtb2JpbGVtZWRpYS51cmwpIHsKICAgICAgICAgICAgaWYgKG1vYmlsZW1lZGlhLnR5cGUgIT09IDUpIHsKICAgICAgICAgICAgICBmaXJlYmFzZQogICAgICAgICAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgICAgICAgICAgLnJlZigpCiAgICAgICAgICAgICAgICAuY2hpbGQobW9iaWxlbWVkaWEucGF0aCkKICAgICAgICAgICAgICAgIC5wdXQobW9iaWxlbWVkaWEub2JqZWN0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYXV4UGF0aCA9CiAgICAgICAgICAgICAgdGhpcy5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSArCiAgICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgICBEYXRlLm5vdygpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIGlmIChtb2JpbGVtZWRpYS50eXBlICE9PSA1KSB7CiAgICAgICAgICAgICAgZmlyZWJhc2UKICAgICAgICAgICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAgICAgICAgIC5yZWYoKQogICAgICAgICAgICAgICAgLmNoaWxkKGF1eFBhdGgpCiAgICAgICAgICAgICAgICAucHV0KG1vYmlsZW1lZGlhLm9iamVjdCk7CgogICAgICAgICAgICAgIHBhdGgucHVzaChhdXhQYXRoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcGF0aFF1ZXN0aW9ucyA9IFtdOwogICAgICB2YXIgYXV4UGF0aFF1ZXN0aW9ucyA9ICIiOwogICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2wuZm9yRWFjaChmdW5jdGlvbihxdWVzdGlvbikgewogICAgICAgIGlmIChxdWVzdGlvbi5tb2JpbGVNZWRpYXMpIHsKICAgICAgICAgIHF1ZXN0aW9uLm1vYmlsZU1lZGlhcy5mb3JFYWNoKG1vYmlsZW1lZGlhID0+IHsKICAgICAgICAgICAgaWYgKG1vYmlsZW1lZGlhLnVybCkgewogICAgICAgICAgICAgIGlmIChtb2JpbGVtZWRpYS50eXBlICE9PSA1KSB7CiAgICAgICAgICAgICAgICBmaXJlYmFzZQogICAgICAgICAgICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgICAgICAgICAgIC5yZWYoKQogICAgICAgICAgICAgICAgICAuY2hpbGQobW9iaWxlbWVkaWEucGF0aCkKICAgICAgICAgICAgICAgICAgLnB1dChtb2JpbGVtZWRpYS5vYmplY3QpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhdXhQYXRoUXVlc3Rpb25zID0KICAgICAgICAgICAgICAgIHZtLmRvbWFpbi5pZGtub3dsZWRnZWRvbWFpbi50b1N0cmluZygpICsKICAgICAgICAgICAgICAgICIvIiArCiAgICAgICAgICAgICAgICBEYXRlLm5vdygpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgaWYgKG1vYmlsZW1lZGlhLnR5cGUgIT09IDUpIHsKICAgICAgICAgICAgICAgIGZpcmViYXNlCiAgICAgICAgICAgICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAgICAgICAgICAgLnJlZigpCiAgICAgICAgICAgICAgICAgIC5jaGlsZChhdXhQYXRoUXVlc3Rpb25zKQogICAgICAgICAgICAgICAgICAucHV0KG1vYmlsZW1lZGlhLm9iamVjdCk7CgogICAgICAgICAgICAgICAgcGF0aFF1ZXN0aW9ucy5wdXNoKGF1eFBhdGhRdWVzdGlvbnMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLmluc3RydWNUeXBlID09PSAiZG9taW5pbyIpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGluc3RydWN0aW9uYWxlbGVtZW50LCB7CiAgICAgICAgICBma19pZGtub3dsZWRnZWRvbWFpbjogdGhpcy5pbnN0cnVjT3B0aW9uQ2FsbC51cmwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmluc3RydWNUeXBlID09PSAibW9kdWxvIikgewogICAgICAgIE9iamVjdC5hc3NpZ24oaW5zdHJ1Y3Rpb25hbGVsZW1lbnQsIHsKICAgICAgICAgIGZrX2lkbW9kdWxlOiB0aGlzLmluc3RydWNPcHRpb25DYWxsLnVybAogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5zdHJ1Y1R5cGUgPT09ICJjb25jZWl0byIpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGluc3RydWN0aW9uYWxlbGVtZW50LCB7CiAgICAgICAgICBma19pZGNvbmNlcHQ6IHRoaXMuaW5zdHJ1Y09wdGlvbkNhbGwudXJsCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmluc3RydWN0aW9uYWxlbGVtZW50KSB7CiAgICAgICAgLyogQ8OTRElHTyBQQVJBIEVEScOHw4NPIERBIEFWQUxJQcOHw4NPL0VYRVJDw41DSU8gKi8KICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgLnB1dCh2bS5pbnN0cnVjdGlvbmFsZWxlbWVudC51cmwsIGluc3RydWN0aW9uYWxlbGVtZW50LCB7CiAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgaWYgKHZtLm1vYmlsZU1lZGlhc0NvbnRyb2wpIHsKICAgICAgICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgICAgICAgYXdhaXQgdm0ubW9iaWxlTWVkaWFzQ29udHJvbC5mb3JFYWNoKGFzeW5jIGZ1bmN0aW9uKAogICAgICAgICAgICAgICAgbW9iaWxlbWVkaWEsCiAgICAgICAgICAgICAgICBpbmRleG1vYmlsZQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWYgKG1vYmlsZW1lZGlhLnVybCkgewogICAgICAgICAgICAgICAgICBpZiAobW9iaWxlbWVkaWEudHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dCgKICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZW1lZGlhLnVybCwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJJbWFnZW0gIiArIChpbmRleG1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8iICsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS50eXBlICsKICAgICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG1vYmlsZW1lZGlhLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG1vYmlsZW1lZGlhLnJlc29sdXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmaWxlOiBtb2JpbGVtZWRpYS5uYW1lZmlsZSwKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246CiAgICAgICAgICAgICAgICAgICAgICAgICAgIkltYWdlbSAiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5kZXhtb2JpbGUgKyAxKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgIiAiICsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb3N0YS5kYXRhLmxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ZnVsbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHNob3J0OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICB1cmxsaW5rOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkaW5zdHJ1Y3Rpb25hbGVsZW1lbnQ6IHJlc3Bvc3RhLmRhdGEudXJsCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9iaWxlbWVkaWEudHlwZSA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dCgKICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZW1lZGlhLnVybCwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJWaWRlbyAiICsgKGluZGV4bW9iaWxlICsgMSksCiAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkbWVkaWF0eXBlOgogICAgICAgICAgICAgICAgICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjgwMDAvbWVkaWF0eXBlLyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZW1lZGlhLnR5cGUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICIvIiwKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogbW9iaWxlbWVkaWEucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogbW9iaWxlbWVkaWEucmVzb2x1dGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZWZpbGU6IG1vYmlsZW1lZGlhLm5hbWVmaWxlLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbW9iaWxlbWVkaWEudGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eUxldmVsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ1N0eWxlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDMpIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoCiAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS51cmwsCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiQXVkaW8gIiArIChpbmRleG1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8iICsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS50eXBlICsKICAgICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG1vYmlsZW1lZGlhLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmaWxlOiBtb2JpbGVtZWRpYS5uYW1lZmlsZSwKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRmdWxsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0c2hvcnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybGxpbms6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHlMZXZlbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdTdHlsZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRpbnN0cnVjdGlvbmFsZWxlbWVudDogcmVzcG9zdGEuZGF0YS51cmwKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2JpbGVtZWRpYS50eXBlID09PSA1KSB7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucHV0KAogICAgICAgICAgICAgICAgICAgICAgbW9iaWxlbWVkaWEudXJsLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkxpbmsgIiArIChpbmRleG1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8iICsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS50eXBlICsKICAgICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmaWxlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbW9iaWxlbWVkaWEub2JqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkaW5zdHJ1Y3Rpb25hbGVsZW1lbnQ6IHJlc3Bvc3RhLmRhdGEudXJsCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGlmIChtb2JpbGVtZWRpYS50eXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgICAgIGBodHRwOi8vbG9jYWxob3N0OjgwMDAvbW9iaWxlbWVkaWEvYCwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJJbWFnZW0gIiArIChpbmRleG1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8iICsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS50eXBlICsKICAgICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGhbaV0sCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG1vYmlsZW1lZGlhLnJlc29sdXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmaWxlOiBwYXRoW2ldLnNwbGl0KCIvIilbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOgogICAgICAgICAgICAgICAgICAgICAgICAgICJJbWFnZW0gIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgKGluZGV4bW9iaWxlICsgMSkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICIgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9zdGEuZGF0YS5sYWJlbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eUxldmVsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ1N0eWxlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIlZpZGVvICIgKyAoaW5kZXhtb2JpbGUgKyAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRtZWRpYXR5cGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tZWRpYXR5cGUvIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlbWVkaWEudHlwZSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgIi8iLAogICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoW2ldLAogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBtb2JpbGVtZWRpYS5yZXNvbHV0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogcGF0aFtpXS5zcGxpdCgiLyIpWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbW9iaWxlbWVkaWEudGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eUxldmVsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ1N0eWxlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDMpIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkF1ZGlvICIgKyAoaW5kZXhtb2JpbGUgKyAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRtZWRpYXR5cGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tZWRpYXR5cGUvIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlbWVkaWEudHlwZSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgIi8iLAogICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoW2ldLAogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogcGF0aFtpXS5zcGxpdCgiLyIpWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eUxldmVsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ1N0eWxlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDUpIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkxpbmsgIiArIChpbmRleG1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8iICsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS50eXBlICsKICAgICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmaWxlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbW9iaWxlbWVkaWEub2JqZWN0LAogICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkaW5zdHJ1Y3Rpb25hbGVsZW1lbnQ6IHJlc3Bvc3RhLmRhdGEudXJsCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhd2FpdCB2bS5xdWVzdGlvbnNDb250cm9sLmZvckVhY2goYXN5bmMgZnVuY3Rpb24oCiAgICAgICAgICAgICAgZWxlbWVudFF1ZXN0aW9uLAogICAgICAgICAgICAgIGluZGV4UXVlc3Rpb24KICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRRdWVzdGlvbi51cmwpIHsKICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgICAgICAgIC5wdXQoCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFF1ZXN0aW9uLnVybCwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBvcmRlcnF1ZXN0aW9uOiBpbmRleFF1ZXN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25xdWVzdGlvbjogZWxlbWVudFF1ZXN0aW9uLmRlc2NyaXB0aW9uUXVlc3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICB0eXBlcXVlc3Rpb246CiAgICAgICAgICAgICAgICAgICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvcXVlc3Rpb250eXBlL2AgKwogICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50UXVlc3Rpb24udHlwZVF1ZXN0aW9uICsKICAgICAgICAgICAgICAgICAgICAgICAgYC9gLAogICAgICAgICAgICAgICAgICAgICAgZmtfaWRpbnN0cnVjdGlvbmFsZWxlbWVudDogdm0uaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudXJsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbihyZXNwb3N0YTIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFF1ZXN0aW9uLnR5cGVRdWVzdGlvbiA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZWxlbWVudFF1ZXN0aW9uLmFuc3dlcnNBbHRlcm5hdGl2ZXMuZm9yRWFjaCgKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24oZWxlbWVudEFsdGVybmF0aXZlLCBpbmRleEFsdGVybmF0aXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRBbHRlcm5hdGl2ZS51cmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudEFsdGVybmF0aXZlLnVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkb2JqYW5zd2VyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uaWRPYmpBbnN3ZXJJdGVtc1tpbmRleEFsdGVybmF0aXZlXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzOiBlbGVtZW50QWx0ZXJuYXRpdmUuYW5zd2VycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3RydWU6IGVsZW1lbnRBbHRlcm5hdGl2ZS5pc1RydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRxdWVzdGlvbjogcmVzcG9zdGEyLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyYW5zd2VyYWx0ZXJuYXRpdmVzOiBpbmRleEFsdGVybmF0aXZlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2Fuc3dlcnNhbHRlcm5hdGl2ZXMvYCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkb2JqYW5zd2VyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uaWRPYmpBbnN3ZXJJdGVtc1tpbmRleEFsdGVybmF0aXZlXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzOiBlbGVtZW50QWx0ZXJuYXRpdmUuYW5zd2VycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3RydWU6IGVsZW1lbnRBbHRlcm5hdGl2ZS5pc1RydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRxdWVzdGlvbjogcmVzcG9zdGEyLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyYW5zd2VyYWx0ZXJuYXRpdmVzOiBpbmRleEFsdGVybmF0aXZlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRRdWVzdGlvbi50eXBlUXVlc3Rpb24gPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dCgKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFF1ZXN0aW9uLnVybENvcnJlY3RBbnN3ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0YW5zd2VyOiBlbGVtZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL3F1ZXN0aW9uL2AsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgb3JkZXJxdWVzdGlvbjogaW5kZXhRdWVzdGlvbiArIDEsCiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbnF1ZXN0aW9uOiBlbGVtZW50UXVlc3Rpb24uZGVzY3JpcHRpb25RdWVzdGlvbiwKICAgICAgICAgICAgICAgICAgICAgIGZrX2lkaW5zdHJ1Y3Rpb25hbGVsZW1lbnQ6IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgICAgdHlwZXF1ZXN0aW9uOgogICAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL3F1ZXN0aW9udHlwZS9gICsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFF1ZXN0aW9uLnR5cGVRdWVzdGlvbiArCiAgICAgICAgICAgICAgICAgICAgICAgIGAvYAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEyKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRRdWVzdGlvbi50eXBlUXVlc3Rpb24gPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGVsZW1lbnRRdWVzdGlvbi5hbnN3ZXJzQWx0ZXJuYXRpdmVzLmZvckVhY2goCiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uKGVsZW1lbnRBbHRlcm5hdGl2ZSwgaW5kZXhBbHRlcm5hdGl2ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2Fuc3dlcnNhbHRlcm5hdGl2ZXMvYCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRvYmphbnN3ZXI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uaWRPYmpBbnN3ZXJJdGVtc1tpbmRleEFsdGVybmF0aXZlXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyczogZWxlbWVudEFsdGVybmF0aXZlLmFuc3dlcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzdHJ1ZTogZWxlbWVudEFsdGVybmF0aXZlLmlzVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRxdWVzdGlvbjogcmVzcG9zdGEyLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmFuc3dlcmFsdGVybmF0aXZlczogaW5kZXhBbHRlcm5hdGl2ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudFF1ZXN0aW9uLnR5cGVRdWVzdGlvbiA9PT0gMikgewogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgICAgICAgYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9yZXNvbHV0aW9ucXVlc3Rpb24vYCwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RhbnN3ZXI6IGVsZW1lbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2VyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkcXVlc3Rpb246IHJlc3Bvc3RhMi5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvKiBDw5NESUdPIFBBUkEgQ1JJQcOHw4NPIERBIEFWQUxJQcOHw4NPL0VYRVJDw41DSU8gKi8KICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvaW5zdHJ1Y3Rpb25hbGVsZW1lbnQvYCwKICAgICAgICAgICAgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbihyZXNwb3N0YSkgewogICAgICAgICAgICBpZiAodm0ubW9iaWxlTWVkaWFzQ29udHJvbCkgewogICAgICAgICAgICAgIC8qIElOU0VSw4fDg08gRE9TIE1PQklMRU1FRElBUyBEQSBBVElWSURBREUgQ09MQUJPUkFUSVZBICovCiAgICAgICAgICAgICAgYXdhaXQgdm0ubW9iaWxlTWVkaWFzQ29udHJvbC5mb3JFYWNoKGFzeW5jIGZ1bmN0aW9uKAogICAgICAgICAgICAgICAgbW9iaWxlbWVkaWEsCiAgICAgICAgICAgICAgICBpbmRleG1vYmlsZQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJJbWFnZW0gIiArIChpbmRleG1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgZmtfaWRtZWRpYXR5cGU6CiAgICAgICAgICAgICAgICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjgwMDAvbWVkaWF0eXBlLyIgKwogICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS50eXBlICsKICAgICAgICAgICAgICAgICAgICAgICAgIi8iLAogICAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aFtpbmRleG1vYmlsZV0sCiAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBtb2JpbGVtZWRpYS5yZXNvbHV0aW9uLAogICAgICAgICAgICAgICAgICAgICAgbmFtZWZpbGU6IHBhdGhbaW5kZXhtb2JpbGVdLnNwbGl0KCIvIilbMV0sCiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoKICAgICAgICAgICAgICAgICAgICAgICAgIkltYWdlbSAiICsKICAgICAgICAgICAgICAgICAgICAgICAgKGluZGV4bW9iaWxlICsgMSkgKwogICAgICAgICAgICAgICAgICAgICAgICAiICIgKwogICAgICAgICAgICAgICAgICAgICAgICByZXNwb3N0YS5kYXRhLmxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIHRleHRmdWxsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdGV4dHNob3J0OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHlMZXZlbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJWaWRlbyAiICsgKGluZGV4bW9iaWxlICsgMSksCiAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tZWRpYXR5cGUvIiArCiAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZW1lZGlhLnR5cGUgKwogICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoW2luZGV4bW9iaWxlXSwKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG1vYmlsZW1lZGlhLnJlc29sdXRpb24sCiAgICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogcGF0aFtpbmRleG1vYmlsZV0uc3BsaXQoIi8iKVsxXSwKICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdGltZTogbW9iaWxlbWVkaWEudGltZSwKICAgICAgICAgICAgICAgICAgICAgIHRleHRmdWxsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdGV4dHNob3J0OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHlMZXZlbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDMpIHsKICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJBdWRpbyAiICsgKGluZGV4bW9iaWxlICsgMSksCiAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tZWRpYXR5cGUvIiArCiAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZW1lZGlhLnR5cGUgKwogICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoW2luZGV4bW9iaWxlXSwKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogcGF0aFtpbmRleG1vYmlsZV0uc3BsaXQoIi8iKVsxXSwKICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIHRleHRmdWxsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdGV4dHNob3J0OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHlMZXZlbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDUpIHsKICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJMaW5rICIgKyAoaW5kZXhtb2JpbGUgKyAxKSwKICAgICAgICAgICAgICAgICAgICAgIGZrX2lkbWVkaWF0eXBlOgogICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8iICsKICAgICAgICAgICAgICAgICAgICAgICAgbW9iaWxlbWVkaWEudHlwZSArCiAgICAgICAgICAgICAgICAgICAgICAgICIvIiwKICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgbmFtZWZpbGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICB0ZXh0ZnVsbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIHVybGxpbms6IG1vYmlsZW1lZGlhLm9iamVjdCwKICAgICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHlMZXZlbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBpMiA9IDA7CiAgICAgICAgICAgIGF3YWl0IHZtLnF1ZXN0aW9uc0NvbnRyb2wuZm9yRWFjaChhc3luYyBmdW5jdGlvbigKICAgICAgICAgICAgICBlbGVtZW50UXVlc3Rpb24sCiAgICAgICAgICAgICAgaW5kZXhRdWVzdGlvbgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAvKiBJTlNFUsOHw4NPIERBUyBRVUVTVMOVRVMgREEgQVRJVklEQURFIENPTEFCT1JBVElWQSAqLwogICAgICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgICAgYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9xdWVzdGlvbi9gLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25xdWVzdGlvbjogZWxlbWVudFF1ZXN0aW9uLmRlc2NyaXB0aW9uUXVlc3Rpb24sCiAgICAgICAgICAgICAgICAgICAgb3JkZXJxdWVzdGlvbjogaW5kZXhRdWVzdGlvbiwKICAgICAgICAgICAgICAgICAgICBma19pZGluc3RydWN0aW9uYWxlbGVtZW50OiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgICB0eXBlcXVlc3Rpb246CiAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL3F1ZXN0aW9udHlwZS9gICsKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRRdWVzdGlvbi50eXBlUXVlc3Rpb24gKwogICAgICAgICAgICAgICAgICAgICAgYC9gCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbihyZXNwb3N0YTIpIHsKICAgICAgICAgICAgICAgICAgLyogSU5TRVLDh8ODTyBET1MgTU9CSUxFTUVESUFTIERBUyBRVUVTVMOVRVMgREEgQVRJVklEQURFIENPTEFCT1JBVElWQSAqLwogICAgICAgICAgICAgICAgICBhd2FpdCBlbGVtZW50UXVlc3Rpb24ubW9iaWxlTWVkaWFzLmZvckVhY2goYXN5bmMgZnVuY3Rpb24oCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1vYmlsZSwKICAgICAgICAgICAgICAgICAgICBpbmRleE1vYmlsZQogICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudE1vYmlsZS50eXBlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkltYWdlbSAiICsgKGluZGV4TW9iaWxlICsgMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRtZWRpYXR5cGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL21lZGlhdHlwZS8iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRNb2JpbGUudHlwZSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aFF1ZXN0aW9uc1tpMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogZWxlbWVudE1vYmlsZS5yZXNvbHV0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmaWxlOiBwYXRoUXVlc3Rpb25zW2kyXS5zcGxpdCgiLyIpWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkltYWdlbSAiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpbmRleE1vYmlsZSArIDEpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgUXVlc3TDo28iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3Bvc3RhMi5kYXRhLm9yZGVycXVlc3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ZnVsbDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0c2hvcnQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdTdHlsZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBma19pZHF1ZXN0aW9uOiByZXNwb3N0YTIuZGF0YS51cmwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50TW9iaWxlLnR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgICAgICAgICAgICAgICAgIGBodHRwOi8vbG9jYWxob3N0OjgwMDAvbW9iaWxlbWVkaWEvYCwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiVmlkZW8gIiArIChpbmRleE1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkbWVkaWF0eXBlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tZWRpYXR5cGUvIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50TW9iaWxlLnR5cGUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIi8iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGhRdWVzdGlvbnNbaTJdLAogICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb246IGVsZW1lbnRNb2JpbGUucmVzb2x1dGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogcGF0aFF1ZXN0aW9uc1tpMl0uc3BsaXQoIi8iKVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBlbGVtZW50TW9iaWxlLnRpbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHNob3J0OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHVybGxpbms6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eUxldmVsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRxdWVzdGlvbjogcmVzcG9zdGEyLmRhdGEudXJsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudE1vYmlsZS50eXBlID09PSAzKSB7CiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkF1ZGlvICIgKyAoaW5kZXhNb2JpbGUgKyAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBma19pZG1lZGlhdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjgwMDAvbWVkaWF0eXBlLyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1vYmlsZS50eXBlICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoUXVlc3Rpb25zW2kyXSwKICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVmaWxlOiBwYXRoUXVlc3Rpb25zW2kyXS5zcGxpdCgiLyIpWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHNob3J0OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHVybGxpbms6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eUxldmVsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nU3R5bGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRxdWVzdGlvbjogcmVzcG9zdGEyLmRhdGEudXJsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudE1vYmlsZS50eXBlID09PSA1KSB7CiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDo4MDAwL21vYmlsZW1lZGlhL2AsCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkxpbmsgIiArIChpbmRleE1vYmlsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkbWVkaWF0eXBlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tZWRpYXR5cGUvIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50TW9iaWxlLnR5cGUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIi8iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lZmlsZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRmdWxsOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxsaW5rOiBlbGVtZW50TW9iaWxlLm9iamVjdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdTdHlsZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBma19pZHF1ZXN0aW9uOiByZXNwb3N0YTIuZGF0YS51cmwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGkyKys7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFF1ZXN0aW9uLnR5cGVRdWVzdGlvbiA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgIC8qIElOU0VSw4fDg08gREFTIEFMVEVSTkFUSVZBUyBEQVMgUVVFU1TDlUVTIERBIEFUSVZJREFERSBDT0xBQk9SQVRJVkEgKi8KICAgICAgICAgICAgICAgICAgICBhd2FpdCBlbGVtZW50UXVlc3Rpb24uYW5zd2Vyc0FsdGVybmF0aXZlcy5mb3JFYWNoKAogICAgICAgICAgICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24oZWxlbWVudEFsdGVybmF0aXZlLCBpbmRleEFsdGVybmF0aXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hbnN3ZXJzYWx0ZXJuYXRpdmVzL2AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRvYmphbnN3ZXI6IHZtLmlkT2JqQW5zd2VySXRlbXNbaW5kZXhBbHRlcm5hdGl2ZV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzOiBlbGVtZW50QWx0ZXJuYXRpdmUuYW5zd2VycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzdHJ1ZTogZWxlbWVudEFsdGVybmF0aXZlLmlzVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkcXVlc3Rpb246IHJlc3Bvc3RhMi5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyYW5zd2VyYWx0ZXJuYXRpdmVzOiBpbmRleEFsdGVybmF0aXZlCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRRdWVzdGlvbi50eXBlUXVlc3Rpb24gPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICAvKiBJTlNFUsOHw4NPIERBIFJFU1BPU1RBIERBUyBRVUVTVMOVRVMgREEgQVRJVklEQURFIENPTEFCT1JBVElWQSAqLwogICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgICAgICAgICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL3Jlc29sdXRpb25xdWVzdGlvbi9gLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0YW5zd2VyOiBlbGVtZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlciwKICAgICAgICAgICAgICAgICAgICAgICAgZmtfaWRxdWVzdGlvbjogcmVzcG9zdGEyLmRhdGEudXJsCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYWRkTW9iaWxlTWVkaWEobW9iaWxlTWVkaWFUeXBlKSB7CiAgICAgIGlmIChtb2JpbGVNZWRpYVR5cGUgPT09IDEpIHsKICAgICAgICB0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2wucHVzaCh7CiAgICAgICAgICB0eXBlOiBtb2JpbGVNZWRpYVR5cGUsCiAgICAgICAgICBvYmplY3Q6IG51bGwsCiAgICAgICAgICByZXNvbHV0aW9uOiBudWxsLAogICAgICAgICAgcGF0aDogbnVsbCwKICAgICAgICAgIG5hbWVmaWxlOiBudWxsLAogICAgICAgICAgdXJsOiBudWxsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAobW9iaWxlTWVkaWFUeXBlID09PSAyKSB7CiAgICAgICAgdGhpcy5tb2JpbGVNZWRpYXNDb250cm9sLnB1c2goewogICAgICAgICAgdHlwZTogbW9iaWxlTWVkaWFUeXBlLAogICAgICAgICAgb2JqZWN0OiBudWxsLAogICAgICAgICAgcmVzb2x1dGlvbjogbnVsbCwKICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICBwYXRoOiBudWxsLAogICAgICAgICAgbmFtZWZpbGU6IG51bGwsCiAgICAgICAgICB1cmw6IG51bGwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChtb2JpbGVNZWRpYVR5cGUgPT09IDMpIHsKICAgICAgICB0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2wucHVzaCh7CiAgICAgICAgICB0eXBlOiBtb2JpbGVNZWRpYVR5cGUsCiAgICAgICAgICBvYmplY3Q6IG51bGwsCiAgICAgICAgICBwYXRoOiBudWxsLAogICAgICAgICAgbmFtZWZpbGU6IG51bGwsCiAgICAgICAgICB1cmw6IG51bGwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChtb2JpbGVNZWRpYVR5cGUgPT09IDQpIHsKICAgICAgICB0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2wucHVzaCh7CiAgICAgICAgICB0eXBlOiBtb2JpbGVNZWRpYVR5cGUgKyAxLAogICAgICAgICAgb2JqZWN0OiBudWxsLAogICAgICAgICAgdXJsOiBudWxsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVNb2JpbGVNZWRpYShpZE1vYmlsZU1lZGlhKSB7CiAgICAgIGlmICh0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2xbaWRNb2JpbGVNZWRpYV0udXJsKSB7CiAgICAgICAgaWYgKHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbFtpZE1vYmlsZU1lZGlhXS50eXBlICE9PSA1KSB7CiAgICAgICAgICBhd2FpdCBmaXJlYmFzZQogICAgICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgICAgIC5yZWYoKQogICAgICAgICAgICAuY2hpbGQodGhpcy5tb2JpbGVNZWRpYXNDb250cm9sW2lkTW9iaWxlTWVkaWFdLnBhdGgpCiAgICAgICAgICAgIC5kZWxldGUoKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbFtpZE1vYmlsZU1lZGlhXS51cmwsIHsKICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKGlkTW9iaWxlTWVkaWEgPT0gMCkgewogICAgICAgIHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbC5zaGlmdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbC5zcGxpY2UoaWRNb2JpbGVNZWRpYSwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRRdWVzdGlvbmFyaW8oKSB7CiAgICAgIGlmICh0aGlzLnZpZXdRdWVzdGlvbnMgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy52aWV3UXVlc3Rpb25zID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGRlbGV0ZVF1ZXN0aW9uYXJpbygpIHsKICAgICAgYXdhaXQgdGhpcy5xdWVzdGlvbnNDb250cm9sLmZvckVhY2goYXN5bmMgcXVlc3Rpb24gPT4gewogICAgICAgIGlmIChxdWVzdGlvbi51cmwpIHsKICAgICAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZShxdWVzdGlvbi51cmwsIHsKICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbCA9IFtdOwogICAgICB0aGlzLnZpZXdRdWVzdGlvbnMgPSBmYWxzZTsKICAgIH0sCiAgICBhZGRRdWVzdGlvbihxdWVzdGlvblR5cGUpIHsKICAgICAgaWYgKHF1ZXN0aW9uVHlwZSA9PT0gMSkgewogICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbC5wdXNoKHsKICAgICAgICAgIHR5cGVRdWVzdGlvbjogcXVlc3Rpb25UeXBlLAogICAgICAgICAgZGVzY3JpcHRpb25RdWVzdGlvbjogbnVsbCwKICAgICAgICAgIGFuc3dlcnNBbHRlcm5hdGl2ZXM6IFtdLAogICAgICAgICAgbW9iaWxlTWVkaWFzOiBbXSwKICAgICAgICAgIHVybDogbnVsbAogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHF1ZXN0aW9uVHlwZSA9PT0gMikgewogICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbC5wdXNoKHsKICAgICAgICAgIHR5cGVRdWVzdGlvbjogcXVlc3Rpb25UeXBlLAogICAgICAgICAgZGVzY3JpcHRpb25RdWVzdGlvbjogbnVsbCwKICAgICAgICAgIGNvcnJlY3RBbnN3ZXI6IG51bGwsCiAgICAgICAgICBtb2JpbGVNZWRpYXM6IFtdLAogICAgICAgICAgdXJsOiBudWxsLAogICAgICAgICAgdXJsQ29ycmVjdEFuc3dlcjogbnVsbAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZGVsZXRlUXVlc3Rpb24oaWRRdWVzdGlvbikgewogICAgICBpZiAodGhpcy5xdWVzdGlvbnNDb250cm9sW2lkUXVlc3Rpb25dLnVybCkgewogICAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZSh0aGlzLnF1ZXN0aW9uc0NvbnRyb2xbaWRRdWVzdGlvbl0udXJsLCB7CiAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmIChpZFF1ZXN0aW9uID09IDApIHsKICAgICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2wuc2hpZnQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2wuc3BsaWNlKGlkUXVlc3Rpb24sIDEpOwogICAgICB9CiAgICB9LAogICAgYWRkTW9iaWxlTWVkaWFRdWVzdGlvbihpZFF1ZXN0aW9uLCBtb2JpbGVNZWRpYVR5cGUpIHsKICAgICAgaWYgKG1vYmlsZU1lZGlhVHlwZSA9PT0gMSkgewogICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbFtpZFF1ZXN0aW9uXS5tb2JpbGVNZWRpYXMucHVzaCh7CiAgICAgICAgICB0eXBlOiBtb2JpbGVNZWRpYVR5cGUsCiAgICAgICAgICBvYmplY3Q6IG51bGwsCiAgICAgICAgICByZXNvbHV0aW9uOiBudWxsLAogICAgICAgICAgcGF0aDogbnVsbCwKICAgICAgICAgIG5hbWVmaWxlOiBudWxsLAogICAgICAgICAgdXJsOiBudWxsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAobW9iaWxlTWVkaWFUeXBlID09PSAyKSB7CiAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sW2lkUXVlc3Rpb25dLm1vYmlsZU1lZGlhcy5wdXNoKHsKICAgICAgICAgIHR5cGU6IG1vYmlsZU1lZGlhVHlwZSwKICAgICAgICAgIG9iamVjdDogbnVsbCwKICAgICAgICAgIHJlc29sdXRpb246IG51bGwsCiAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgcGF0aDogbnVsbCwKICAgICAgICAgIG5hbWVmaWxlOiBudWxsLAogICAgICAgICAgdXJsOiBudWxsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAobW9iaWxlTWVkaWFUeXBlID09PSAzKSB7CiAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sW2lkUXVlc3Rpb25dLm1vYmlsZU1lZGlhcy5wdXNoKHsKICAgICAgICAgIHR5cGU6IG1vYmlsZU1lZGlhVHlwZSwKICAgICAgICAgIG9iamVjdDogbnVsbCwKICAgICAgICAgIHBhdGg6IG51bGwsCiAgICAgICAgICBuYW1lZmlsZTogbnVsbCwKICAgICAgICAgIHVybDogbnVsbAogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKG1vYmlsZU1lZGlhVHlwZSA9PT0gNCkgewogICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbFtpZFF1ZXN0aW9uXS5tb2JpbGVNZWRpYXMucHVzaCh7CiAgICAgICAgICB0eXBlOiBtb2JpbGVNZWRpYVR5cGUgKyAxLAogICAgICAgICAgb2JqZWN0OiBudWxsLAogICAgICAgICAgdXJsOiBudWxsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVNb2JpbGVNZWRpYVF1ZXN0aW9uKGlkUXVlc3Rpb24sIGlkTW9iaWxlTWVkaWEpIHsKICAgICAgaWYgKHRoaXMucXVlc3Rpb25zQ29udHJvbFtpZFF1ZXN0aW9uXS5tb2JpbGVNZWRpYXNbaWRNb2JpbGVNZWRpYV0udXJsKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sW2lkUXVlc3Rpb25dLm1vYmlsZU1lZGlhc1tpZE1vYmlsZU1lZGlhXS50eXBlICE9PQogICAgICAgICAgNQogICAgICAgICkgewogICAgICAgICAgYXdhaXQgZmlyZWJhc2UKICAgICAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgICAgICAucmVmKCkKICAgICAgICAgICAgLmNoaWxkKAogICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbFtpZFF1ZXN0aW9uXS5tb2JpbGVNZWRpYXNbaWRNb2JpbGVNZWRpYV0ucGF0aAogICAgICAgICAgICApCiAgICAgICAgICAgIC5kZWxldGUoKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKAogICAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sW2lkUXVlc3Rpb25dLm1vYmlsZU1lZGlhc1tpZE1vYmlsZU1lZGlhXS51cmwsCiAgICAgICAgICB7CiAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfQogICAgICBpZiAoaWRNb2JpbGVNZWRpYSA9PSAwKSB7CiAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sW2lkUXVlc3Rpb25dLm1vYmlsZU1lZGlhcy5zaGlmdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbFtpZFF1ZXN0aW9uXS5tb2JpbGVNZWRpYXMuc3BsaWNlKGlkTW9iaWxlTWVkaWEsIDEpOwogICAgICB9CiAgICB9LAogICAgYWRkQWx0ZXJuYXRpdmUoaWRRdWVzdGlvbikgewogICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2xbaWRRdWVzdGlvbl0uYW5zd2Vyc0FsdGVybmF0aXZlcy5wdXNoKHsKICAgICAgICBpc1RydWU6IGZhbHNlLAogICAgICAgIGFuc3dlcnM6IG51bGwsCiAgICAgICAgdXJsOiBudWxsCiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGRlbGV0ZUFsdGVybmF0aXZlKGlkUXVlc3Rpb24sIGlkQWx0ZXJuYXRpdmUpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbFtpZFF1ZXN0aW9uXS5hbnN3ZXJzQWx0ZXJuYXRpdmVzW2lkQWx0ZXJuYXRpdmVdLnVybAogICAgICApIHsKICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoCiAgICAgICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2xbaWRRdWVzdGlvbl0uYW5zd2Vyc0FsdGVybmF0aXZlc1tpZEFsdGVybmF0aXZlXQogICAgICAgICAgICAudXJsLAogICAgICAgICAgewogICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICk7CiAgICAgIH0KICAgICAgaWYgKGlkQWx0ZXJuYXRpdmUgPT0gMCkgewogICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbFtpZFF1ZXN0aW9uXS5hbnN3ZXJzQWx0ZXJuYXRpdmVzLnNoaWZ0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sW2lkUXVlc3Rpb25dLmFuc3dlcnNBbHRlcm5hdGl2ZXMuc3BsaWNlKAogICAgICAgICAgaWRBbHRlcm5hdGl2ZSwKICAgICAgICAgIDEKICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgdmFsaWRhdGUoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIGlmICh0aGlzLnZpZXdRdWVzdGlvbnMpIHsKICAgICAgICAgIGlmICh0aGlzLnF1ZXN0aW9uc0NvbnRyb2wubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgICAgICB2YXIgYXV4ID0gMTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnF1ZXN0aW9uc0NvbnRyb2wubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoYXV4ID09PSAxKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWVzdGlvbnNDb250cm9sW2ldLnR5cGVRdWVzdGlvbiA9PT0gMSkgewogICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sW2ldLmFuc3dlcnNBbHRlcm5hdGl2ZXMubGVuZ3RoID09PSAwCiAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIHZtLnF1ZXN0aW9uQWp1c3QgPSBpICsgMTsKICAgICAgICAgICAgICAgICAgICB2bS5kaWFsb2dfYWxlcnQzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBhdXggPSAwOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGZvciAoCiAgICAgICAgICAgICAgICAgICAgdmFyIGogPSAwOwogICAgICAgICAgICAgICAgICAgIGogPCB0aGlzLnF1ZXN0aW9uc0NvbnRyb2xbaV0uYW5zd2Vyc0FsdGVybmF0aXZlcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgaisrCiAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbFtpXS5hbnN3ZXJzQWx0ZXJuYXRpdmVzW2pdLmlzVHJ1ZQogICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgIGogPT09CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXN0aW9uc0NvbnRyb2xbaV0uYW5zd2Vyc0FsdGVybmF0aXZlcy5sZW5ndGggLSAxCiAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICB2bS5xdWVzdGlvbkFqdXN0ID0gaSArIDE7CiAgICAgICAgICAgICAgICAgICAgICB2bS5kaWFsb2dfYWxlcnQyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGF1eCA9IDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYXV4ID09PSAxKSB7CiAgICAgICAgICAgICAgdmFyIGF1eE51bWJlclF1ZXN0aW9ucyA9IHRoaXMucXVlc3Rpb25zQ29udHJvbC5sZW5ndGg7CiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wb3N0UXVlc3Rpb25zKCk7CiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZXNldFZhcmlhYmxlcygpOwogICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25zQ29udHJvbCA9IFtdOwogICAgICAgICAgICAgIHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbCA9IFtdOwogICAgICAgICAgICAgIGF3YWl0IHRoaXMuJGVtaXQoImluc3RydWNjbG9zZSIsIGF1eE51bWJlclF1ZXN0aW9ucyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nX2FsZXJ0ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXdhaXQgdGhpcy5wb3N0UXVlc3Rpb25zKCk7CiAgICAgICAgICBhd2FpdCB0aGlzLnJlc2V0VmFyaWFibGVzKCk7CiAgICAgICAgICBhd2FpdCB0aGlzLiRlbWl0KCJpbnN0cnVjY2xvc2UiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZXNldFZhcmlhYmxlcygpIHsKICAgICAgdGhpcy5hdXhHZXRTcmMgPSBbXTsKICAgICAgdGhpcy5hdXhHZXRTcmNRdWVzdGlvbnMgPSBbXTsKICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sID0gW107CiAgICAgIHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbCA9IFtdOwogICAgICB0aGlzLmNvbGFib3JhdGl2ZU5hbWUgPSAiIjsKICAgICAgdGhpcy5tZW1iZXJBbW91bnQgPSAiIjsKICAgICAgdGhpcy5jb2xhYm9yYXRpdmVEZXNjcmlwdGlvbiA9ICIiOwogICAgICB0aGlzLnZpZXdRdWVzdGlvbnMgPSBmYWxzZTsKICAgIH0sCiAgICBhc3luYyByZXNldCgpIHsKICAgICAgYXdhaXQgdGhpcy4kZW1pdCgiaW5zdHJ1Y2Nsb3NlIik7CiAgICAgIGF3YWl0IHRoaXMucmVzZXRWYXJpYWJsZXMoKTsKICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sID0gW107CiAgICAgIHRoaXMubW9iaWxlTWVkaWFzQ29udHJvbCA9IFtdOwogICAgICBhd2FpdCB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgIH0sCiAgICBhdHVhbGl6YU9iaigpIHsKICAgICAgdmFyIGkgPSAwOwogICAgICB0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2wuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICBpZiAoZWxlbWVudC50eXBlICE9PSA1KSB7CiAgICAgICAgICBlbGVtZW50Lm9iamVjdCA9IHRoaXMuYXV4R2V0U3JjW2ldOwogICAgICAgICAgaSsrOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYXR1YWxpemFNZXRhKCkgewogICAgICBpZiAodGhpcy5tb2JpbGVNZWRpYXNDb250cm9sLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLm1vYmlsZU1lZGlhc0NvbnRyb2wuZm9yRWFjaChtb2JpbGVtZWRpYSA9PiB7CiAgICAgICAgICBpZiAobW9iaWxlbWVkaWEub2JqZWN0ICYmICFtb2JpbGVtZWRpYS51cmwpIHsKICAgICAgICAgICAgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDEpIHsKICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwobW9iaWxlbWVkaWEub2JqZWN0KTsKICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS5yZXNvbHV0aW9uID0gaW1nLndpZHRoICsgIlgiICsgaW1nLmhlaWdodDsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgaWYgKG1vYmlsZW1lZGlhLnR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICB2YXIgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpOwogICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzb3VyY2UiKTsKICAgICAgICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKAogICAgICAgICAgICAgICAgInNyYyIsCiAgICAgICAgICAgICAgICBVUkwuY3JlYXRlT2JqZWN0VVJMKG1vYmlsZW1lZGlhLm9iamVjdCkKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKHNvdXJjZSk7CiAgICAgICAgICAgICAgdmlkZW8ub25jYW5wbGF5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS5yZXNvbHV0aW9uID0KICAgICAgICAgICAgICAgICAgdmlkZW8udmlkZW9XaWR0aCArICJYIiArIHZpZGVvLnZpZGVvSGVpZ2h0OwogICAgICAgICAgICAgICAgbW9iaWxlbWVkaWEudGltZSA9IHZpZGVvLmR1cmF0aW9uOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldFNyY0ltYWdlKHBhdGgsIG5hbWVmaWxlKSB7CiAgICAgIC8qdmFyIG9iaiA9IHt9OyovCiAgICAgIGlmIChwYXRoKSB7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICBmaXJlYmFzZQogICAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgICAgLnJlZihwYXRoKQogICAgICAgICAgLmdldERvd25sb2FkVVJMKCkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgICAvKnZtLnZpZXdJbWFnZVNyYyA9IHVybDsqLwogICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAiYmxvYiI7CiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB2YXIgYmxvYiA9IHhoci5yZXNwb25zZTsKICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgbmFtZWZpbGUsIHsKICAgICAgICAgICAgICAgIHR5cGU6IGJsb2IudHlwZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZtLmF1eEdldFNyYy5wdXNoKGZpbGUpOwogICAgICAgICAgICAgIHZtLmF0dWFsaXphT2JqKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHhoci5vcGVuKCJHRVQiLCB1cmwpOwogICAgICAgICAgICB4aHIuc2VuZCgpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRTcmNWaWRlbyhwYXRoLCBuYW1lZmlsZSkgewogICAgICAvKnZhciBvYmogPSB7fTsqLwogICAgICBpZiAocGF0aCkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgZmlyZWJhc2UKICAgICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAgIC5yZWYocGF0aCkKICAgICAgICAgIC5nZXREb3dubG9hZFVSTCgpCiAgICAgICAgICAudGhlbihmdW5jdGlvbih1cmwpIHsKICAgICAgICAgICAgLyp2bS52aWV3VmlkZW9TcmMgPSB1cmw7Ki8KICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gImJsb2IiOwogICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgdmFyIGJsb2IgPSB4aHIucmVzcG9uc2U7CiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIG5hbWVmaWxlLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB2bS5hdXhHZXRTcmMucHVzaChmaWxlKTsKICAgICAgICAgICAgICB2bS5hdHVhbGl6YU9iaigpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB4aHIub3BlbigiR0VUIiwgdXJsKTsKICAgICAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0U3JjQXVkaW8ocGF0aCwgbmFtZWZpbGUpIHsKICAgICAgLyp2YXIgb2JqID0ge307Ki8KICAgICAgaWYgKHBhdGgpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIGZpcmViYXNlCiAgICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgICAucmVmKHBhdGgpCiAgICAgICAgICAuZ2V0RG93bmxvYWRVUkwoKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXJsKSB7CiAgICAgICAgICAgIC8qdm0udmlld0F1ZGlvU3JjID0gdXJsOyovCiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICJibG9iIjsKICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHZhciBibG9iID0geGhyLnJlc3BvbnNlOwogICAgICAgICAgICAgIHZhciBmaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCBuYW1lZmlsZSwgewogICAgICAgICAgICAgICAgdHlwZTogYmxvYi50eXBlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdm0uYXV4R2V0U3JjLnB1c2goZmlsZSk7CiAgICAgICAgICAgICAgdm0uYXR1YWxpemFPYmooKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgeGhyLm9wZW4oIkdFVCIsIHVybCk7CiAgICAgICAgICAgIHhoci5zZW5kKCk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGF0dWFsaXphTWV0YVF1ZXN0aW9ucygpIHsKICAgICAgaWYgKHRoaXMucXVlc3Rpb25zQ29udHJvbC5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sLmZvckVhY2gocXVlc3Rpb24gPT4gewogICAgICAgICAgaWYgKHF1ZXN0aW9uLm1vYmlsZU1lZGlhcykgewogICAgICAgICAgICBxdWVzdGlvbi5tb2JpbGVNZWRpYXMuZm9yRWFjaChtb2JpbGVtZWRpYSA9PiB7CiAgICAgICAgICAgICAgaWYgKG1vYmlsZW1lZGlhLm9iamVjdCAmJiAhbW9iaWxlbWVkaWEudXJsKSB7CiAgICAgICAgICAgICAgICBpZiAobW9iaWxlbWVkaWEudHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG1vYmlsZW1lZGlhLm9iamVjdCk7CiAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBtb2JpbGVtZWRpYS5yZXNvbHV0aW9uID0gaW1nLndpZHRoICsgIlgiICsgaW1nLmhlaWdodDsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9iaWxlbWVkaWEudHlwZSA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpOwogICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic291cmNlIik7CiAgICAgICAgICAgICAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoCiAgICAgICAgICAgICAgICAgICAgInNyYyIsCiAgICAgICAgICAgICAgICAgICAgVVJMLmNyZWF0ZU9iamVjdFVSTChtb2JpbGVtZWRpYS5vYmplY3QpCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKHNvdXJjZSk7CiAgICAgICAgICAgICAgICAgIHZpZGVvLm9uY2FucGxheSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIG1vYmlsZW1lZGlhLnJlc29sdXRpb24gPQogICAgICAgICAgICAgICAgICAgICAgdmlkZW8udmlkZW9XaWR0aCArICJYIiArIHZpZGVvLnZpZGVvSGVpZ2h0OwogICAgICAgICAgICAgICAgICAgIG1vYmlsZW1lZGlhLnRpbWUgPSB2aWRlby5kdXJhdGlvbjsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYXR1YWxpemFPYmpRdWVzdGlvbnMoKSB7CiAgICAgIHZhciBpID0gMDsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5xdWVzdGlvbnNDb250cm9sLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudFF1ZXN0aW9uKSB7CiAgICAgICAgaWYgKGVsZW1lbnRRdWVzdGlvbi5tb2JpbGVNZWRpYXMpIHsKICAgICAgICAgIGVsZW1lbnRRdWVzdGlvbi5tb2JpbGVNZWRpYXMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50TW9iaWxlKSB7CiAgICAgICAgICAgIGlmIChlbGVtZW50TW9iaWxlLnR5cGUgIT09IDUpIHsKICAgICAgICAgICAgICBlbGVtZW50TW9iaWxlLm9iamVjdCA9IHZtLmF1eEdldFNyY1F1ZXN0aW9uc1tpXTsKICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0U3JjSW1hZ2VRdWVzdGlvbnMocGF0aCwgbmFtZWZpbGUpIHsKICAgICAgLyp2YXIgb2JqID0ge307Ki8KICAgICAgaWYgKHBhdGgpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIGZpcmViYXNlCiAgICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgICAucmVmKHBhdGgpCiAgICAgICAgICAuZ2V0RG93bmxvYWRVUkwoKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24odXJsKSB7CiAgICAgICAgICAgIC8qdm0udmlld0ltYWdlU3JjID0gdXJsOyovCiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICJibG9iIjsKICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHZhciBibG9iID0geGhyLnJlc3BvbnNlOwogICAgICAgICAgICAgIHZhciBmaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCBuYW1lZmlsZSwgewogICAgICAgICAgICAgICAgdHlwZTogYmxvYi50eXBlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdm0uYXV4R2V0U3JjUXVlc3Rpb25zLnB1c2goZmlsZSk7CiAgICAgICAgICAgICAgdm0uYXR1YWxpemFPYmpRdWVzdGlvbnMoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgeGhyLm9wZW4oIkdFVCIsIHVybCk7CiAgICAgICAgICAgIHhoci5zZW5kKCk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldFNyY1ZpZGVvUXVlc3Rpb25zKHBhdGgsIG5hbWVmaWxlKSB7CiAgICAgIC8qdmFyIG9iaiA9IHt9OyovCiAgICAgIGlmIChwYXRoKSB7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICBmaXJlYmFzZQogICAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgICAgLnJlZihwYXRoKQogICAgICAgICAgLmdldERvd25sb2FkVVJMKCkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgICAvKnZtLnZpZXdWaWRlb1NyYyA9IHVybDsqLwogICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAiYmxvYiI7CiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB2YXIgYmxvYiA9IHhoci5yZXNwb25zZTsKICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgbmFtZWZpbGUsIHsKICAgICAgICAgICAgICAgIHR5cGU6IGJsb2IudHlwZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZtLmF1eEdldFNyY1F1ZXN0aW9ucy5wdXNoKGZpbGUpOwogICAgICAgICAgICAgIHZtLmF0dWFsaXphT2JqUXVlc3Rpb25zKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHhoci5vcGVuKCJHRVQiLCB1cmwpOwogICAgICAgICAgICB4aHIuc2VuZCgpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRTcmNBdWRpb1F1ZXN0aW9ucyhwYXRoLCBuYW1lZmlsZSkgewogICAgICAvKnZhciBvYmogPSB7fTsqLwogICAgICBpZiAocGF0aCkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgZmlyZWJhc2UKICAgICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAgIC5yZWYocGF0aCkKICAgICAgICAgIC5nZXREb3dubG9hZFVSTCgpCiAgICAgICAgICAudGhlbihmdW5jdGlvbih1cmwpIHsKICAgICAgICAgICAgLyp2bS52aWV3QXVkaW9TcmMgPSB1cmw7Ki8KICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gImJsb2IiOwogICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgdmFyIGJsb2IgPSB4aHIucmVzcG9uc2U7CiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIG5hbWVmaWxlLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB2bS5hdXhHZXRTcmNRdWVzdGlvbnMucHVzaChmaWxlKTsKICAgICAgICAgICAgICB2bS5hdHVhbGl6YU9ialF1ZXN0aW9ucygpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB4aHIub3BlbigiR0VUIiwgdXJsKTsKICAgICAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["AtividadeColaborativaDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAydA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AtividadeColaborativaDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\n  <v-container class=\"pa-0\">\n    <v-card>\n      <v-card-title style=\"background-color:#63B0B0; color:white;\">\n        <span class=\"headline\">\n          <p>Descreva a atividade colaborativa a ser criada.</p>\n        </span>\n      </v-card-title>\n      <v-card-text>\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation class=\"mt-3\">\n          <label class=\"pt-2\" style=\"font-size:1.3em;\" for=\"colaborativeNameArea\">\n            <strong>Identificador da atividade:</strong>\n          </label>\n          <v-text-field\n            id=\"colaborativeNameArea\"\n            v-model=\"colaborativeName\"\n            :counter=\"25\"\n            :rules=\"colaborativeNameRules\"\n            required\n            class=\"mt-2 mb-4\"\n          ></v-text-field>\n          <label class=\"pt-2\" style=\"font-size:1.3em;\" for=\"colaborativeDescriptionArea\">\n            <strong>Escreva a descrição da atividade:</strong>\n          </label>\n          <v-textarea\n            id=\"colaborativeDescriptionArea\"\n            v-model=\"colaborativeDescription\"\n            :rules=\"colaborativeDescriptionRules\"\n            background-color=\"#F2F3F3\"\n            clearable\n            clear-icon=\"mdi-close-circle\"\n            class=\"mt-2\"\n            name=\"input-4-1\"\n            rows=\"8\"\n            filled\n            auto-grow\n            required\n          ></v-textarea>\n          <p class=\"pt-2\" style=\"font-size:1.3em;\">\n            <strong>Número de alunos para realização da atividade:</strong>\n            <v-text-field\n              style=\"width: 15%;\"\n              id=\"memberAmountArea\"\n              type=\"number\"\n              v-model=\"memberAmount\"\n              :rules=\"memberAmountRules\"\n              required\n              class=\"mt-2 mb-4\"\n            ></v-text-field>\n          </p>\n\n          <v-row style=\"margin-top: -20px;\" class=\"mb-2\">\n            <v-col cols=\"4\"></v-col>\n            <v-col>\n              <v-menu\n                top=\"top\"\n                width=\"300px\"\n                origin=\"center center\"\n                :offset-y=\"true\"\n                transition=\"scale-transition\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn v-on=\"on\" large color=\"primary\" style=\"color:white; font-size: 1.2em;\">\n                    <strong>Adicionar MobileMedia</strong>\n                    <v-icon class=\"ml-2\" large color=\"white\">mdi-plus-box</v-icon>\n                  </v-btn>\n                </template>\n\n                <v-list>\n                  <v-list-item\n                    v-for=\"(item, i) in itemsMobileMedia\"\n                    :key=\"i\"\n                    @click=\"addMobileMedia(i+1)\"\n                  >\n                    <v-icon x-large color=\"blue\">{{item.icon}}</v-icon>\n                    <v-list-item-title style=\"font-size: 1.2em; color:#2196F3;\" class=\"ml-1\">\n                      <strong>{{item.name}}</strong>\n                    </v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n\n              <v-btn\n                color=\"primary\"\n                class=\"ml-2\"\n                large\n                style=\"color:white; font-size: 1.2em;\"\n                @click=\"addQuestionario()\"\n              >\n                <strong>Adicionar Questões</strong>\n                <v-icon class=\"ml-2\" large color=\"white\">mdi-plus-box</v-icon>\n              </v-btn>\n            </v-col>\n          </v-row>\n\n          <div v-if=\"mobileMediasControl.length > 0\">\n            <label class=\"mb-6 pt-2\" style=\"font-size:1.3em;\" for=\"colaborativeNameArea\">\n              <strong>MobileMedias da atividade:</strong>\n            </label>\n            <div class=\"mt-8\"></div>\n            <div v-for=\"(mobilemedia,i) in mobileMediasControl\" :key=\"i\">\n              <v-row v-if=\"mobilemedia.type === 1\">\n                <v-spacer></v-spacer>\n                <v-file-input\n                  style=\"width: 165px;\"\n                  label=\"UPLOAD IMAGE\"\n                  filled\n                  @change=\"atualizaMeta\"\n                  v-model=\"mobilemedia.object\"\n                  accept=\"image/*\"\n                  prepend-icon=\"mdi-camera\"\n                ></v-file-input>\n                <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                  <v-icon x-large color=\"red\" @click=\"deleteMobileMedia(i)\">mdi-minus-box</v-icon>\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-row>\n              <v-row v-if=\"mobilemedia.type === 2\">\n                <v-spacer></v-spacer>\n                <v-file-input\n                  style=\"width: 165px;\"\n                  label=\"UPLOAD VIDEO\"\n                  filled\n                  @change=\"atualizaMeta\"\n                  v-model=\"mobilemedia.object\"\n                  accept=\"video/*\"\n                  prepend-icon=\"mdi-video\"\n                ></v-file-input>\n                <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                  <v-icon x-large color=\"red\" @click=\"deleteMobileMedia(i)\">mdi-minus-box</v-icon>\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-row>\n              <v-row v-if=\"mobilemedia.type === 3\">\n                <v-spacer></v-spacer>\n                <v-file-input\n                  style=\"width: 165px;\"\n                  label=\"UPLOAD AUDIO\"\n                  filled\n                  v-model=\"mobilemedia.object\"\n                  accept=\"audio/*\"\n                  prepend-icon=\"mdi-file-music\"\n                ></v-file-input>\n                <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                  <v-icon x-large color=\"red\" @click=\"deleteMobileMedia(i)\">mdi-minus-box</v-icon>\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-row>\n              <v-row v-if=\"mobilemedia.type === 5\" class=\"mb-2\">\n                <v-spacer></v-spacer>\n                <v-text-field\n                  v-model=\"mobilemedia.object\"\n                  :rules=\"linkUrlRules\"\n                  label=\"Url\"\n                  required\n                ></v-text-field>\n                <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                  <v-icon x-large color=\"red\" @click=\"deleteMobileMedia(i)\">mdi-minus-box</v-icon>\n                </v-btn>\n                <v-spacer></v-spacer>\n              </v-row>\n            </div>\n          </div>\n          <div v-if=\"viewQuestions\">\n            <v-app-bar color=\"#D2A64D\" dense dark height=\"45px\" class=\"mt-4\">\n              <v-col cols=\"7\">\n                <v-toolbar-title style=\"font-size:1.2em;\">\n                  <strong>Lista de questões da atividade</strong>\n                </v-toolbar-title>\n              </v-col>\n              <v-col class=\"ml-8\">\n                <v-menu\n                  top=\"top\"\n                  width=\"300px\"\n                  origin=\"center center\"\n                  :offset-y=\"true\"\n                  transition=\"scale-transition\"\n                >\n                  <template v-slot:activator=\"{ on }\">\n                    <v-btn v-on=\"on\" color=\"white\" style=\"color:black; font-size: 1.2em;\">\n                      <strong>Adicionar Questão</strong>\n                      <v-icon class=\"ml-2\" large color=\"black\">mdi-plus-box</v-icon>\n                    </v-btn>\n                  </template>\n\n                  <v-list>\n                    <v-list-item @click=\"addQuestion(1)\">\n                      <v-list-item-title>Questão Objetiva</v-list-item-title>\n                    </v-list-item>\n                    <v-list-item @click=\"addQuestion(2)\">\n                      <v-list-item-title>Questão Discussiva</v-list-item-title>\n                    </v-list-item>\n                  </v-list>\n                </v-menu>\n              </v-col>\n              <v-col cols=\"2\">\n                <v-btn icon=\"icon\">\n                  <v-icon\n                    x-large\n                    color=\"red\"\n                    @click=\"deleteQuestionario()\"\n                    style=\"background-color:white;\"\n                  >mdi-close-box</v-icon>\n                </v-btn>\n              </v-col>\n            </v-app-bar>\n            <v-container>\n              <v-row v-for=\"(item,i) in questionsControl\" :key=\"i\">\n                <v-col cols=\"10\" style=\"background-color:grey;color:white;\" class=\"mt-5\">\n                  <h3>Questão {{i+1}}</h3>\n                </v-col>\n                <v-col cols=\"2\" style=\"paddin-left:-20px; margin-left:-30px;\">\n                  <v-menu\n                    top=\"top\"\n                    width=\"300px\"\n                    origin=\"center center\"\n                    :offset-y=\"true\"\n                    transition=\"scale-transition\"\n                  >\n                    <template v-slot:activator=\"{ on }\">\n                      <v-btn icon v-on=\"on\" class=\"ml-11\">\n                        <v-icon class=\"mt-6\" x-large color=\"primary\">mdi-plus-box</v-icon>\n                      </v-btn>\n                    </template>\n\n                    <v-list>\n                      <v-list-item\n                        v-for=\"(itemType, idItemType) in itemsMobileMedia\"\n                        :key=\"idItemType\"\n                        @click=\"addMobileMediaQuestion(i, idItemType+1)\"\n                      >\n                        <v-icon x-large color=\"blue\">{{itemType.icon}}</v-icon>\n                        <v-list-item-title style=\"font-size: 1.2em; color:#2196F3;\" class=\"ml-1\">\n                          <strong>{{itemType.name}}</strong>\n                        </v-list-item-title>\n                      </v-list-item>\n                    </v-list>\n                  </v-menu>\n                  <v-btn icon @click=\"deleteQuestion(i)\" class=\"ml-4\">\n                    <v-icon class=\"mt-6\" x-large color=\"red\">mdi-close-box</v-icon>\n                  </v-btn>\n                </v-col>\n                <v-row>\n                  <v-col cols>\n                    <v-text-field\n                      v-model=\"questionsControl[i].descriptionQuestion\"\n                      label=\"Descrição da questão\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"3\" class=\"mt-3\" v-if=\"item.typeQuestion === 1\">\n                    <v-btn\n                      color=\"primary\"\n                      style=\"color:white;\"\n                      @click=\"addAlternative(i)\"\n                    >Adicionar Alternativa</v-btn>\n                  </v-col>\n                </v-row>\n\n                <div\n                  v-if=\"questionsControl[i].mobileMedias.length > 0\"\n                  style=\"display: block; width: 100%; margin-top:-20px;\"\n                >\n                  <v-col cols=\"12\">\n                    <div\n                      v-for=\"(mobilemedia, idmobile) in questionsControl[i].mobileMedias\"\n                      :key=\"idmobile\"\n                    >\n                      <v-row v-if=\"mobilemedia.type === 1\">\n                        <v-spacer></v-spacer>\n                        <v-file-input\n                          style=\"width: 165px;\"\n                          label=\"UPLOAD IMAGE\"\n                          filled\n                          @change=\"atualizaMetaQuestions\"\n                          v-model=\"mobilemedia.object\"\n                          accept=\"image/*\"\n                          prepend-icon=\"mdi-camera\"\n                        ></v-file-input>\n                        <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                          <v-icon\n                            x-large\n                            color=\"red\"\n                            @click=\"deleteMobileMediaQuestion(i, idmobile)\"\n                          >mdi-minus-box</v-icon>\n                        </v-btn>\n                        <v-spacer></v-spacer>\n                      </v-row>\n                      <v-row v-if=\"mobilemedia.type === 2\">\n                        <v-spacer></v-spacer>\n                        <v-file-input\n                          style=\"width: 165px;\"\n                          label=\"UPLOAD VIDEO\"\n                          filled\n                          @change=\"atualizaMetaQuestions\"\n                          v-model=\"mobilemedia.object\"\n                          accept=\"video/*\"\n                          prepend-icon=\"mdi-video\"\n                        ></v-file-input>\n                        <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                          <v-icon\n                            x-large\n                            color=\"red\"\n                            @click=\"deleteMobileMediaQuestion(i, idmobile)\"\n                          >mdi-minus-box</v-icon>\n                        </v-btn>\n                        <v-spacer></v-spacer>\n                      </v-row>\n                      <v-row v-if=\"mobilemedia.type === 3\">\n                        <v-spacer></v-spacer>\n                        <v-file-input\n                          style=\"width: 165px;\"\n                          label=\"UPLOAD AUDIO\"\n                          filled\n                          v-model=\"mobilemedia.object\"\n                          accept=\"audio/*\"\n                          prepend-icon=\"mdi-file-music\"\n                        ></v-file-input>\n                        <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                          <v-icon\n                            x-large\n                            color=\"red\"\n                            @click=\"deleteMobileMediaQuestion(i, idmobile)\"\n                          >mdi-minus-box</v-icon>\n                        </v-btn>\n                        <v-spacer></v-spacer>\n                      </v-row>\n                      <v-row v-if=\"mobilemedia.type === 5\" class=\"mb-2\">\n                        <v-spacer></v-spacer>\n                        <v-text-field\n                          v-model=\"mobilemedia.object\"\n                          :rules=\"linkUrlRules\"\n                          label=\"Url\"\n                          required\n                        ></v-text-field>\n                        <v-btn icon=\"icon\" class=\"mt-2 ml-3\">\n                          <v-icon\n                            x-large\n                            color=\"red\"\n                            @click=\"deleteMobileMediaQuestion(i, idmobile)\"\n                          >mdi-minus-box</v-icon>\n                        </v-btn>\n                        <v-spacer></v-spacer>\n                      </v-row>\n                    </div>\n                  </v-col>\n                </div>\n\n                <div\n                  v-if=\"item.typeQuestion === 1\"\n                  style=\"display: block; width: 100%; margin-top:-20px;\"\n                >\n                  <p style=\"color:#f43e00; margin-bottom: -10px;\">\n                    <strong>*AVISO:</strong> Marque o checkbox da alternativa caso ela esteja correta.\n                  </p>\n                  <div\n                    style=\"display: flex; margin-bottom:-30px;\"\n                    v-for=\"(itemAlternative,indexAlternative) in questionsControl[i].answersAlternatives\"\n                    :key=\"indexAlternative\"\n                  >\n                    <v-col cols=\"1\" class=\"mt-5\" style=\" margin-right: -40px;font-size:1.3em;\">\n                      <strong>{{idObjAnswerItems[indexAlternative]}})</strong>\n                    </v-col>\n                    <v-col cols=\"7\">\n                      <v-text-field\n                        v-model=\"questionsControl[i].answersAlternatives[indexAlternative].answers\"\n                        label=\"Descrição da alternativa\"\n                        :rules=\"alternativeDescriptionRules\"\n                        required\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"1\" style=\"margin-right:-40px;\">\n                      <v-checkbox\n                        v-model=\"questionsControl[i].answersAlternatives[indexAlternative].isTrue\"\n                      ></v-checkbox>\n                    </v-col>\n                    <v-col cols=\"1\">\n                      <v-btn icon=\"icon\" @click=\"deleteAlternative(i, indexAlternative)\">\n                        <v-icon large class=\"mt-7\" color=\"red\">mdi-minus-box</v-icon>\n                      </v-btn>\n                    </v-col>\n                  </div>\n                </div>\n                <div\n                  v-else-if=\"item.typeQuestion === 2\"\n                  style=\"display: block; width: 100%; margin-top:-20px;\"\n                >\n                  <v-col cols=\"12\">\n                    <v-textarea\n                      v-model=\"questionsControl[i].correctAnswer\"\n                      background-color=\"#F2F3F3\"\n                      clearable\n                      clear-icon=\"mdi-close-circle\"\n                      class=\"mt-2\"\n                      name=\"input-3-1\"\n                      label=\"Resposta da questão\"\n                      filled\n                      auto-grow\n                      required\n                    ></v-textarea>\n                  </v-col>\n                </div>\n              </v-row>\n            </v-container>\n          </div>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"red\" height=\"49\" dark large @click=\"reset()\">\n          Close\n          <v-icon dark right>mdi-close</v-icon>\n        </v-btn>\n        <v-btn color=\"success\" height=\"49\" dark large @click=\"validate()\">\n          Save\n          <v-icon dark right>mdi-content-save</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialog_alert\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\">ALERTA!</v-card-title>\n          <v-card-text\n            class=\"mt-3\"\n            style=\"font-size: 1.3em;\"\n          >Para salvar um questionário, é necessário criar pelo uma questão.</v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialog_alert = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialog_alert2\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\">ALERTA!</v-card-title>\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">\n            Questões objetivas necessitam de pelo menos uma alternativa correta.\n            <br />\n            Ajuste a questão {{questionAjust}}.\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialog_alert2 = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialog_alert3\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\">ALERTA!</v-card-title>\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">\n            Questões objetivas necessitam de pelo menos uma alternativa.\n            <br />\n            Ajuste a questão {{questionAjust}}.\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialog_alert3 = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport * as firebase from \"firebase\";\nexport default {\n  name: \"AtividadeColaborativaDialog\",\n  props: [\n    \"instrucOptionCall\",\n    \"instrucType\",\n    \"domain\",\n    \"dialog\",\n    \"procedure\",\n    \"concept\",\n    \"module\",\n    \"instructionalelement\"\n  ],\n  data: () => ({\n    auxGetSrc: [],\n    auxGetSrcQuestions: [],\n    valid: true,\n    dialog_alert: false,\n    dialog_alert2: false,\n    dialog_alert3: false,\n    questionAjust: \"\",\n    colaborativeName: \"\",\n    colaborativeNameRules: [\n      v =>\n        !!v ||\n        \"É necessário descrever um identificador para a atividade colaborativa\",\n      v =>\n        (v && v.length <= 25) ||\n        \"Nome do identificador da atividade colaborativa deve ter no máximo 25 caracteres\"\n    ],\n    memberAmount: \"\",\n    memberAmountRules: [\n      v =>\n        !!v ||\n        \"É necessário inserir a quantidade de alunos envolvidos na atividade\"\n    ],\n    colaborativeDescription: \"\",\n    colaborativeDescriptionRules: [\n      v =>\n        !!v ||\n        \"É necessário inserir uma descrição da atividade colaborativa a ser inserida\"\n    ],\n    itemsMobileMedia: [\n      {\n        icon: \"mdi-file-image\",\n        name: \"Imagem\"\n      },\n      {\n        icon: \"mdi-file-video\",\n        name: \"Video\"\n      },\n      {\n        icon: \"mdi-file-music\",\n        name: \"Audio\"\n      },\n      {\n        icon: \"mdi-link-variant\",\n        name: \"Link\"\n      }\n    ],\n    linkUrlRules: [v => !!v || \"É necessário inserir a url do seu link\"],\n    mobileMediasControl: [],\n    viewQuestions: false,\n    questionTypes: [\"Questão Objetiva\", \"Questão Discussiva\"],\n    questionsControl: [],\n    idObjAnswerItems: [\n      \"A\",\n      \"B\",\n      \"C\",\n      \"D\",\n      \"E\",\n      \"F\",\n      \"G\",\n      \"H\",\n      \"I\",\n      \"J\",\n      \"K\",\n      \"L\",\n      \"M\",\n      \"N\",\n      \"O\",\n      \"P\",\n      \"Q\",\n      \"R\",\n      \"S\",\n      \"T\",\n      \"U\",\n      \"V\",\n      \"W\",\n      \"X\",\n      \"Y\",\n      \"Z\"\n    ],\n    alternativeDescriptionRules: [\n      v => !!v || \"É necessário descrever a alternativa.\"\n    ]\n  }),\n  watch: {\n    dialog: async function() {\n      if (this.instructionalelement) {\n        var vm = this;\n        this.$nextTick(function() {\n          this.colaborativeName = this.instructionalelement.label;\n          this.colaborativeDescription = this.instructionalelement.description;\n          this.memberAmount = parseInt(this.instructionalelement.memberamount);\n        });\n        this.questionsControl = [];\n        this.mobileMediasControl = [];\n        if (this.instructionalelement.mobilemedias.length > 0) {\n          await this.instructionalelement.mobilemedias.forEach(async function(\n            elementMobile\n          ) {\n            if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"1\") {\n              vm.getSrcImage(elementMobile.path, elementMobile.namefile);\n              await vm.mobileMediasControl.push({\n                type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                object: null,\n                resolution: elementMobile.resolution,\n                path: elementMobile.path,\n                namefile: elementMobile.namefile,\n                url: elementMobile.url\n              });\n            } else if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"2\") {\n              vm.getSrcVideo(elementMobile.path, elementMobile.namefile);\n              await vm.mobileMediasControl.push({\n                type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                object: null,\n                resolution: elementMobile.resolution,\n                time: elementMobile.time,\n                path: elementMobile.path,\n                namefile: elementMobile.namefile,\n                url: elementMobile.url\n              });\n            } else if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"3\") {\n              vm.getSrcAudio(elementMobile.path, elementMobile.namefile);\n              await vm.mobileMediasControl.push({\n                type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                object: null,\n                path: elementMobile.path,\n                namefile: elementMobile.namefile,\n                url: elementMobile.url\n              });\n            } else if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"5\") {\n              await vm.mobileMediasControl.push({\n                type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                object: elementMobile.urllink,\n                url: elementMobile.url\n              });\n            }\n          });\n        }\n        if (this.instructionalelement.questions.length > 0) {\n          this.viewQuestions = true;\n          await this.instructionalelement.questions.forEach(async function(\n            elementQuestion,\n            indexQuestion\n          ) {\n            if (\n              elementQuestion.typequestion ===\n              `http://127.0.0.1:8000/questiontype/1/`\n            ) {\n              await vm.questionsControl.push({\n                typeQuestion: parseInt(\n                  elementQuestion.typequestion.split(\"/\")[4]\n                ),\n                descriptionQuestion: elementQuestion.descriptionquestion,\n                answersAlternatives: [],\n                mobileMedias: [],\n                url: elementQuestion.url\n              });\n              await elementQuestion.answersalternatives.forEach(async function(\n                elementAlternative\n              ) {\n                await vm.questionsControl[\n                  indexQuestion\n                ].answersAlternatives.push({\n                  isTrue: elementAlternative.istrue,\n                  answers: elementAlternative.answers,\n                  url: elementAlternative.url\n                });\n              });\n            } else if (\n              elementQuestion.typequestion ===\n              `http://127.0.0.1:8000/questiontype/2/`\n            ) {\n              await vm.questionsControl.push({\n                typeQuestion: parseInt(\n                  elementQuestion.typequestion.split(\"/\")[4]\n                ),\n                descriptionQuestion: elementQuestion.descriptionquestion,\n                correctAnswer:\n                  elementQuestion.resolutionquestion[0].correctanswer,\n                mobileMedias: [],\n                url: elementQuestion.url,\n                urlCorrectAnswer: elementQuestion.resolutionquestion[0].url\n              });\n            }\n            if (elementQuestion.mobilemedias) {\n              await elementQuestion.mobilemedias.forEach(async function(\n                elementMobile\n              ) {\n                if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"1\") {\n                  vm.getSrcImageQuestions(\n                    elementMobile.path,\n                    elementMobile.namefile\n                  );\n                  await vm.questionsControl[indexQuestion].mobileMedias.push({\n                    type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                    object: null,\n                    resolution: elementMobile.resolution,\n                    path: elementMobile.path,\n                    namefile: elementMobile.namefile,\n                    url: elementMobile.url\n                  });\n                } else if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"2\") {\n                  vm.getSrcVideoQuestions(\n                    elementMobile.path,\n                    elementMobile.namefile\n                  );\n                  await vm.questionsControl[indexQuestion].mobileMedias.push({\n                    type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                    object: null,\n                    resolution: elementMobile.resolution,\n                    time: elementMobile.time,\n                    path: elementMobile.path,\n                    namefile: elementMobile.namefile,\n                    url: elementMobile.url\n                  });\n                } else if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"3\") {\n                  vm.getSrcAudioQuestions(\n                    elementMobile.path,\n                    elementMobile.namefile\n                  );\n                  await vm.questionsControl[indexQuestion].mobileMedias.push({\n                    type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                    object: null,\n                    path: elementMobile.path,\n                    namefile: elementMobile.namefile,\n                    url: elementMobile.url\n                  });\n                } else if (elementMobile.fk_idmediatype.split(\"/\")[4] === \"5\") {\n                  await vm.questionsControl[indexQuestion].mobileMedias.push({\n                    type: parseInt(elementMobile.fk_idmediatype.split(\"/\")[4]),\n                    object: elementMobile.urllink,\n                    url: elementMobile.url\n                  });\n                }\n              });\n            }\n          });\n          vm.viewQuestions = true;\n        }\n      } else {\n        this.questionsControl = [];\n        this.mobileMediasControl = [];\n        this.resetValidation();\n        this.viewQuestions = false;\n        this.avaliacaoName = \"\";\n      }\n    }\n  },\n  methods: {\n    /* FUNÇÃO PARA SALVAR ATIVIDADE COLABORATIVA QUE TENHA QUESTÕES */\n    async postQuestions() {\n      var instructionalelement = {\n        label: this.colaborativeName,\n        fk_instructionalelementtype: `http://127.0.0.1:8000/instrucelementtype/3/`,\n        memberamount: this.memberAmount,\n        description: this.colaborativeDescription\n      };\n      var vm = this;\n      var path = [];\n      var auxPath = \"\";\n      if (this.mobileMediasControl) {\n        this.mobileMediasControl.forEach(mobilemedia => {\n          if (mobilemedia.url) {\n            if (mobilemedia.type !== 5) {\n              firebase\n                .storage()\n                .ref()\n                .child(mobilemedia.path)\n                .put(mobilemedia.object);\n            }\n          } else {\n            auxPath =\n              this.domain.idknowledgedomain.toString() +\n              \"/\" +\n              Date.now().toString();\n            if (mobilemedia.type !== 5) {\n              firebase\n                .storage()\n                .ref()\n                .child(auxPath)\n                .put(mobilemedia.object);\n\n              path.push(auxPath);\n            }\n          }\n        });\n      }\n\n      var pathQuestions = [];\n      var auxPathQuestions = \"\";\n      this.questionsControl.forEach(function(question) {\n        if (question.mobileMedias) {\n          question.mobileMedias.forEach(mobilemedia => {\n            if (mobilemedia.url) {\n              if (mobilemedia.type !== 5) {\n                firebase\n                  .storage()\n                  .ref()\n                  .child(mobilemedia.path)\n                  .put(mobilemedia.object);\n              }\n            } else {\n              auxPathQuestions =\n                vm.domain.idknowledgedomain.toString() +\n                \"/\" +\n                Date.now().toString();\n              if (mobilemedia.type !== 5) {\n                firebase\n                  .storage()\n                  .ref()\n                  .child(auxPathQuestions)\n                  .put(mobilemedia.object);\n\n                pathQuestions.push(auxPathQuestions);\n              }\n            }\n          });\n        }\n      });\n\n      if (this.instrucType === \"dominio\") {\n        Object.assign(instructionalelement, {\n          fk_idknowledgedomain: this.instrucOptionCall.url\n        });\n      } else if (this.instrucType === \"modulo\") {\n        Object.assign(instructionalelement, {\n          fk_idmodule: this.instrucOptionCall.url\n        });\n      } else if (this.instrucType === \"conceito\") {\n        Object.assign(instructionalelement, {\n          fk_idconcept: this.instrucOptionCall.url\n        });\n      }\n\n      if (this.instructionalelement) {\n        /* CÓDIGO PARA EDIÇÃO DA AVALIAÇÃO/EXERCÍCIO */\n        await axios\n          .put(vm.instructionalelement.url, instructionalelement, {\n            auth: {\n              username: \"admin\",\n              password: \"admin\"\n            }\n          })\n          .then(async function(resposta) {\n            if (vm.mobileMediasControl) {\n              var i = 0;\n              await vm.mobileMediasControl.forEach(async function(\n                mobilemedia,\n                indexmobile\n              ) {\n                if (mobilemedia.url) {\n                  if (mobilemedia.type === 1) {\n                    await axios.put(\n                      mobilemedia.url,\n                      {\n                        label: \"Imagem \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: mobilemedia.path,\n                        resolution: mobilemedia.resolution,\n                        namefile: mobilemedia.namefile,\n                        description:\n                          \"Imagem \" +\n                          (indexmobile + 1) +\n                          \" \" +\n                          resposta.data.label,\n                        time: null,\n                        textfull: null,\n                        textshort: null,\n                        urllink: null,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  } else if (mobilemedia.type === 2) {\n                    await axios.put(\n                      mobilemedia.url,\n                      {\n                        label: \"Video \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: mobilemedia.path,\n                        resolution: mobilemedia.resolution,\n                        namefile: mobilemedia.namefile,\n                        description: null,\n                        time: mobilemedia.time,\n                        textfull: null,\n                        textshort: null,\n                        urllink: null,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  } else if (mobilemedia.type === 3) {\n                    await axios.put(\n                      mobilemedia.url,\n                      {\n                        label: \"Audio \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: mobilemedia.path,\n                        resolution: null,\n                        namefile: mobilemedia.namefile,\n                        description: null,\n                        time: null,\n                        textfull: null,\n                        textshort: null,\n                        urllink: null,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  } else if (mobilemedia.type === 5) {\n                    await axios.put(\n                      mobilemedia.url,\n                      {\n                        label: \"Link \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: null,\n                        resolution: null,\n                        namefile: null,\n                        description: null,\n                        time: null,\n                        textfull: null,\n                        textshort: null,\n                        urllink: mobilemedia.object,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  }\n                } else {\n                  if (mobilemedia.type === 1) {\n                    await axios.post(\n                      `http://localhost:8000/mobilemedia/`,\n                      {\n                        label: \"Imagem \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: path[i],\n                        resolution: mobilemedia.resolution,\n                        namefile: path[i].split(\"/\")[1],\n                        description:\n                          \"Imagem \" +\n                          (indexmobile + 1) +\n                          \" \" +\n                          resposta.data.label,\n                        time: null,\n                        textfull: null,\n                        textshort: null,\n                        urllink: null,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  } else if (mobilemedia.type === 2) {\n                    await axios.post(\n                      `http://localhost:8000/mobilemedia/`,\n                      {\n                        label: \"Video \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: path[i],\n                        resolution: mobilemedia.resolution,\n                        namefile: path[i].split(\"/\")[1],\n                        description: null,\n                        time: mobilemedia.time,\n                        textfull: null,\n                        textshort: null,\n                        urllink: null,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  } else if (mobilemedia.type === 3) {\n                    await axios.post(\n                      `http://localhost:8000/mobilemedia/`,\n                      {\n                        label: \"Audio \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: path[i],\n                        resolution: null,\n                        namefile: path[i].split(\"/\")[1],\n                        description: null,\n                        time: null,\n                        textfull: null,\n                        textshort: null,\n                        urllink: null,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  } else if (mobilemedia.type === 5) {\n                    await axios.post(\n                      `http://localhost:8000/mobilemedia/`,\n                      {\n                        label: \"Link \" + (indexmobile + 1),\n                        fk_idmediatype:\n                          \"http://localhost:8000/mediatype/\" +\n                          mobilemedia.type +\n                          \"/\",\n                        path: null,\n                        resolution: null,\n                        namefile: null,\n                        description: null,\n                        time: null,\n                        textfull: null,\n                        textshort: null,\n                        urllink: mobilemedia.object,\n                        difficultyLevel: null,\n                        learningStyle: null,\n                        fk_idinstructionalelement: resposta.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  }\n                  i++;\n                }\n              });\n            }\n\n            await vm.questionsControl.forEach(async function(\n              elementQuestion,\n              indexQuestion\n            ) {\n              if (elementQuestion.url) {\n                await axios\n                  .put(\n                    elementQuestion.url,\n                    {\n                      orderquestion: indexQuestion,\n                      descriptionquestion: elementQuestion.descriptionQuestion,\n                      typequestion:\n                        `http://127.0.0.1:8000/questiontype/` +\n                        elementQuestion.typeQuestion +\n                        `/`,\n                      fk_idinstructionalelement: vm.instructionalelement.url\n                    },\n                    {\n                      auth: {\n                        username: \"admin\",\n                        password: \"admin\"\n                      }\n                    }\n                  )\n                  .then(async function(resposta2) {\n                    if (elementQuestion.typeQuestion === 1) {\n                      await elementQuestion.answersAlternatives.forEach(\n                        async function(elementAlternative, indexAlternative) {\n                          if (elementAlternative.url) {\n                            await axios.put(\n                              elementAlternative.url,\n                              {\n                                idobjanswer:\n                                  vm.idObjAnswerItems[indexAlternative],\n                                answers: elementAlternative.answers,\n                                istrue: elementAlternative.isTrue,\n                                fk_idquestion: resposta2.data.url,\n                                orderansweralternatives: indexAlternative\n                              },\n                              {\n                                auth: {\n                                  username: \"admin\",\n                                  password: \"admin\"\n                                }\n                              }\n                            );\n                          } else {\n                            await axios.post(\n                              `http://127.0.0.1:8000/answersalternatives/`,\n                              {\n                                idobjanswer:\n                                  vm.idObjAnswerItems[indexAlternative],\n                                answers: elementAlternative.answers,\n                                istrue: elementAlternative.isTrue,\n                                fk_idquestion: resposta2.data.url,\n                                orderansweralternatives: indexAlternative\n                              },\n                              {\n                                auth: {\n                                  username: \"admin\",\n                                  password: \"admin\"\n                                }\n                              }\n                            );\n                          }\n                        }\n                      );\n                    } else if (elementQuestion.typeQuestion === 2) {\n                      await axios.put(\n                        elementQuestion.urlCorrectAnswer,\n                        {\n                          correctanswer: elementQuestion.correctAnswer\n                        },\n                        {\n                          auth: {\n                            username: \"admin\",\n                            password: \"admin\"\n                          }\n                        }\n                      );\n                    }\n                  });\n              } else {\n                await axios\n                  .post(\n                    `http://127.0.0.1:8000/question/`,\n                    {\n                      orderquestion: indexQuestion + 1,\n                      descriptionquestion: elementQuestion.descriptionQuestion,\n                      fk_idinstructionalelement: resposta.data.url,\n                      typequestion:\n                        `http://127.0.0.1:8000/questiontype/` +\n                        elementQuestion.typeQuestion +\n                        `/`\n                    },\n                    {\n                      auth: {\n                        username: \"admin\",\n                        password: \"admin\"\n                      }\n                    }\n                  )\n                  .then(async function(resposta2) {\n                    if (elementQuestion.typeQuestion === 1) {\n                      await elementQuestion.answersAlternatives.forEach(\n                        async function(elementAlternative, indexAlternative) {\n                          await axios.post(\n                            `http://127.0.0.1:8000/answersalternatives/`,\n                            {\n                              idobjanswer:\n                                vm.idObjAnswerItems[indexAlternative],\n                              answers: elementAlternative.answers,\n                              istrue: elementAlternative.isTrue,\n                              fk_idquestion: resposta2.data.url,\n                              orderansweralternatives: indexAlternative\n                            },\n                            {\n                              auth: {\n                                username: \"admin\",\n                                password: \"admin\"\n                              }\n                            }\n                          );\n                        }\n                      );\n                    } else if (elementQuestion.typeQuestion === 2) {\n                      await axios.post(\n                        `http://127.0.0.1:8000/resolutionquestion/`,\n                        {\n                          correctanswer: elementQuestion.correctAnswer,\n                          fk_idquestion: resposta2.data.url\n                        },\n                        {\n                          auth: {\n                            username: \"admin\",\n                            password: \"admin\"\n                          }\n                        }\n                      );\n                    }\n                  });\n              }\n            });\n          });\n      } else {\n        /* CÓDIGO PARA CRIAÇÃO DA AVALIAÇÃO/EXERCÍCIO */\n        await axios\n          .post(\n            `http://127.0.0.1:8000/instructionalelement/`,\n            instructionalelement,\n            {\n              auth: {\n                username: \"admin\",\n                password: \"admin\"\n              }\n            }\n          )\n          .then(async function(resposta) {\n            if (vm.mobileMediasControl) {\n              /* INSERÇÃO DOS MOBILEMEDIAS DA ATIVIDADE COLABORATIVA */\n              await vm.mobileMediasControl.forEach(async function(\n                mobilemedia,\n                indexmobile\n              ) {\n                if (mobilemedia.type === 1) {\n                  await axios.post(\n                    `http://localhost:8000/mobilemedia/`,\n                    {\n                      label: \"Imagem \" + (indexmobile + 1),\n                      fk_idmediatype:\n                        \"http://localhost:8000/mediatype/\" +\n                        mobilemedia.type +\n                        \"/\",\n                      path: path[indexmobile],\n                      resolution: mobilemedia.resolution,\n                      namefile: path[indexmobile].split(\"/\")[1],\n                      description:\n                        \"Imagem \" +\n                        (indexmobile + 1) +\n                        \" \" +\n                        resposta.data.label,\n                      time: null,\n                      textfull: null,\n                      textshort: null,\n                      urllink: null,\n                      difficultyLevel: null,\n                      learningStyle: null,\n                      fk_idinstructionalelement: resposta.data.url\n                    },\n                    {\n                      auth: {\n                        username: \"admin\",\n                        password: \"admin\"\n                      }\n                    }\n                  );\n                } else if (mobilemedia.type === 2) {\n                  await axios.post(\n                    `http://localhost:8000/mobilemedia/`,\n                    {\n                      label: \"Video \" + (indexmobile + 1),\n                      fk_idmediatype:\n                        \"http://localhost:8000/mediatype/\" +\n                        mobilemedia.type +\n                        \"/\",\n                      path: path[indexmobile],\n                      resolution: mobilemedia.resolution,\n                      namefile: path[indexmobile].split(\"/\")[1],\n                      description: null,\n                      time: mobilemedia.time,\n                      textfull: null,\n                      textshort: null,\n                      urllink: null,\n                      difficultyLevel: null,\n                      learningStyle: null,\n                      fk_idinstructionalelement: resposta.data.url\n                    },\n                    {\n                      auth: {\n                        username: \"admin\",\n                        password: \"admin\"\n                      }\n                    }\n                  );\n                } else if (mobilemedia.type === 3) {\n                  await axios.post(\n                    `http://localhost:8000/mobilemedia/`,\n                    {\n                      label: \"Audio \" + (indexmobile + 1),\n                      fk_idmediatype:\n                        \"http://localhost:8000/mediatype/\" +\n                        mobilemedia.type +\n                        \"/\",\n                      path: path[indexmobile],\n                      resolution: null,\n                      namefile: path[indexmobile].split(\"/\")[1],\n                      description: null,\n                      time: null,\n                      textfull: null,\n                      textshort: null,\n                      urllink: null,\n                      difficultyLevel: null,\n                      learningStyle: null,\n                      fk_idinstructionalelement: resposta.data.url\n                    },\n                    {\n                      auth: {\n                        username: \"admin\",\n                        password: \"admin\"\n                      }\n                    }\n                  );\n                } else if (mobilemedia.type === 5) {\n                  await axios.post(\n                    `http://localhost:8000/mobilemedia/`,\n                    {\n                      label: \"Link \" + (indexmobile + 1),\n                      fk_idmediatype:\n                        \"http://localhost:8000/mediatype/\" +\n                        mobilemedia.type +\n                        \"/\",\n                      path: null,\n                      resolution: null,\n                      namefile: null,\n                      description: null,\n                      time: null,\n                      textfull: null,\n                      textshort: null,\n                      urllink: mobilemedia.object,\n                      difficultyLevel: null,\n                      learningStyle: null,\n                      fk_idinstructionalelement: resposta.data.url\n                    },\n                    {\n                      auth: {\n                        username: \"admin\",\n                        password: \"admin\"\n                      }\n                    }\n                  );\n                }\n              });\n            }\n\n            var i2 = 0;\n            await vm.questionsControl.forEach(async function(\n              elementQuestion,\n              indexQuestion\n            ) {\n              /* INSERÇÃO DAS QUESTÕES DA ATIVIDADE COLABORATIVA */\n              await axios\n                .post(\n                  `http://127.0.0.1:8000/question/`,\n                  {\n                    descriptionquestion: elementQuestion.descriptionQuestion,\n                    orderquestion: indexQuestion,\n                    fk_idinstructionalelement: resposta.data.url,\n                    typequestion:\n                      `http://127.0.0.1:8000/questiontype/` +\n                      elementQuestion.typeQuestion +\n                      `/`\n                  },\n                  {\n                    auth: {\n                      username: \"admin\",\n                      password: \"admin\"\n                    }\n                  }\n                )\n                .then(async function(resposta2) {\n                  /* INSERÇÃO DOS MOBILEMEDIAS DAS QUESTÕES DA ATIVIDADE COLABORATIVA */\n                  await elementQuestion.mobileMedias.forEach(async function(\n                    elementMobile,\n                    indexMobile\n                  ) {\n                    if (elementMobile.type === 1) {\n                      await axios.post(\n                        `http://localhost:8000/mobilemedia/`,\n                        {\n                          label: \"Imagem \" + (indexMobile + 1),\n                          fk_idmediatype:\n                            \"http://localhost:8000/mediatype/\" +\n                            elementMobile.type +\n                            \"/\",\n                          path: pathQuestions[i2],\n                          resolution: elementMobile.resolution,\n                          namefile: pathQuestions[i2].split(\"/\")[1],\n                          description:\n                            \"Imagem \" +\n                            (indexMobile + 1) +\n                            \" Questão\" +\n                            resposta2.data.orderquestion,\n                          time: null,\n                          textfull: null,\n                          textshort: null,\n                          urllink: null,\n                          difficultyLevel: null,\n                          learningStyle: null,\n                          fk_idquestion: resposta2.data.url\n                        },\n                        {\n                          auth: {\n                            username: \"admin\",\n                            password: \"admin\"\n                          }\n                        }\n                      );\n                    } else if (elementMobile.type === 2) {\n                      await axios.post(\n                        `http://localhost:8000/mobilemedia/`,\n                        {\n                          label: \"Video \" + (indexMobile + 1),\n                          fk_idmediatype:\n                            \"http://localhost:8000/mediatype/\" +\n                            elementMobile.type +\n                            \"/\",\n                          path: pathQuestions[i2],\n                          resolution: elementMobile.resolution,\n                          namefile: pathQuestions[i2].split(\"/\")[1],\n                          description: null,\n                          time: elementMobile.time,\n                          textfull: null,\n                          textshort: null,\n                          urllink: null,\n                          difficultyLevel: null,\n                          learningStyle: null,\n                          fk_idquestion: resposta2.data.url\n                        },\n                        {\n                          auth: {\n                            username: \"admin\",\n                            password: \"admin\"\n                          }\n                        }\n                      );\n                    } else if (elementMobile.type === 3) {\n                      await axios.post(\n                        `http://localhost:8000/mobilemedia/`,\n                        {\n                          label: \"Audio \" + (indexMobile + 1),\n                          fk_idmediatype:\n                            \"http://localhost:8000/mediatype/\" +\n                            elementMobile.type +\n                            \"/\",\n                          path: pathQuestions[i2],\n                          resolution: null,\n                          namefile: pathQuestions[i2].split(\"/\")[1],\n                          description: null,\n                          time: null,\n                          textfull: null,\n                          textshort: null,\n                          urllink: null,\n                          difficultyLevel: null,\n                          learningStyle: null,\n                          fk_idquestion: resposta2.data.url\n                        },\n                        {\n                          auth: {\n                            username: \"admin\",\n                            password: \"admin\"\n                          }\n                        }\n                      );\n                    } else if (elementMobile.type === 5) {\n                      await axios.post(\n                        `http://localhost:8000/mobilemedia/`,\n                        {\n                          label: \"Link \" + (indexMobile + 1),\n                          fk_idmediatype:\n                            \"http://localhost:8000/mediatype/\" +\n                            elementMobile.type +\n                            \"/\",\n                          path: null,\n                          resolution: null,\n                          namefile: null,\n                          description: null,\n                          time: null,\n                          textfull: null,\n                          textshort: null,\n                          urllink: elementMobile.object,\n                          difficultyLevel: null,\n                          learningStyle: null,\n                          fk_idquestion: resposta2.data.url\n                        },\n                        {\n                          auth: {\n                            username: \"admin\",\n                            password: \"admin\"\n                          }\n                        }\n                      );\n                    }\n                    i2++;\n                  });\n                  if (elementQuestion.typeQuestion === 1) {\n                    /* INSERÇÃO DAS ALTERNATIVAS DAS QUESTÕES DA ATIVIDADE COLABORATIVA */\n                    await elementQuestion.answersAlternatives.forEach(\n                      async function(elementAlternative, indexAlternative) {\n                        await axios.post(\n                          `http://127.0.0.1:8000/answersalternatives/`,\n                          {\n                            idobjanswer: vm.idObjAnswerItems[indexAlternative],\n                            answers: elementAlternative.answers,\n                            istrue: elementAlternative.isTrue,\n                            fk_idquestion: resposta2.data.url,\n                            orderansweralternatives: indexAlternative\n                          },\n                          {\n                            auth: {\n                              username: \"admin\",\n                              password: \"admin\"\n                            }\n                          }\n                        );\n                      }\n                    );\n                  } else if (elementQuestion.typeQuestion === 2) {\n                    /* INSERÇÃO DA RESPOSTA DAS QUESTÕES DA ATIVIDADE COLABORATIVA */\n                    await axios.post(\n                      `http://127.0.0.1:8000/resolutionquestion/`,\n                      {\n                        correctanswer: elementQuestion.correctAnswer,\n                        fk_idquestion: resposta2.data.url\n                      },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    );\n                  }\n                });\n            });\n          });\n      }\n    },\n    addMobileMedia(mobileMediaType) {\n      if (mobileMediaType === 1) {\n        this.mobileMediasControl.push({\n          type: mobileMediaType,\n          object: null,\n          resolution: null,\n          path: null,\n          namefile: null,\n          url: null\n        });\n      } else if (mobileMediaType === 2) {\n        this.mobileMediasControl.push({\n          type: mobileMediaType,\n          object: null,\n          resolution: null,\n          time: null,\n          path: null,\n          namefile: null,\n          url: null\n        });\n      } else if (mobileMediaType === 3) {\n        this.mobileMediasControl.push({\n          type: mobileMediaType,\n          object: null,\n          path: null,\n          namefile: null,\n          url: null\n        });\n      } else if (mobileMediaType === 4) {\n        this.mobileMediasControl.push({\n          type: mobileMediaType + 1,\n          object: null,\n          url: null\n        });\n      }\n    },\n    async deleteMobileMedia(idMobileMedia) {\n      if (this.mobileMediasControl[idMobileMedia].url) {\n        if (this.mobileMediasControl[idMobileMedia].type !== 5) {\n          await firebase\n            .storage()\n            .ref()\n            .child(this.mobileMediasControl[idMobileMedia].path)\n            .delete();\n        }\n        await axios.delete(this.mobileMediasControl[idMobileMedia].url, {\n          auth: {\n            username: \"admin\",\n            password: \"admin\"\n          }\n        });\n      }\n      if (idMobileMedia == 0) {\n        this.mobileMediasControl.shift();\n      } else {\n        this.mobileMediasControl.splice(idMobileMedia, 1);\n      }\n    },\n    addQuestionario() {\n      if (this.viewQuestions === false) {\n        this.viewQuestions = true;\n      }\n    },\n    async deleteQuestionario() {\n      await this.questionsControl.forEach(async question => {\n        if (question.url) {\n          await axios.delete(question.url, {\n            auth: {\n              username: \"admin\",\n              password: \"admin\"\n            }\n          });\n        }\n      });\n      this.questionsControl = [];\n      this.viewQuestions = false;\n    },\n    addQuestion(questionType) {\n      if (questionType === 1) {\n        this.questionsControl.push({\n          typeQuestion: questionType,\n          descriptionQuestion: null,\n          answersAlternatives: [],\n          mobileMedias: [],\n          url: null\n        });\n      } else if (questionType === 2) {\n        this.questionsControl.push({\n          typeQuestion: questionType,\n          descriptionQuestion: null,\n          correctAnswer: null,\n          mobileMedias: [],\n          url: null,\n          urlCorrectAnswer: null\n        });\n      }\n    },\n    async deleteQuestion(idQuestion) {\n      if (this.questionsControl[idQuestion].url) {\n        await axios.delete(this.questionsControl[idQuestion].url, {\n          auth: {\n            username: \"admin\",\n            password: \"admin\"\n          }\n        });\n      }\n      if (idQuestion == 0) {\n        this.questionsControl.shift();\n      } else {\n        this.questionsControl.splice(idQuestion, 1);\n      }\n    },\n    addMobileMediaQuestion(idQuestion, mobileMediaType) {\n      if (mobileMediaType === 1) {\n        this.questionsControl[idQuestion].mobileMedias.push({\n          type: mobileMediaType,\n          object: null,\n          resolution: null,\n          path: null,\n          namefile: null,\n          url: null\n        });\n      } else if (mobileMediaType === 2) {\n        this.questionsControl[idQuestion].mobileMedias.push({\n          type: mobileMediaType,\n          object: null,\n          resolution: null,\n          time: null,\n          path: null,\n          namefile: null,\n          url: null\n        });\n      } else if (mobileMediaType === 3) {\n        this.questionsControl[idQuestion].mobileMedias.push({\n          type: mobileMediaType,\n          object: null,\n          path: null,\n          namefile: null,\n          url: null\n        });\n      } else if (mobileMediaType === 4) {\n        this.questionsControl[idQuestion].mobileMedias.push({\n          type: mobileMediaType + 1,\n          object: null,\n          url: null\n        });\n      }\n    },\n    async deleteMobileMediaQuestion(idQuestion, idMobileMedia) {\n      if (this.questionsControl[idQuestion].mobileMedias[idMobileMedia].url) {\n        if (\n          this.questionsControl[idQuestion].mobileMedias[idMobileMedia].type !==\n          5\n        ) {\n          await firebase\n            .storage()\n            .ref()\n            .child(\n              this.questionsControl[idQuestion].mobileMedias[idMobileMedia].path\n            )\n            .delete();\n        }\n        await axios.delete(\n          this.questionsControl[idQuestion].mobileMedias[idMobileMedia].url,\n          {\n            auth: {\n              username: \"admin\",\n              password: \"admin\"\n            }\n          }\n        );\n      }\n      if (idMobileMedia == 0) {\n        this.questionsControl[idQuestion].mobileMedias.shift();\n      } else {\n        this.questionsControl[idQuestion].mobileMedias.splice(idMobileMedia, 1);\n      }\n    },\n    addAlternative(idQuestion) {\n      this.questionsControl[idQuestion].answersAlternatives.push({\n        isTrue: false,\n        answers: null,\n        url: null\n      });\n    },\n    async deleteAlternative(idQuestion, idAlternative) {\n      if (\n        this.questionsControl[idQuestion].answersAlternatives[idAlternative].url\n      ) {\n        await axios.delete(\n          this.questionsControl[idQuestion].answersAlternatives[idAlternative]\n            .url,\n          {\n            auth: {\n              username: \"admin\",\n              password: \"admin\"\n            }\n          }\n        );\n      }\n      if (idAlternative == 0) {\n        this.questionsControl[idQuestion].answersAlternatives.shift();\n      } else {\n        this.questionsControl[idQuestion].answersAlternatives.splice(\n          idAlternative,\n          1\n        );\n      }\n    },\n    async validate() {\n      if (this.$refs.form.validate()) {\n        if (this.viewQuestions) {\n          if (this.questionsControl.length > 0) {\n            var vm = this;\n            var aux = 1;\n            for (var i = 0; i < this.questionsControl.length; i++) {\n              if (aux === 1) {\n                if (this.questionsControl[i].typeQuestion === 1) {\n                  if (\n                    this.questionsControl[i].answersAlternatives.length === 0\n                  ) {\n                    vm.questionAjust = i + 1;\n                    vm.dialog_alert3 = true;\n                    aux = 0;\n                    break;\n                  }\n                  for (\n                    var j = 0;\n                    j < this.questionsControl[i].answersAlternatives.length;\n                    j++\n                  ) {\n                    if (\n                      this.questionsControl[i].answersAlternatives[j].isTrue\n                    ) {\n                      break;\n                    }\n                    if (\n                      j ===\n                      this.questionsControl[i].answersAlternatives.length - 1\n                    ) {\n                      vm.questionAjust = i + 1;\n                      vm.dialog_alert2 = true;\n                      aux = 0;\n                    }\n                  }\n                }\n              } else {\n                break;\n              }\n            }\n            if (aux === 1) {\n              var auxNumberQuestions = this.questionsControl.length;\n              await this.postQuestions();\n              await this.resetVariables();\n              this.questionsControl = [];\n              this.mobileMediasControl = [];\n              await this.$emit(\"instrucclose\", auxNumberQuestions);\n            }\n          } else {\n            this.dialog_alert = true;\n          }\n        } else {\n          await this.postQuestions();\n          await this.resetVariables();\n          await this.$emit(\"instrucclose\");\n        }\n      }\n    },\n    resetVariables() {\n      this.auxGetSrc = [];\n      this.auxGetSrcQuestions = [];\n      this.questionsControl = [];\n      this.mobileMediasControl = [];\n      this.colaborativeName = \"\";\n      this.memberAmount = \"\";\n      this.colaborativeDescription = \"\";\n      this.viewQuestions = false;\n    },\n    async reset() {\n      await this.$emit(\"instrucclose\");\n      await this.resetVariables();\n      this.questionsControl = [];\n      this.mobileMediasControl = [];\n      await this.$refs.form.reset();\n    },\n    atualizaObj() {\n      var i = 0;\n      this.mobileMediasControl.forEach(element => {\n        if (element.type !== 5) {\n          element.object = this.auxGetSrc[i];\n          i++;\n        }\n      });\n    },\n    atualizaMeta() {\n      if (this.mobileMediasControl.length > 0) {\n        this.mobileMediasControl.forEach(mobilemedia => {\n          if (mobilemedia.object && !mobilemedia.url) {\n            if (mobilemedia.type === 1) {\n              var img = new Image();\n              img.src = URL.createObjectURL(mobilemedia.object);\n              img.onload = function() {\n                mobilemedia.resolution = img.width + \"X\" + img.height;\n              };\n            } else if (mobilemedia.type === 2) {\n              var video = document.createElement(\"video\");\n              var source = document.createElement(\"source\");\n              source.setAttribute(\n                \"src\",\n                URL.createObjectURL(mobilemedia.object)\n              );\n              video.appendChild(source);\n              video.oncanplay = function() {\n                mobilemedia.resolution =\n                  video.videoWidth + \"X\" + video.videoHeight;\n                mobilemedia.time = video.duration;\n              };\n            }\n          }\n        });\n      }\n    },\n    getSrcImage(path, namefile) {\n      /*var obj = {};*/\n      if (path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(path)\n          .getDownloadURL()\n          .then(function(url) {\n            /*vm.viewImageSrc = url;*/\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function() {\n              var blob = xhr.response;\n              var file = new File([blob], namefile, {\n                type: blob.type\n              });\n              vm.auxGetSrc.push(file);\n              vm.atualizaObj();\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    getSrcVideo(path, namefile) {\n      /*var obj = {};*/\n      if (path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(path)\n          .getDownloadURL()\n          .then(function(url) {\n            /*vm.viewVideoSrc = url;*/\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function() {\n              var blob = xhr.response;\n              var file = new File([blob], namefile, {\n                type: blob.type\n              });\n              vm.auxGetSrc.push(file);\n              vm.atualizaObj();\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    getSrcAudio(path, namefile) {\n      /*var obj = {};*/\n      if (path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(path)\n          .getDownloadURL()\n          .then(function(url) {\n            /*vm.viewAudioSrc = url;*/\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function() {\n              var blob = xhr.response;\n              var file = new File([blob], namefile, {\n                type: blob.type\n              });\n              vm.auxGetSrc.push(file);\n              vm.atualizaObj();\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    atualizaMetaQuestions() {\n      if (this.questionsControl.length > 0) {\n        this.questionsControl.forEach(question => {\n          if (question.mobileMedias) {\n            question.mobileMedias.forEach(mobilemedia => {\n              if (mobilemedia.object && !mobilemedia.url) {\n                if (mobilemedia.type === 1) {\n                  var img = new Image();\n                  img.src = URL.createObjectURL(mobilemedia.object);\n                  img.onload = function() {\n                    mobilemedia.resolution = img.width + \"X\" + img.height;\n                  };\n                } else if (mobilemedia.type === 2) {\n                  var video = document.createElement(\"video\");\n                  var source = document.createElement(\"source\");\n                  source.setAttribute(\n                    \"src\",\n                    URL.createObjectURL(mobilemedia.object)\n                  );\n                  video.appendChild(source);\n                  video.oncanplay = function() {\n                    mobilemedia.resolution =\n                      video.videoWidth + \"X\" + video.videoHeight;\n                    mobilemedia.time = video.duration;\n                  };\n                }\n              }\n            });\n          }\n        });\n      }\n    },\n    atualizaObjQuestions() {\n      var i = 0;\n      var vm = this;\n      this.questionsControl.forEach(function(elementQuestion) {\n        if (elementQuestion.mobileMedias) {\n          elementQuestion.mobileMedias.forEach(function(elementMobile) {\n            if (elementMobile.type !== 5) {\n              elementMobile.object = vm.auxGetSrcQuestions[i];\n              i++;\n            }\n          });\n        }\n      });\n    },\n    getSrcImageQuestions(path, namefile) {\n      /*var obj = {};*/\n      if (path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(path)\n          .getDownloadURL()\n          .then(function(url) {\n            /*vm.viewImageSrc = url;*/\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function() {\n              var blob = xhr.response;\n              var file = new File([blob], namefile, {\n                type: blob.type\n              });\n              vm.auxGetSrcQuestions.push(file);\n              vm.atualizaObjQuestions();\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    getSrcVideoQuestions(path, namefile) {\n      /*var obj = {};*/\n      if (path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(path)\n          .getDownloadURL()\n          .then(function(url) {\n            /*vm.viewVideoSrc = url;*/\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function() {\n              var blob = xhr.response;\n              var file = new File([blob], namefile, {\n                type: blob.type\n              });\n              vm.auxGetSrcQuestions.push(file);\n              vm.atualizaObjQuestions();\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    getSrcAudioQuestions(path, namefile) {\n      /*var obj = {};*/\n      if (path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(path)\n          .getDownloadURL()\n          .then(function(url) {\n            /*vm.viewAudioSrc = url;*/\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function() {\n              var blob = xhr.response;\n              var file = new File([blob], namefile, {\n                type: blob.type\n              });\n              vm.auxGetSrcQuestions.push(file);\n              vm.atualizaObjQuestions();\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    resetValidation() {\n      this.$refs.form.resetValidation();\n    }\n  }\n};\n</script>\n"]}]}