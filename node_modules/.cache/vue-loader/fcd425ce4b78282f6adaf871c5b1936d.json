{"remainingRequest":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\src\\components\\instructional_model\\AudioDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\src\\components\\instructional_model\\AudioDialog.vue","mtime":1591644213301},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590347942431},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1590347941601},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1590348000448},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1590347942431},{"path":"C:\\Users\\Vitor\\Documents\\200\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1590347998594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJBdWRpb0RpYWxvZyIsDQogICAgcHJvcHM6IFsib3B0aW9uQ2FsbCIsICJ0eXBlIiwgImRvbWFpbiJdLA0KICAgIGRhdGE6ICgpID0+ICh7DQogICAgICAgIHZhbGlkOiB0cnVlLA0KICAgICAgICBpbmZvQ2xhc3NlOiAiIiwNCiAgICAgICAgaW5mb0xldmVsOiAiIiwNCiAgICAgICAgaW5mb0xlYXJuaW5nOiAiIiwNCiAgICAgICAgaW5mb0l0ZW1DbGFzc2VzOiBbIkNvbmNlaXRvIiwgIlByaW5jw61waW8iLCAiRmF0byJdLA0KICAgICAgICBpbmZvSXRlbUxldmVsczogWyIwIC0gSW5pY2lhbCIsICIxIC0gRsOhY2lsIiwgIjIgLSBNw6lkaW8iLCAiMyAtIERpZsOtY2lsIl0sDQogICAgICAgIGluZm9JdGVtTGVhcm5pbmdTdHlsZXM6IFsiVmlzdWFsIiwgIlRleHR1YWwiXSwNCiAgICAgICAgaW5mb1Jlc3VtZTogIiIsDQogICAgICAgIGF1ZGlvT2JqZWN0OiB7fQ0KICAgIH0pLA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgcmVzZXQoKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZSIpOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBwb3N0TW9iaWxlTWVkaWEoKSB7DQogICAgICAgICAgICB2YXIgdm0gPSB0aGlzOw0KICAgICAgICAgICAgdmFyIHBhdGggPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7DQogICAgICAgICAgICBhd2FpdCBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCkuY2hpbGQodm0uZG9tYWluLmlka25vd2xlZGdlZG9tYWluLnRvU3RyaW5nKCkpLmNoaWxkKHBhdGgpLnB1dCh2bS5hdWRpb09iamVjdCk7DQogICAgICAgICAgICB2YXIgbW9iaWxlbWVkaWEgPSB7DQogICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuaW1hZ2VtRGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgZmtfaWRtZWRpYXR5cGU6ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvbWVkaWF0eXBlLzIvIiwNCiAgICAgICAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IG51bGwsDQogICAgICAgICAgICAgICAgbGVhcm5pbmdTdHlsZTogbnVsbCwNCiAgICAgICAgICAgICAgICBwYXRoOiB2bS5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSArICIvIiArIHBhdGgsDQogICAgICAgICAgICAgICAgbmFtZWZpbGU6IHRoaXMuYXVkaW9PYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBudWxsLA0KICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLA0KICAgICAgICAgICAgICAgIHRpbWU6IG51bGwsDQogICAgICAgICAgICAgICAgdGV4dGZ1bGw6IG51bGwsDQogICAgICAgICAgICAgICAgdGV4dHNob3J0OiBudWxsLA0KICAgICAgICAgICAgICAgIHVybGxpbms6IG51bGwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtaW5mbyk7DQogICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7DQogICAgICAgICAgICAgICAgdmFyIGl0ZW1pbmZvID0gew0KICAgICAgICAgICAgICAgICAgICBuYW1laW5mb3JtYXRpb25pdGVtOiAiYXVkaW9fIiArIHZtLmF1ZGlvT2JqZWN0Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgIGZrX2luZm9ybWF0aW9uaXRlbXR5cGU6IGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvaW5mb3JtYXRpb25pdGVtdHlwZS9gICsgKHZtLmluZm9DbGFzc2UgKyAxKSArICIvIiwNCiAgICAgICAgICAgICAgICAgICAgZmtfaWRjb25jZXB0OiB0aGlzLm9wdGlvbkNhbGwudXJsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW1pbmZvKTsNCiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIikgew0KICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsNCiAgICAgICAgICAgICAgICAgICAgZmtfaWRrbm93bGVkZ2Vkb21haW46IHRoaXMub3B0aW9uQ2FsbC51cmwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAibW9kdWxvIikgew0KICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsNCiAgICAgICAgICAgICAgICAgICAgZmtfbW9kdWxlOiB0aGlzLm9wdGlvbkNhbGwudXJsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gImNvbmNlaXRvIikgew0KICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsNCiAgICAgICAgICAgICAgICAgICAgZmtfY29uY2VwdDogdGhpcy5vcHRpb25DYWxsLnVybA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MNCiAgICAgICAgICAgICAgICAgICAgLnBvc3QoYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9pbmZvcm1hdGlvbml0ZW0vYCwgaXRlbWluZm8sIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9zdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLCBtb2JpbGVtZWRpYSwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICggLypyZXNwb3N0YSovICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKnZtLm1vZHVsb1RpdGxlID0gcmVzcG9zdGEuZGF0YS5uYW1lbW9kdWxlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3ViVGl0bGUgPSByZXNwb3N0YS5kYXRhLnN1YnRpdGxlOyovDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIiB8fCB0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MNCiAgICAgICAgICAgICAgICAgICAgLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9tb2JpbGVtZWRpYS9gLCBtb2JpbGVtZWRpYSwgew0KICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICggLypyZXNwb3N0YSovICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLyp2bS5tb2R1bG9UaXRsZSA9IHJlc3Bvc3RhLmRhdGEubmFtZW1vZHVsZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3ViVGl0bGUgPSByZXNwb3N0YS5kYXRhLnN1YnRpdGxlOyovDQogICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIHZhbGlkYXRlKCkgew0KICAgICAgICAgICAgdmFyIHZtID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMuaW5mb0NsYXNzZSA9IHRoaXMuaW5mb0l0ZW1DbGFzc2VzLmZpbmRJbmRleChmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHZtLmluZm9DbGFzc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuaW5mb0xldmVsID0gdGhpcy5pbmZvSXRlbUxldmVscy5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2bS5pbmZvTGV2ZWw7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuaW5mb0xlYXJuaW5nID0gdGhpcy5pbmZvSXRlbUxlYXJuaW5nU3R5bGVzLmZpbmRJbmRleChmdW5jdGlvbiAoDQogICAgICAgICAgICAgICAgdmFsdWUNCiAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0xlYXJuaW5nOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBhd2FpdCB0aGlzLnBvc3RNb2JpbGVNZWRpYSgpOw0KDQogICAgICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZSIpOw0KICAgICAgICB9DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["AudioDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"AudioDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\r\n<v-container class=\"pa-0\">\r\n    <v-card>\r\n        <v-card-title style=\"background-color:#63B0B0; color:white;\">\r\n            <span class=\"headline\">\r\n                <p>Importe seu áudio.</p>\r\n            </span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n            <v-row v-if=\"type==='conceito'\">\r\n\r\n                <v-col cols=\"4\">\r\n                    <label for=\"infoItemClassesSelect\">Classifique o item de informação</label>\r\n                    <v-select id=\"infoItemClassesSelect\" class=\"mt-5\" v-model=\"infoClasse\" :items=\"infoItemClasses\" label=\"Classe\" style=\"margin:0px;\"></v-select>\r\n                </v-col>\r\n\r\n                <v-col cols=\"4\">\r\n                    <label for=\"infoItemLevelsSelect\">Qual o nível de dificuldade deste conteúdo?</label>\r\n                    <v-select id=\"infoItemLevelsSelect\" v-model=\"infoLevel\" :items=\"infoItemLevels\" label=\"Nível\" style=\"margin:0px;\"></v-select>\r\n                </v-col>\r\n                <v-col cols=\"4\">\r\n                    <label for=\"infoItemLearningStylesSelect\">Qual o estilo de aprendizado deste conteúdo?</label>\r\n                    <v-select id=\"infoItemLearningStylesSelect\" v-model=\"infoLearning\" :items=\"infoItemLearningStyles\" label=\"Nível\" style=\"margin:0px;\"></v-select>\r\n                </v-col>\r\n            </v-row>\r\n            <v-spacer></v-spacer>\r\n            <v-file-input label=\"UPLOAD AUDIO\" filled v-model=\"audioObject\" accept=\"audio/*\" prepend-icon=\"mdi-file-music\"></v-file-input>\r\n            <v-spacer></v-spacer>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\r\n                Close\r\n                <v-icon dark right>mdi-close</v-icon>\r\n            </v-btn>\r\n            <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\r\n                Save\r\n                <v-icon dark right>mdi-content-save</v-icon>\r\n            </v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</v-container>\r\n</template>\r\n\r\n<script>\r\nimport * as firebase from \"firebase/app\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: \"AudioDialog\",\r\n    props: [\"optionCall\", \"type\", \"domain\"],\r\n    data: () => ({\r\n        valid: true,\r\n        infoClasse: \"\",\r\n        infoLevel: \"\",\r\n        infoLearning: \"\",\r\n        infoItemClasses: [\"Conceito\", \"Princípio\", \"Fato\"],\r\n        infoItemLevels: [\"0 - Inicial\", \"1 - Fácil\", \"2 - Médio\", \"3 - Difícil\"],\r\n        infoItemLearningStyles: [\"Visual\", \"Textual\"],\r\n        infoResume: \"\",\r\n        audioObject: {}\r\n    }),\r\n    methods: {\r\n        reset() {\r\n            this.$emit(\"close\");\r\n        },\r\n        async postMobileMedia() {\r\n            var vm = this;\r\n            var path = Date.now().toString();\r\n            await firebase.storage().ref().child(vm.domain.idknowledgedomain.toString()).child(path).put(vm.audioObject);\r\n            var mobilemedia = {\r\n                label: this.imagemDescription,\r\n                fk_idmediatype: \"http://localhost:8000/mediatype/2/\",\r\n                difficultyLevel: null,\r\n                learningStyle: null,\r\n                path: vm.domain.idknowledgedomain.toString() + \"/\" + path,\r\n                namefile: this.audioObject.name,\r\n                resolution: null,\r\n                description: null,\r\n                time: null,\r\n                textfull: null,\r\n                textshort: null,\r\n                urllink: null\r\n            };\r\n            console.log(iteminfo);\r\n            if (this.type === \"conceito\") {\r\n                var iteminfo = {\r\n                    nameinformationitem: \"audio_\" + vm.audioObject.name,\r\n                    fk_informationitemtype: `http://127.0.0.1:8000/informationitemtype/` + (vm.infoClasse + 1) + \"/\",\r\n                    fk_idconcept: this.optionCall.url\r\n                };\r\n            }\r\n            console.log(iteminfo);\r\n            if (this.type === \"dominio\") {\r\n                Object.assign(mobilemedia, {\r\n                    fk_idknowledgedomain: this.optionCall.url\r\n                });\r\n            } else if (this.type === \"modulo\") {\r\n                Object.assign(mobilemedia, {\r\n                    fk_module: this.optionCall.url\r\n                });\r\n            } else if (this.type === \"conceito\") {\r\n                Object.assign(mobilemedia, {\r\n                    fk_concept: this.optionCall.url\r\n                });\r\n            }\r\n\r\n            if (this.type === \"conceito\") {\r\n                await axios\r\n                    .post(`http://127.0.0.1:8000/informationitem/`, iteminfo, {\r\n                        auth: {\r\n                            username: \"admin\",\r\n                            password: \"admin\"\r\n                        }\r\n                    })\r\n                    .then(function (resposta) {\r\n                        Object.assign(mobilemedia, {\r\n                            fk_informationitem: resposta.data.url\r\n                        });\r\n                        axios\r\n                            .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\r\n                                auth: {\r\n                                    username: \"admin\",\r\n                                    password: \"admin\"\r\n                                }\r\n                            })\r\n                            .then(function ( /*resposta*/ ) {\r\n                                /*vm.moduloTitle = resposta.data.namemodule;\r\n                                    vm.subTitle = resposta.data.subtitle;*/\r\n                            });\r\n                    });\r\n            } else if (this.type === \"dominio\" || this.type === \"modulo\") {\r\n                await axios\r\n                    .post(`http://localhost:8000/mobilemedia/`, mobilemedia, {\r\n                        auth: {\r\n                            username: \"admin\",\r\n                            password: \"admin\"\r\n                        }\r\n                    })\r\n                    .then(function ( /*resposta*/ ) {\r\n                        /*vm.moduloTitle = resposta.data.namemodule;\r\n                                vm.subTitle = resposta.data.subtitle;*/\r\n                    });\r\n\r\n            }\r\n        },\r\n        async validate() {\r\n            var vm = this;\r\n            this.infoClasse = this.infoItemClasses.findIndex(function (value) {\r\n                return value === vm.infoClasse;\r\n            });\r\n            this.infoLevel = this.infoItemLevels.findIndex(function (value) {\r\n                return value === vm.infoLevel;\r\n            });\r\n            this.infoLearning = this.infoItemLearningStyles.findIndex(function (\r\n                value\r\n            ) {\r\n                return value === vm.infoLearning;\r\n            });\r\n            await this.postMobileMedia();\r\n\r\n            this.$emit(\"close\");\r\n        }\r\n    }\r\n};\r\n</script>\r\n"]}]}