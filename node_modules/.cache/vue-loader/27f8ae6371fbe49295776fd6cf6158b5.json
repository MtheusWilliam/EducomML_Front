{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\PriorKnowledgeDialogConcept.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\PriorKnowledgeDialogConcept.vue","mtime":1596743861323},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1593634550126},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1593634595918},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1593634595223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGkgZnJvbSAiQC9zZXJ2aWNlcy9BcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByaW9yS25vd2xlZGdlRGlhbG9nQ29uY2VwdCIsCiAgcHJvcHM6IFsiZG9tYWluIiwgImRpYWxvZyIsICJjb25jZXB0IiwgIm1vZHVsZSJdLAogIGRhdGE6ICgpID0+ICh7CiAgICB2YWxpZDogdHJ1ZSwKICAgIGF1eENvbmNlcHQ6ICIiLAogICAgdHJlZURhdGE6IFtdLAogICAgc2VsZWN0aW9uOiBbXSwKICAgIGVsZW1lbnREYXRhOiBbXSwKICAgIHR5cGVzVGhyZXNob2xkOiBbCiAgICAgIHsKICAgICAgICB0ZXh0OiAiUG9yY2VudGFnZW0iLAogICAgICAgIHZhbHVlOiAxLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIkxpdGVyYWwiLAogICAgICAgIHZhbHVlOiAyLAogICAgICB9LAogICAgXSwKICAgIHZhbHVlVHlwZXM6IFsiU2luZ2xlIiwgIlJhbmdlIl0sCiAgICBjb25jZXB0c1ByaW9yOiBbXSwKICAgIHByaW9yQ29udHJvbDogW10sCiAgICBwcmlvckxldmVsczogWwogICAgICB7CiAgICAgICAgdGV4dDogIk9icmlnYXTDs3JpbyIsCiAgICAgICAgdmFsdWU6IDEsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiRGVzZWrDoXZlbCIsCiAgICAgICAgdmFsdWU6IDIsCiAgICAgIH0sCiAgICBdLAogICAgZGlhbG9nRXJyb3I6IGZhbHNlLAogICAgbWVzc2FnZUVycm9yOiAiIiwKICAgIG5ld0l0ZW1zOiBbXSwKICAgIGNoZWNrYm94OiB0cnVlLAogIH0pLAogIHdhdGNoOiB7CiAgICBkaWFsb2c6IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnByaW9yQ29udHJvbCA9IFtdOwogICAgICBpZiAodGhpcy5jb25jZXB0KSB7CiAgICAgICAgYXdhaXQgdGhpcy5zZXREb21haW5WYXJpYWJsZXMoKTsKICAgICAgICBhd2FpdCB0aGlzLmdldFByaW9ycygpOwogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICB0aGlzLnByaW9yQ29udHJvbCA9IFtdOwogICAgaWYgKHRoaXMuY29uY2VwdCkgewogICAgICBhd2FpdCB0aGlzLnNldERvbWFpblZhcmlhYmxlcygpOwogICAgICBhd2FpdCB0aGlzLmdldFByaW9ycygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJpb3JzKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBpZiAodGhpcy5jb25jZXB0KSB7CiAgICAgICAgdGhpcy5hdXhDb25jZXB0ID0gdGhpcy5kb21haW4ubW9kdWxlcwogICAgICAgICAgLmZpbHRlcigobSkgPT4gewogICAgICAgICAgICByZXR1cm4gbS51cmwgPT09IHRoaXMuY29uY2VwdC5ma19pZG1vZHVsZTsKICAgICAgICAgIH0pWzBdCiAgICAgICAgICAuY29uY2VwdHMuZmlsdGVyKChjKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBjLnVybCA9PT0gdGhpcy5jb25jZXB0LnVybDsKICAgICAgICAgIH0pWzBdOwogICAgICAgIGlmICh2bS4kc3RvcmUuc3RhdGUucHJpb3JDb25jZXB0cyA9PT0gW10pIHsKICAgICAgICAgIHZtLiRzdG9yZS5zdGF0ZS5wcmlvckNvbmNlcHRzLmZvckVhY2goKHByaW9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMucHJpb3JDb250cm9sLnB1c2goewogICAgICAgICAgICAgIG5hbWVwcmlvcmtub3dsZWRnZTogcHJpb3IubmFtZXByaW9ya25vd2xlZGdlLAogICAgICAgICAgICAgIHByaW9ybGV2ZWw6IHByaW9yLnByaW9ybGV2ZWwsCiAgICAgICAgICAgICAgZmtfaWRjb25jZXB0OiBwcmlvci5ma19pZGNvbmNlcHQsCiAgICAgICAgICAgICAgdXJsOiBwcmlvci51cmwsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLmF1eENvbmNlcHQudGFyZ2V0cHJpb3Jrbm93bGVkZ2UubGVuZ3RoID4gMCkgewogICAgICAgICAgICB0aGlzLmF1eENvbmNlcHQudGFyZ2V0cHJpb3Jrbm93bGVkZ2UuZm9yRWFjaCgocHJpb3IpID0+IHsKICAgICAgICAgICAgICB0aGlzLnByaW9yQ29udHJvbC5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWVwcmlvcmtub3dsZWRnZTogcHJpb3IubmFtZXByaW9ya25vd2xlZGdlLAogICAgICAgICAgICAgICAgcHJpb3JsZXZlbDogcGFyc2VJbnQocHJpb3IucHJpb3JsZXZlbC5zcGxpdCgiLyIpWzRdKSwKICAgICAgICAgICAgICAgIGZrX2lkY29uY2VwdDogcHJpb3IuZmtfcHJpb3Jzb3VyY2Vjb25jZXB0LAogICAgICAgICAgICAgICAgdXJsOiBwcmlvci51cmwsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodm0uJHN0b3JlLnN0YXRlLnByaW9yQ29uY2VwdHMgPT09IFtdKSB7CiAgICAgICAgICB2bS4kc3RvcmUuc3RhdGUucHJpb3JDb25jZXB0cy5mb3JFYWNoKChwcmlvcikgPT4gewogICAgICAgICAgICB0aGlzLnByaW9yQ29udHJvbC5wdXNoKHsKICAgICAgICAgICAgICBuYW1lcHJpb3Jrbm93bGVkZ2U6IHByaW9yLm5hbWVwcmlvcmtub3dsZWRnZSwKICAgICAgICAgICAgICBwcmlvcmxldmVsOiBwcmlvci5wcmlvcmxldmVsLAogICAgICAgICAgICAgIGZrX2lkY29uY2VwdDogcHJpb3IuZmtfaWRjb25jZXB0LAogICAgICAgICAgICAgIHVybDogcHJpb3IudXJsLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNldERvbWFpblZhcmlhYmxlcygpIHsKICAgICAgaWYgKAogICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5tb2R1bGUuY29uY2VwdHMpICYmCiAgICAgICAgdGhpcy5tb2R1bGUuY29uY2VwdHMubGVuZ3RoCiAgICAgICkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tb2R1bGUuY29uY2VwdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgIXRoaXMuY29uY2VwdCB8fAogICAgICAgICAgICB0aGlzLm1vZHVsZS5jb25jZXB0c1tpXS51cmwgIT0gdGhpcy5jb25jZXB0LnVybAogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuY29uY2VwdHNQcmlvci5wdXNoKHsKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLm1vZHVsZS5jb25jZXB0c1tpXS5uYW1lY29uY2VwdCwKICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5tb2R1bGUuY29uY2VwdHNbaV0udXJsLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIHBvc3RQcmlvcktub3dsZWRnZXMoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jb25jZXB0KSB7CiAgICAgICAgYXdhaXQgdGhpcy5wcmlvckNvbnRyb2wuZm9yRWFjaChhc3luYyAocHJpb3IpID0+IHsKICAgICAgICAgIGlmIChwcmlvci51cmwpIHsKICAgICAgICAgICAgYXdhaXQgQXBpKCkKICAgICAgICAgICAgICAucHV0KHByaW9yLnVybCwgewogICAgICAgICAgICAgICAgbmFtZXByaW9ya25vd2xlZGdlOiBwcmlvci5uYW1lcHJpb3Jrbm93bGVkZ2UsCiAgICAgICAgICAgICAgICBwcmlvcmxldmVsOiBgL3ByaW9ybGV2ZWwvYCArIHByaW9yLnByaW9ybGV2ZWwgKyBgL2AsCiAgICAgICAgICAgICAgICBma19wcmlvcnNvdXJjZWNvbmNlcHQ6IHByaW9yLmZrX2lkY29uY2VwdCwKICAgICAgICAgICAgICAgIGZrX3ByaW9ydGFyZ2V0Y29uY2VwdDogdm0uY29uY2VwdC51cmwsCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZtLiRzdG9yZS5kaXNwYXRjaCgiZ2V0UHJpb3JDb25jZXB0cyIsIFtdKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgICAgLnBvc3QoYC9wcmlvcmtub3dsZWRnZS9gLCB7CiAgICAgICAgICAgICAgICBuYW1lcHJpb3Jrbm93bGVkZ2U6IHByaW9yLm5hbWVwcmlvcmtub3dsZWRnZSwKICAgICAgICAgICAgICAgIHByaW9ybGV2ZWw6IGAvcHJpb3JsZXZlbC9gICsgcHJpb3IucHJpb3JsZXZlbCArIGAvYCwKICAgICAgICAgICAgICAgIGZrX3ByaW9yc291cmNlY29uY2VwdDogcHJpb3IuZmtfaWRjb25jZXB0LAogICAgICAgICAgICAgICAgZmtfcHJpb3J0YXJnZXRjb25jZXB0OiB2bS5jb25jZXB0LnVybCwKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdm0uJHN0b3JlLmRpc3BhdGNoKCJnZXRQcmlvckNvbmNlcHRzIiwgW10pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRQcmlvckNvbmNlcHRzIiwgdGhpcy5wcmlvckNvbnRyb2wpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgYWRkUHJpb3JLbm93bGVkZ2UoKSB7CiAgICAgIHRoaXMucHJpb3JDb250cm9sLnB1c2goewogICAgICAgIG5hbWVwcmlvcmtub3dsZWRnZTogIiIsCiAgICAgICAgcHJpb3JsZXZlbDogIiIsCiAgICAgICAgZmtfaWRjb25jZXB0OiAiIiwKICAgICAgICB1cmw6ICIiLAogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBkZWxldGFQcmlvcktub3dsZWRnZShpZFByaW9yKSB7CiAgICAgIGlmICh0aGlzLnByaW9yQ29udHJvbFtpZFByaW9yXS51cmwpIHsKICAgICAgICBhd2FpdCBBcGkoKS5kZWxldGUodGhpcy5wcmlvckNvbnRyb2xbaWRQcmlvcl0udXJsKTsKICAgICAgfQogICAgICBpZiAoaWRQcmlvciA9PSAwKSB7CiAgICAgICAgdGhpcy5wcmlvckNvbnRyb2wuc2hpZnQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByaW9yQ29udHJvbC5zcGxpY2UoaWRQcmlvciwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB2YWxpZGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdmFyIGF1eExvb3BWYWxpZGF0aW9uID0gMTsKICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHRoaXMucHJpb3JDb250cm9sLmxlbmd0aDsgbSsrKSB7CiAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMucHJpb3JDb250cm9sLmxlbmd0aDsgbisrKSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICB0aGlzLnByaW9yQ29udHJvbFttXS5ma19pZGNvbmNlcHQgPT09CiAgICAgICAgICAgICAgICB0aGlzLnByaW9yQ29udHJvbFtuXS5ma19pZGNvbmNlcHQgJiYKICAgICAgICAgICAgICBtICE9PSBuCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGF1eExvb3BWYWxpZGF0aW9uID0gMDsKICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VFcnJvciA9CiAgICAgICAgICAgICAgICAiTsOjbyDDqSBwb3Nzw612ZWwgZGVmaW5pciB1bSBjb25oZWNpbWVudG8gcHJpb3JpdMOhcmlvIG1haXMgZGUgdW1hIHZlei4gVmVyaWZpcXVlIG9zIGNvbmhlY2ltZW50b3MgcHJpb3JpdMOhcmlvcyAiICsKICAgICAgICAgICAgICAgIChuICsgMSkgKwogICAgICAgICAgICAgICAgIiBlICIgKwogICAgICAgICAgICAgICAgKG0gKyAxKSArCiAgICAgICAgICAgICAgICAiLiI7CiAgICAgICAgICAgICAgdGhpcy5kaWFsb2dFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChhdXhMb29wVmFsaWRhdGlvbiA9PT0gMSkgewogICAgICAgICAgYXdhaXQgdGhpcy5wb3N0UHJpb3JLbm93bGVkZ2VzKCk7CiAgICAgICAgICBhd2FpdCB0aGlzLnJlc2V0VmFyaWFibGVzKCk7CiAgICAgICAgICBhd2FpdCB0aGlzLiRlbWl0KCJjbG9zZV9vcl9zYXZlIiwgInNhdmUiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZXNldCgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2Vfb3Jfc2F2ZSIsICJjbG9zZSIpOwogICAgICB0aGlzLnByaW9yQ29udHJvbCA9IFtdOwogICAgfSwKICAgIHJlc2V0VmFyaWFibGVzKCkgewogICAgICB0aGlzLnByaW9yQ29udHJvbCA9IFtdOwogICAgfSwKICAgIHJlc2V0VmFsaWRhdGlvbigpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["PriorKnowledgeDialogConcept.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PriorKnowledgeDialogConcept.vue","sourceRoot":"src/components/didatic_model","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-card-title style=\"background-color:purple; color:white;\">\r\n      <span class=\"headline\">\r\n        <p>\r\n          Defina as informações equivalentes aos conhecimentos prioritários\r\n          desse conceito.\r\n        </p>\r\n      </span>\r\n    </v-card-title>\r\n    <v-row class=\"mx-0 px-0\">\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-row class=\"mx-0 px-0 pl-6\">\r\n          <h3 class=\"mt-5\">Conhecimentos prioritários</h3>\r\n          <v-btn icon=\"icon\" class=\"mb-1\">\r\n            <v-icon\r\n              large\r\n              class=\"mt-9 ml-2\"\r\n              color=\"primary\"\r\n              @click=\"addPriorKnowledge()\"\r\n              >mdi-plus-box</v-icon\r\n            >\r\n          </v-btn>\r\n        </v-row>\r\n        <v-row\r\n          v-for=\"(prior, idPrior) in priorControl\"\r\n          :key=\"idPrior\"\r\n          style=\"margin-bottom: -25px;\"\r\n          class=\"mx-0 px-0 pl-6\"\r\n        >\r\n          <v-col cols=\"4\">\r\n            <v-select\r\n              v-model=\"priorControl[idPrior].fk_idconcept\"\r\n              :items=\"conceptsPrior\"\r\n              :rules=\"[(v) => !!v || 'Necessário informar o conceito prévio']\"\r\n              label=\"Conceito Prévio\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-text-field\r\n              style=\"margin-top: -1px; margin-bottom: -10px;\"\r\n              :rules=\"[\r\n                (v) => !!v || 'Necessário informar identificador da prioridade',\r\n              ]\"\r\n              v-model=\"priorControl[idPrior].namepriorknowledge\"\r\n              label=\"Identificador da prioridade\"\r\n              required\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"3\">\r\n            <v-select\r\n              v-model=\"priorControl[idPrior].priorlevel\"\r\n              :items=\"priorLevels\"\r\n              :rules=\"[\r\n                (v) => !!v || 'Necessário informar o nível de prioridade',\r\n              ]\"\r\n              label=\"Nível de prioridade\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"1\">\r\n            <v-btn icon=\"icon\" class=\"mt-4\">\r\n              <v-icon\r\n                large\r\n                class=\"mb-1\"\r\n                color=\"red\"\r\n                @click=\"deletaPriorKnowledge(idPrior)\"\r\n                >mdi-minus-box</v-icon\r\n              >\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-form>\r\n    </v-row>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\r\n        Cancelar\r\n        <v-icon dark right>mdi-close</v-icon>\r\n      </v-btn>\r\n      <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\r\n        Salvar\r\n        <v-icon dark right>mdi-content-save</v-icon>\r\n      </v-btn>\r\n    </v-card-actions>\r\n    <div class=\"text-center\">\r\n      <v-dialog v-model=\"dialogError\" width=\"500\">\r\n        <v-card>\r\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\"\r\n            >ALERTA!</v-card-title\r\n          >\r\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">{{\r\n            messageError\r\n          }}</v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn color=\"primary\" text @click=\"dialogError = false\">Ok</v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n  import Api from \"@/services/Api\";\r\n  export default {\r\n    name: \"PriorKnowledgeDialogConcept\",\r\n    props: [\"domain\", \"dialog\", \"concept\", \"module\"],\r\n    data: () => ({\r\n      valid: true,\r\n      auxConcept: \"\",\r\n      treeData: [],\r\n      selection: [],\r\n      elementData: [],\r\n      typesThreshold: [\r\n        {\r\n          text: \"Porcentagem\",\r\n          value: 1,\r\n        },\r\n        {\r\n          text: \"Literal\",\r\n          value: 2,\r\n        },\r\n      ],\r\n      valueTypes: [\"Single\", \"Range\"],\r\n      conceptsPrior: [],\r\n      priorControl: [],\r\n      priorLevels: [\r\n        {\r\n          text: \"Obrigatório\",\r\n          value: 1,\r\n        },\r\n        {\r\n          text: \"Desejável\",\r\n          value: 2,\r\n        },\r\n      ],\r\n      dialogError: false,\r\n      messageError: \"\",\r\n      newItems: [],\r\n      checkbox: true,\r\n    }),\r\n    watch: {\r\n      dialog: async function() {\r\n        this.priorControl = [];\r\n        if (this.concept) {\r\n          await this.setDomainVariables();\r\n          await this.getPriors();\r\n        }\r\n      },\r\n    },\r\n    mounted: async function() {\r\n      this.priorControl = [];\r\n      if (this.concept) {\r\n        await this.setDomainVariables();\r\n        await this.getPriors();\r\n      }\r\n    },\r\n    methods: {\r\n      getPriors() {\r\n        var vm = this;\r\n        if (this.concept) {\r\n          this.auxConcept = this.domain.modules\r\n            .filter((m) => {\r\n              return m.url === this.concept.fk_idmodule;\r\n            })[0]\r\n            .concepts.filter((c) => {\r\n              return c.url === this.concept.url;\r\n            })[0];\r\n          if (vm.$store.state.priorConcepts === []) {\r\n            vm.$store.state.priorConcepts.forEach((prior) => {\r\n              this.priorControl.push({\r\n                namepriorknowledge: prior.namepriorknowledge,\r\n                priorlevel: prior.priorlevel,\r\n                fk_idconcept: prior.fk_idconcept,\r\n                url: prior.url,\r\n              });\r\n            });\r\n          } else {\r\n            if (this.auxConcept.targetpriorknowledge.length > 0) {\r\n              this.auxConcept.targetpriorknowledge.forEach((prior) => {\r\n                this.priorControl.push({\r\n                  namepriorknowledge: prior.namepriorknowledge,\r\n                  priorlevel: parseInt(prior.priorlevel.split(\"/\")[4]),\r\n                  fk_idconcept: prior.fk_priorsourceconcept,\r\n                  url: prior.url,\r\n                });\r\n              });\r\n            }\r\n          }\r\n        } else {\r\n          if (vm.$store.state.priorConcepts === []) {\r\n            vm.$store.state.priorConcepts.forEach((prior) => {\r\n              this.priorControl.push({\r\n                namepriorknowledge: prior.namepriorknowledge,\r\n                priorlevel: prior.priorlevel,\r\n                fk_idconcept: prior.fk_idconcept,\r\n                url: prior.url,\r\n              });\r\n            });\r\n          }\r\n        }\r\n      },\r\n      setDomainVariables() {\r\n        if (\r\n          Array.isArray(this.module.concepts) &&\r\n          this.module.concepts.length\r\n        ) {\r\n          for (var i = 0; i < this.module.concepts.length; i++) {\r\n            if (\r\n              !this.concept ||\r\n              this.module.concepts[i].url != this.concept.url\r\n            ) {\r\n              this.conceptsPrior.push({\r\n                text: this.module.concepts[i].nameconcept,\r\n                value: this.module.concepts[i].url,\r\n              });\r\n            } else {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      async postPriorKnowledges() {\r\n        var vm = this;\r\n\r\n        if (this.concept) {\r\n          await this.priorControl.forEach(async (prior) => {\r\n            if (prior.url) {\r\n              await Api()\r\n                .put(prior.url, {\r\n                  namepriorknowledge: prior.namepriorknowledge,\r\n                  priorlevel: `/priorlevel/` + prior.priorlevel + `/`,\r\n                  fk_priorsourceconcept: prior.fk_idconcept,\r\n                  fk_priortargetconcept: vm.concept.url,\r\n                })\r\n                .then(function() {\r\n                  vm.$store.dispatch(\"getPriorConcepts\", []);\r\n                });\r\n            } else {\r\n              await Api()\r\n                .post(`/priorknowledge/`, {\r\n                  namepriorknowledge: prior.namepriorknowledge,\r\n                  priorlevel: `/priorlevel/` + prior.priorlevel + `/`,\r\n                  fk_priorsourceconcept: prior.fk_idconcept,\r\n                  fk_priortargetconcept: vm.concept.url,\r\n                })\r\n                .then(function() {\r\n                  vm.$store.dispatch(\"getPriorConcepts\", []);\r\n                });\r\n            }\r\n          });\r\n        } else {\r\n          this.$store.dispatch(\"getPriorConcepts\", this.priorControl);\r\n        }\r\n      },\r\n      async addPriorKnowledge() {\r\n        this.priorControl.push({\r\n          namepriorknowledge: \"\",\r\n          priorlevel: \"\",\r\n          fk_idconcept: \"\",\r\n          url: \"\",\r\n        });\r\n      },\r\n      async deletaPriorKnowledge(idPrior) {\r\n        if (this.priorControl[idPrior].url) {\r\n          await Api().delete(this.priorControl[idPrior].url);\r\n        }\r\n        if (idPrior == 0) {\r\n          this.priorControl.shift();\r\n        } else {\r\n          this.priorControl.splice(idPrior, 1);\r\n        }\r\n      },\r\n      async validate() {\r\n        if (this.$refs.form.validate()) {\r\n          var auxLoopValidation = 1;\r\n          for (var m = 0; m < this.priorControl.length; m++) {\r\n            for (var n = 0; n < this.priorControl.length; n++) {\r\n              if (\r\n                this.priorControl[m].fk_idconcept ===\r\n                  this.priorControl[n].fk_idconcept &&\r\n                m !== n\r\n              ) {\r\n                auxLoopValidation = 0;\r\n                this.messageError =\r\n                  \"Não é possível definir um conhecimento prioritário mais de uma vez. Verifique os conhecimentos prioritários \" +\r\n                  (n + 1) +\r\n                  \" e \" +\r\n                  (m + 1) +\r\n                  \".\";\r\n                this.dialogError = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          if (auxLoopValidation === 1) {\r\n            await this.postPriorKnowledges();\r\n            await this.resetVariables();\r\n            await this.$emit(\"close_or_save\", \"save\");\r\n          }\r\n        }\r\n      },\r\n      reset() {\r\n        this.$emit(\"close_or_save\", \"close\");\r\n        this.priorControl = [];\r\n      },\r\n      resetVariables() {\r\n        this.priorControl = [];\r\n      },\r\n      resetValidation() {\r\n        this.$refs.form.resetValidation();\r\n      },\r\n    },\r\n  };\r\n</script>\r\n"]}]}