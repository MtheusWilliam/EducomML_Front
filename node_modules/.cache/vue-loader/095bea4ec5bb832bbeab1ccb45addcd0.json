{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\SignUp.vue","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1597353521000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGkgZnJvbSAiQC9zZXJ2aWNlcy9BcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNpZ25VcCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgdXNlcm5hbWVSdWxlczogWwogICAgICAgICh2KSA9PiAhIXYgfHwgIsOJIG5lY2Vzc8OhcmlvIGluc2VyaXIgc2V1IHVzZXJuYW1lIiwKICAgICAgICAodikgPT4KICAgICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDI1KSB8fAogICAgICAgICAgIlNldSB1c2VybmFtZSBkZXZlIHBvc3N1aXIgbWVub3MgZGUgMjUgY2FyYWN0ZXJlcyIsCiAgICAgIF0sCiAgICAgIG5hbWU6ICIiLAogICAgICBuYW1lUnVsZXM6IFsKICAgICAgICAodikgPT4gISF2IHx8ICLDiSBuZWNlc3PDoXJpbyBpbnNlcmlyIHNldSBub21lIiwKICAgICAgICAodikgPT4KICAgICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDMwKSB8fAogICAgICAgICAgIlNldSBub21lIGRldmUgcG9zc3VpciBtZW5vcyBkZSAzMCBjYXJhY3RlcmVzIiwKICAgICAgXSwKICAgICAgbGFzdG5hbWU6ICIiLAogICAgICBsYXN0bmFtZVJ1bGVzOiBbCiAgICAgICAgKHYpID0+ICEhdiB8fCAiw4kgbmVjZXNzw6FyaW8gaW5zZXJpciBzZXUgc29icmVub21lIiwKICAgICAgICAodikgPT4KICAgICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDMwKSB8fAogICAgICAgICAgIlNldSBzb2JyZW5vbWUgZGV2ZSBwb3NzdWlyIG1lbm9zIGRlIDMwIGNhcmFjdGVyZXMiLAogICAgICBdLAogICAgICBlbWFpbDogIiIsCiAgICAgIGVtYWlsUnVsZXM6IFsKICAgICAgICAodikgPT4gISF2IHx8ICLDiSBuZWNlc3PDoXJpbyBpbnNlcmlyIHNldSBlLW1haWwiLAogICAgICAgICh2KSA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICLDiSBuZWNlc3PDoXJpbyBpbnNlcmlyIHVtIGUtbWFpbCB2w6FsaWRvIiwKICAgICAgXSwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBwYXNzd29yZFJ1bGVzOiBbKHYpID0+ICEhdiB8fCAiw4kgbmVjZXNzw6FyaW8gaW5zZXJpciBzdWEgc2VuaGEiXSwKICAgICAgcGFzc3dvcmRDb25maXJtOiAiIiwKICAgICAgbWVzc2FnZUNsYXNzOiAiIiwKICAgICAgbWVzc2FnZVRpdGxlOiAiIiwKICAgICAgbWVzc2FnZUVycm9yOiAiIiwKICAgICAgZGlhbG9nRXJyb3I6ICIiLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYXNzd29yZENvbmZpcm1hdGlvblJ1bGUoKSB7CiAgICAgIHJldHVybiAoKSA9PgogICAgICAgIHRoaXMucGFzc3dvcmQgPT09IHRoaXMucGFzc3dvcmRDb25maXJtIHx8CiAgICAgICAgIkFzIHNlbmhhcyBkZXZlbSBzZXIgaWd1YWlzIjsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBwb3N0VXNlcigpIHsKICAgICAgYXdhaXQgQXBpKCkucG9zdCgKICAgICAgICAiL3VzZXJzLyIsCiAgICAgICAgewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUudG9Mb3dlckNhc2UoKSwKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgZmlyc3RfbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgbGFzdF9uYW1lOiB0aGlzLmxhc3RuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICBpc19hY3RpdmU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgYXV0aDogewogICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIsCiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBhc3luYyB2YWxpZGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGF3YWl0IHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwogICAgICAgICAgYXdhaXQgdGhpcy5wb3N0VXNlcigpOwogICAgICAgICAgdGhpcy5tZXNzYWdlQ2xhc3MgPSAiaGVhZGxpbmUgZ3JlZW4iOwogICAgICAgICAgdGhpcy5tZXNzYWdlVGl0bGUgPSAiRW1haWwgZGUgY29uZmlybWHDp8OjbyBlbnZpYWRvIGNvbSBzdWNlc3NvIjsKICAgICAgICAgIHRoaXMubWVzc2FnZUVycm9yID0KICAgICAgICAgICAgIkVudmlhbW9zIHVtIGVtYWlsIGRlIGNvbmZpcm1hw6fDo28gcGFyYSB2b2PDqi4gVmVyaWZpcXVlIGEgY2FpeGEgZGUgbWVuc2FnZW5zIGRvIHNldSBlbWFpbCBwYXJhIGF0aXZhciBzdWEgY29udGEuIjsKICAgICAgICAgIHRoaXMuZGlhbG9nRXJyb3IgPSB0cnVlOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgdGhpcy5tZXNzYWdlQ2xhc3MgPSAiaGVhZGxpbmUgcmVkIjsKICAgICAgICAgIHRoaXMubWVzc2FnZVRpdGxlID0gIkVycm8iOwogICAgICAgICAgdGhpcy5tZXNzYWdlRXJyb3IgPQogICAgICAgICAgICAiTyB1c2VybmFtZSBvdSBlbWFpbCBqw6EgZXN0w6NvIHNlbmRvIHV0aWxpemFkb3MgbmEgcGxhdGFmb3JtYSI7CiAgICAgICAgICB0aGlzLmRpYWxvZ0Vycm9yID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmaXJzdExvZ2luKCkgewogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgib2J0YWluVG9rZW4iLCB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgIH0pOwogICAgICBhd2FpdCB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImhvbWUiLAogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyByZWRpcmVjdExvZ2luKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImxvZ2luIiwKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card\n    class=\"elevation-12 mx-auto\"\n    style=\"position:relative;top:20vh;\"\n    width=\"50vw\"\n  >\n    <v-toolbar color=\"black\" flat>\n      <v-toolbar-title style=\"color:#FFCC00;\"\n        >Crie sua conta no Educom.ML</v-toolbar-title\n      >\n      <v-spacer></v-spacer>\n      <v-img\n        class=\"mt-1\"\n        src=\"../assets/logo.png\"\n        style=\"width: 20px;\"\n        max-width=\"200\"\n      ></v-img>\n      <v-tooltip bottom>\n        <span>Source</span>\n      </v-tooltip>\n    </v-toolbar>\n    <v-card-text>\n      <v-form style=\"margin-bottom: -20px;\" ref=\"form\">\n        <v-text-field\n          v-model=\"username\"\n          label=\"Username\"\n          name=\"username\"\n          :rules=\"usernameRules\"\n          prepend-icon=\"mdi-account\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          v-model=\"name\"\n          label=\"Nome\"\n          name=\"name\"\n          :rules=\"nameRules\"\n          prepend-icon=\"mdi-account\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          v-model=\"lastname\"\n          label=\"Sobrenome\"\n          name=\"lastname\"\n          :rules=\"lastnameRules\"\n          prepend-icon=\"mdi-account\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          id=\"email\"\n          label=\"E-mail\"\n          name=\"email\"\n          :rules=\"emailRules\"\n          v-model=\"email\"\n          prepend-icon=\"mdi-email\"\n          type=\"email\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          id=\"password\"\n          label=\"Senha\"\n          name=\"password\"\n          v-model=\"password\"\n          :rules=\"passwordRules\"\n          type=\"password\"\n          prepend-icon=\"mdi-lock\"\n          required\n        ></v-text-field>\n\n        <v-text-field\n          id=\"passwordConfirm\"\n          label=\"Confirmação de Senha\"\n          name=\"passwordConfirm\"\n          v-model=\"passwordConfirm\"\n          type=\"password\"\n          :rules=\"[passwordConfirmationRule]\"\n          prepend-icon=\"mdi-lock\"\n          required\n        ></v-text-field>\n      </v-form>\n    </v-card-text>\n    <v-card-actions>\n      <a @click=\"redirectLogin()\" class=\"ml-5\">\n        <span>Já possui uma conta? Faça seu Login</span>\n      </a>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" @click=\"validate()\" large class=\"mr-4\"\n        >Cadastrar</v-btn\n      >\n    </v-card-actions>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialogError\" width=\"500\">\n        <v-card>\n          <v-card-title\n            :class=\"messageClass\"\n            primary-title\n            style=\"color:white;\"\n            >{{ messageTitle }}</v-card-title\n          >\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">{{\n            messageError\n          }}</v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialogError = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-card>\n</template>\n\n<script>\n  import Api from \"@/services/Api\";\n  export default {\n    name: \"SignUp\",\n    data() {\n      return {\n        dialog: false,\n        username: \"\",\n        usernameRules: [\n          (v) => !!v || \"É necessário inserir seu username\",\n          (v) =>\n            (v && v.length <= 25) ||\n            \"Seu username deve possuir menos de 25 caracteres\",\n        ],\n        name: \"\",\n        nameRules: [\n          (v) => !!v || \"É necessário inserir seu nome\",\n          (v) =>\n            (v && v.length <= 30) ||\n            \"Seu nome deve possuir menos de 30 caracteres\",\n        ],\n        lastname: \"\",\n        lastnameRules: [\n          (v) => !!v || \"É necessário inserir seu sobrenome\",\n          (v) =>\n            (v && v.length <= 30) ||\n            \"Seu sobrenome deve possuir menos de 30 caracteres\",\n        ],\n        email: \"\",\n        emailRules: [\n          (v) => !!v || \"É necessário inserir seu e-mail\",\n          (v) => /.+@.+\\..+/.test(v) || \"É necessário inserir um e-mail válido\",\n        ],\n        password: \"\",\n        passwordRules: [(v) => !!v || \"É necessário inserir sua senha\"],\n        passwordConfirm: \"\",\n        messageClass: \"\",\n        messageTitle: \"\",\n        messageError: \"\",\n        dialogError: \"\",\n      };\n    },\n    computed: {\n      passwordConfirmationRule() {\n        return () =>\n          this.password === this.passwordConfirm ||\n          \"As senhas devem ser iguais\";\n      },\n    },\n    methods: {\n      async postUser() {\n        await Api().post(\n          \"/users/\",\n          {\n            username: this.username.toLowerCase(),\n            email: this.email,\n            first_name: this.name,\n            last_name: this.lastname,\n            password: this.password,\n            is_active: false,\n          },\n          {\n            auth: {\n              username: \"admin\",\n              password: \"admin\",\n            },\n          }\n        );\n      },\n      async validate() {\n        if (this.$refs.form.validate()) {\n          try {\n            await this.$refs.form.validate();\n            await this.postUser();\n            this.messageClass = \"headline green\";\n            this.messageTitle = \"Email de confirmação enviado com sucesso\";\n            this.messageError =\n              \"Enviamos um email de confirmação para você. Verifique a caixa de mensagens do seu email para ativar sua conta.\";\n            this.dialogError = true;\n          } catch (err) {\n            this.messageClass = \"headline red\";\n            this.messageTitle = \"Erro\";\n            this.messageError =\n              \"O username ou email já estão sendo utilizados na plataforma\";\n            this.dialogError = true;\n          }\n        }\n      },\n      async firstLogin() {\n        await this.$store.dispatch(\"obtainToken\", {\n          username: this.username,\n          password: this.password,\n        });\n        await this.$router.push({\n          name: \"home\",\n        });\n      },\n      async redirectLogin() {\n        this.$router.push({\n          name: \"login\",\n        });\n      },\n    },\n  };\n</script>\n"]}]}