{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\AssessmentParameterDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\AssessmentParameterDialog.vue","mtime":1596596566282},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1593634550126},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1593634595918},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1593634595223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBc3Nlc3NtZW50UGFyYW1ldGVyRGlhbG9nIiwNCiAgcHJvcHM6IFsiZG9tYWluIiwgImRpYWxvZyJdLA0KICBkYXRhOiAoKSA9PiAoew0KICAgIHZhbGlkOiB0cnVlLA0KICAgIHRyZWVEYXRhOiBbXSwNCiAgICBzZWxlY3Rpb246IFtdLA0KICAgIGVsZW1lbnREYXRhOiBbXSwNCiAgICBzY29wb1R5cGVzOiBbDQogICAgICB7DQogICAgICAgIHRleHQ6ICJBdmFsaWHDp8OjbyIsDQogICAgICAgIHZhbHVlOiAxLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGV4dDogIkRvbcOtbmlvIiwNCiAgICAgICAgdmFsdWU6IDIsDQogICAgICB9LA0KICAgIF0sDQogICAgdHlwZXNUaHJlc2hvbGQ6IFsNCiAgICAgIHsNCiAgICAgICAgdGV4dDogIlBvcmNlbnRhZ2VtIiwNCiAgICAgICAgdmFsdWU6IDEsDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0ZXh0OiAiTGl0ZXJhbCIsDQogICAgICAgIHZhbHVlOiAyLA0KICAgICAgfSwNCiAgICBdLA0KICAgIHZhbHVlVHlwZXM6IFsiU2luZ2xlIiwgIlJhbmdlIl0sDQogICAgYXNzZXNzbWVudENvbnRyb2w6IFtdLA0KICAgIGRpYWxvZ0Vycm9yOiBmYWxzZSwNCiAgICBtZXNzYWdlRXJyb3I6ICIiLA0KICAgIG5ld0l0ZW1zOiBbXSwNCiAgICBjaGVja2JveDogdHJ1ZSwNCiAgfSksDQogIHdhdGNoOiB7DQogICAgZG9tYWluOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sID0gW107DQogICAgICBpZiAodGhpcy5kb21haW4pIHsNCiAgICAgICAgYXdhaXQgdGhpcy5nZXRBc3Nlc3NtZW50cygpOw0KICAgICAgICBhd2FpdCB0aGlzLnNldERvbWFpblZhcmlhYmxlcygpOw0KICAgICAgfQ0KICAgIH0sDQogICAgZGlhbG9nOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sID0gW107DQogICAgICBpZiAodGhpcy5kb21haW4pIHsNCiAgICAgICAgYXdhaXQgdGhpcy5nZXRBc3Nlc3NtZW50cygpOw0KICAgICAgICBhd2FpdCB0aGlzLnNldERvbWFpblZhcmlhYmxlcygpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXNzZXNzbWVudENvbnRyb2w6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wuZm9yRWFjaCgoYXNzZXNzKSA9PiB7DQogICAgICAgIGlmIChhc3Nlc3MudmFsdWVUeXBlID09PSAiU2luZ2xlIikgew0KICAgICAgICAgIGFzc2Vzcy5yYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+IHsNCiAgICAgICAgICAgIGlmIChyYW5nZS51cmwpIHsNCiAgICAgICAgICAgICAgdGhpcy5kZWxldGFTaW5nbGUocmFuZ2UudXJsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICBhc3Nlc3MucmFuZ2VzID0gW107DQogICAgICAgIH0gZWxzZSBpZiAoYXNzZXNzLnZhbHVlVHlwZSA9PT0gIlJhbmdlIikgew0KICAgICAgICAgIGlmIChhc3Nlc3Muc2luZ2xlLnVybCkgew0KICAgICAgICAgICAgdGhpcy5kZWxldGFTaW5nbGUoYXNzZXNzLnNpbmdsZS51cmwpOw0KICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS51cmwgPSAiIjsNCiAgICAgICAgICB9DQogICAgICAgICAgYXNzZXNzLnNpbmdsZS50aHJlc2hvbGQgPSAiIjsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgew0KICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wgPSBbXTsNCiAgICBpZiAodGhpcy5kb21haW4pIHsNCiAgICAgIGF3YWl0IHRoaXMuZ2V0QXNzZXNzbWVudHMoKTsNCiAgICAgIGF3YWl0IHRoaXMuc2V0RG9tYWluVmFyaWFibGVzKCk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2V0RG9tYWluVmFyaWFibGVzKCkgew0KICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsNCiAgICAgICAgdGV4dDogIltET01JTklPXSAiICsgdGhpcy5kb21haW4ubmFtZWtub3dsZWRnZWRvbWFpbiwNCiAgICAgICAgdmFsdWU6IHRoaXMuZG9tYWluLnVybCwNCiAgICAgIH0pOw0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kb21haW4ubW9kdWxlcykgJiYgdGhpcy5kb21haW4ubW9kdWxlcy5sZW5ndGgpIHsNCiAgICAgICAgdGhpcy5kb21haW4ubW9kdWxlcy5mb3JFYWNoKChtb2R1bG8pID0+IHsNCiAgICAgICAgICBpZiAobW9kdWxvLmZrX2lkbW9kdWxlID09PSBudWxsKSB7DQogICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICBpZDogbW9kdWxvLnVybCwNCiAgICAgICAgICAgICAgbmFtZTogIltNT0RVTE9dICIgKyBtb2R1bG8ubmFtZW1vZHVsZSwNCiAgICAgICAgICAgICAgdmlzaWJsZTogbW9kdWxvLnZpc2libGUsDQogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goew0KICAgICAgICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgdmFsdWU6IG9iamVjdC5pZCwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKG1vZHVsby5zdWJtb2R1bGVzLmxlbmd0aCkgew0KICAgICAgICAgICAgICBtb2R1bG8uc3VibW9kdWxlcy5mb3JFYWNoKChzdWJtb2R1bG8pID0+IHsNCiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICAgICAgaWQ6IHN1Ym1vZHVsby51cmwsDQogICAgICAgICAgICAgICAgICBuYW1lOiAiW1NVQk1PRFVMT10gIiArIHN1Ym1vZHVsby5uYW1lbW9kdWxlLA0KICAgICAgICAgICAgICAgICAgdmlzaWJsZTogc3VibW9kdWxvLnZpc2libGUsDQogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goew0KICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsDQogICAgICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0LmlkLA0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgaWYgKHN1Ym1vZHVsby5jb25jZXB0cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsby5jb25jZXB0cy5mb3JFYWNoKChjb25jZWl0bykgPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICAgICAgICAgIGlkOiBjb25jZWl0by51cmwsDQogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIltDT05DRUlUT10gIiArIGNvbmNlaXRvLm5hbWVjb25jZXB0LA0KICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGNvbmNlaXRvLnZpc2libGUsDQogICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChtb2R1bG8uY29uY2VwdHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgIG1vZHVsby5jb25jZXB0cy5mb3JFYWNoKChjb25jZWl0bykgPT4gew0KICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7DQogICAgICAgICAgICAgICAgICBpZDogY29uY2VpdG8udXJsLA0KICAgICAgICAgICAgICAgICAgbmFtZTogIltDT05DRUlUT10gIiArIGNvbmNlaXRvLm5hbWVjb25jZXB0LA0KICAgICAgICAgICAgICAgICAgdmlzaWJsZTogY29uY2VpdG8udmlzaWJsZSwNCiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudERhdGEucHVzaCh7DQogICAgICAgICAgICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBnZXRBc3Nlc3NtZW50cygpIHsNCiAgICAgIC8vIHZhciB2bSA9IHRoaXM7DQogICAgICBpZiAodGhpcy5kb21haW4pIHsNCiAgICAgICAgaWYgKHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXIubGVuZ3RoID4gMCkgew0KICAgICAgICAgIHZhciBhc3Nlc3MgPSB7DQogICAgICAgICAgICB0eXBlVGhyZXNob2xkOiBwYXJzZUludCgNCiAgICAgICAgICAgICAgdGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXS50eXBldGhyZXNob2xkLnNwbGl0KCIvIilbNF0NCiAgICAgICAgICAgICksDQogICAgICAgICAgICBzY29wbzogcGFyc2VJbnQoDQogICAgICAgICAgICAgIHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2NvcG8uc3BsaXQoIi8iKVs0XQ0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIGZrX2VsZW1lbnQ6IHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uZmtfaWRrbm93bGVkZ2Vkb21haW4sDQogICAgICAgICAgICB2YWx1ZVR5cGU6ICIiLA0KICAgICAgICAgICAgc2luZ2xlOiB7DQogICAgICAgICAgICAgIHRocmVzaG9sZDogIiIsDQogICAgICAgICAgICAgIHVybDogIiIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmFuZ2VzOiBbXSwNCiAgICAgICAgICAgIHVybDogdGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXS51cmwsDQogICAgICAgICAgfTsNCiAgICAgICAgICBpZiAodGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJTaW5nbGUiOw0KICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS50aHJlc2hvbGQgPSB0aGlzLmRvbWFpbi5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS50aHJlc2hvbGQ7DQogICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnVybCA9IHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZG9tYWluLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0ucmFuZ2VzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiUmFuZ2UiOw0KICAgICAgICAgICAgdGhpcy5kb21haW4uYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+IHsNCiAgICAgICAgICAgICAgYXNzZXNzLnJhbmdlcy5wdXNoKHsNCiAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwNCiAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwNCiAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLA0KICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLA0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goYXNzZXNzKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5kb21haW4ubW9kdWxlcykgew0KICAgICAgICAgIHRoaXMuZG9tYWluLm1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PiB7DQogICAgICAgICAgICBpZiAobW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXIubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gew0KICAgICAgICAgICAgICAgIHR5cGVUaHJlc2hvbGQ6IHBhcnNlSW50KA0KICAgICAgICAgICAgICAgICAgbW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udHlwZXRocmVzaG9sZC5zcGxpdCgiLyIpWzRdDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICBzY29wbzogcGFyc2VJbnQoDQogICAgICAgICAgICAgICAgICBtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zY29wby5zcGxpdCgiLyIpWzRdDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICBma19lbGVtZW50OiBtb2R1bGUudXJsLA0KICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogIiIsDQogICAgICAgICAgICAgICAgc2luZ2xlOiB7DQogICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6ICIiLA0KICAgICAgICAgICAgICAgICAgdXJsOiAiIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHJhbmdlczogW10sDQogICAgICAgICAgICAgICAgdXJsOiBtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS51cmwsDQogICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgIGlmIChtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiU2luZ2xlIjsNCiAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnRocmVzaG9sZCA9DQogICAgICAgICAgICAgICAgICBtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGVbMF0udGhyZXNob2xkOw0KICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0gbW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsNCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiUmFuZ2UiOw0KICAgICAgICAgICAgICAgIG1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT4gew0KICAgICAgICAgICAgICAgICAgYXNzZXNzLnJhbmdlcy5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsDQogICAgICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLA0KICAgICAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLA0KICAgICAgICAgICAgICAgICAgICB1cmw6IHJhbmdlLnVybCwNCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wucHVzaChhc3Nlc3MpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG1vZHVsZS5jb25jZXB0cykgew0KICAgICAgICAgICAgICBtb2R1bGUuY29uY2VwdHMuZm9yRWFjaCgobW9kdWxlQ29uY2VwdCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXIubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgdmFyIGFzc2VzcyA9IHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZVRocmVzaG9sZDogcGFyc2VJbnQoDQogICAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnR5cGV0aHJlc2hvbGQuc3BsaXQoDQogICAgICAgICAgICAgICAgICAgICAgICAiLyINCiAgICAgICAgICAgICAgICAgICAgICApWzRdDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgIHNjb3BvOiBwYXJzZUludCgNCiAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2NvcG8uc3BsaXQoIi8iKVs0XQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICBma19lbGVtZW50OiBtb2R1bGVDb25jZXB0LnVybCwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgc2luZ2xlOiB7DQogICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICB1cmw6ICIiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICByYW5nZXM6IFtdLA0KICAgICAgICAgICAgICAgICAgICB1cmw6IG1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS51cmwsDQogICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBhc3Nlc3MudmFsdWVUeXBlID0gIlNpbmdsZSI7DQogICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudGhyZXNob2xkID0NCiAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnRocmVzaG9sZDsNCiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS51cmwgPQ0KICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGVbMF0udXJsOw0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgNCiAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5sZW5ndGggPiAwDQogICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJSYW5nZSI7DQogICAgICAgICAgICAgICAgICAgIG1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMuZm9yRWFjaCgNCiAgICAgICAgICAgICAgICAgICAgICAocmFuZ2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5yYW5nZXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVyYW5nZTogcmFuZ2UubmFtZXJhbmdlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByYW5nZS51cmwsDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goYXNzZXNzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG1vZHVsZS5zdWJtb2R1bGVzKSB7DQogICAgICAgICAgICAgIG1vZHVsZS5zdWJtb2R1bGVzLmZvckVhY2goKHN1Ym1vZHVsZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlci5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gew0KICAgICAgICAgICAgICAgICAgICB0eXBlVGhyZXNob2xkOiBwYXJzZUludCgNCiAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS50eXBldGhyZXNob2xkLnNwbGl0KA0KICAgICAgICAgICAgICAgICAgICAgICAgIi8iDQogICAgICAgICAgICAgICAgICAgICAgKVs0XQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICBzY29wbzogcGFyc2VJbnQoDQogICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2NvcG8uc3BsaXQoIi8iKVs0XQ0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICBma19lbGVtZW50OiBzdWJtb2R1bGUudXJsLA0KICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6ICIiLA0KICAgICAgICAgICAgICAgICAgICBzaW5nbGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgIHVybDogIiIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHJhbmdlczogW10sDQogICAgICAgICAgICAgICAgICAgIHVybDogc3VibW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLA0KICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgIGlmIChzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBhc3Nlc3MudmFsdWVUeXBlID0gIlNpbmdsZSI7DQogICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudGhyZXNob2xkID0NCiAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuYXNzZXNzbWVudHBhcmFtZXRlclswXS5zaW5nbGVbMF0udGhyZXNob2xkOw0KICAgICAgICAgICAgICAgICAgICBhc3Nlc3Muc2luZ2xlLnVybCA9DQogICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlLmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnVybDsNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5sZW5ndGggPiAwDQogICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJSYW5nZSI7DQogICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZS5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5yYW5nZXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWx2YWx1ZTogcmFuZ2UuaW5pdGlhbHZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGltaXR2YWx1ZTogcmFuZ2UubGltaXR2YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcmFuZ2UudXJsLA0KICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wucHVzaChhc3Nlc3MpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxlLmNvbmNlcHRzKSB7DQogICAgICAgICAgICAgICAgICBzdWJtb2R1bGUuY29uY2VwdHMuZm9yRWFjaCgoc3VibW9kdWxlQ29uY2VwdCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXNzID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZVRocmVzaG9sZDogcGFyc2VJbnQoDQogICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS50eXBldGhyZXNob2xkLnNwbGl0KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICIvIg0KICAgICAgICAgICAgICAgICAgICAgICAgICApWzRdDQogICAgICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2NvcG86IHBhcnNlSW50KA0KICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2NvcG8uc3BsaXQoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIi8iDQogICAgICAgICAgICAgICAgICAgICAgICAgIClbNF0NCiAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICAgICBma19lbGVtZW50OiBzdWJtb2R1bGVDb25jZXB0LnVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogIiIsDQogICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZXM6IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0udXJsLA0KICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZS5sZW5ndGggPg0KICAgICAgICAgICAgICAgICAgICAgICAgMA0KICAgICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnZhbHVlVHlwZSA9ICJTaW5nbGUiOw0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXNzLnNpbmdsZS50aHJlc2hvbGQgPQ0KICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtb2R1bGVDb25jZXB0LmFzc2Vzc21lbnRwYXJhbWV0ZXJbMF0uc2luZ2xlWzBdLnRocmVzaG9sZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudXJsID0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnNpbmdsZVswXS51cmw7DQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgNCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsZUNvbmNlcHQuYXNzZXNzbWVudHBhcmFtZXRlclswXS5yYW5nZXMubGVuZ3RoID4NCiAgICAgICAgICAgICAgICAgICAgICAgIDANCiAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2Vzcy52YWx1ZVR5cGUgPSAiUmFuZ2UiOw0KICAgICAgICAgICAgICAgICAgICAgICAgc3VibW9kdWxlQ29uY2VwdC5hc3Nlc3NtZW50cGFyYW1ldGVyWzBdLnJhbmdlcy5mb3JFYWNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAocmFuZ2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3Nlc3MucmFuZ2VzLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0dmFsdWU6IHJhbmdlLmxpbWl0dmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJhbmdlLnVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5wdXNoKGFzc2Vzcyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIHBvc3RBc3Nlc3NtZW50KCkgew0KICAgICAgdmFyIHZtID0gdGhpczsNCiAgICAgIHZhciBoZWFkZXIgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0SGVhZGVyIik7DQogICAgICBhd2FpdCB0aGlzLmFzc2Vzc21lbnRDb250cm9sLmZvckVhY2goYXN5bmMgKGFzc2Vzc21lbnQpID0+IHsNCiAgICAgICAgdmFyIGF1eEFzc2Vzc21lbnQgPSB7DQogICAgICAgICAgdHlwZXRocmVzaG9sZDoNCiAgICAgICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvdHlwZXRocmVzaG9sZC9gICsNCiAgICAgICAgICAgIGFzc2Vzc21lbnQudHlwZVRocmVzaG9sZCArDQogICAgICAgICAgICBgL2AsDQogICAgICAgICAgc2NvcG86IGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvc2NvcG8vYCArIGFzc2Vzc21lbnQuc2NvcG8gKyBgL2AsDQogICAgICAgICAgZmtfaWRrbm93bGVkZ2Vkb21haW46IG51bGwsDQogICAgICAgICAgZmtfaWRtb2R1bGU6IG51bGwsDQogICAgICAgICAgZmtfaWRjb25jZXB0OiBudWxsLA0KICAgICAgICB9Ow0KICAgICAgICBpZiAoYXNzZXNzbWVudC5ma19lbGVtZW50LnNwbGl0KCIvIilbM10gPT09ICJrbm93bGVkZ2Vkb21haW4iKSB7DQogICAgICAgICAgYXV4QXNzZXNzbWVudC5ma19pZGtub3dsZWRnZWRvbWFpbiA9IGFzc2Vzc21lbnQuZmtfZWxlbWVudDsNCiAgICAgICAgfSBlbHNlIGlmIChhc3Nlc3NtZW50LmZrX2VsZW1lbnQuc3BsaXQoIi8iKVszXSA9PT0gIm1vZHVsZSIpIHsNCiAgICAgICAgICBhdXhBc3Nlc3NtZW50LmZrX2lkbW9kdWxlID0gYXNzZXNzbWVudC5ma19lbGVtZW50Ow0KICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzc21lbnQuZmtfZWxlbWVudC5zcGxpdCgiLyIpWzNdID09PSAiY29uY2VwdCIpIHsNCiAgICAgICAgICBhdXhBc3Nlc3NtZW50LmZrX2lkY29uY2VwdCA9IGFzc2Vzc21lbnQuZmtfZWxlbWVudDsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChhc3Nlc3NtZW50LnVybCkgew0KICAgICAgICAgIGF3YWl0IHRoaXMuYXhpb3MNCiAgICAgICAgICAgIC5wdXQoYXNzZXNzbWVudC51cmwsIGF1eEFzc2Vzc21lbnQsIGhlYWRlcikNCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uIChyZXNwb3N0YSkgew0KICAgICAgICAgICAgICBpZiAoYXNzZXNzbWVudC52YWx1ZVR5cGUgPT09ICJTaW5nbGUiKSB7DQogICAgICAgICAgICAgICAgaWYgKGFzc2Vzc21lbnQucmFuZ2VzKSB7DQogICAgICAgICAgICAgICAgICBhc3Nlc3NtZW50LnJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudXJsKSB7DQogICAgICAgICAgICAgICAgICAgICAgdm0uYXhpb3MuZGVsZXRlKHJhbmdlLnVybCwgaGVhZGVyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGF3YWl0IHZtLmF4aW9zLnB1dCgNCiAgICAgICAgICAgICAgICAgIGFzc2Vzc21lbnQuc2luZ2xlLnVybCwNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwNCiAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiBhc3Nlc3NtZW50LnNpbmdsZS50aHJlc2hvbGQsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgaGVhZGVyDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3Nlc3NtZW50LnZhbHVlVHlwZSA9PT0gIlJhbmdlIikgew0KICAgICAgICAgICAgICAgIGlmIChhc3Nlc3NtZW50LnNpbmdsZS51cmwpIHsNCiAgICAgICAgICAgICAgICAgIHZtLmF4aW9zLmRlbGV0ZShhc3Nlc3NtZW50LnNpbmdsZS51cmwsIGhlYWRlcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGFzc2Vzc21lbnQucmFuZ2VzLmZvckVhY2goYXN5bmMgKHJhbmdlKSA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudXJsKSB7DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHZtLmF4aW9zLnB1dCgNCiAgICAgICAgICAgICAgICAgICAgICByYW5nZS51cmwsDQogICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsDQogICAgICAgICAgICAgICAgICAgICAgICBma19pZGFzc2Vzc21lbnRwYXJhbWV0ZXI6IHJlc3Bvc3RhLmRhdGEudXJsLA0KICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbHZhbHVlOiByYW5nZS5pbml0aWFsdmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgaGVhZGVyDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBhd2FpdCB2bS5heGlvcy5wb3N0KA0KICAgICAgICAgICAgICAgICAgICAgICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvcmFuZ2UvIiwNCiAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZrX2lkYXNzZXNzbWVudHBhcmFtZXRlcjogcmVzcG9zdGEuZGF0YS51cmwsDQogICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0dmFsdWU6IHJhbmdlLmxpbWl0dmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXINCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYXdhaXQgdGhpcy5heGlvcw0KICAgICAgICAgICAgLnBvc3QoDQogICAgICAgICAgICAgICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXNzZXNzbWVudHBhcmFtZXRlci8iLA0KICAgICAgICAgICAgICBhdXhBc3Nlc3NtZW50LA0KICAgICAgICAgICAgICBoZWFkZXINCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uIChyZXNwb3N0YSkgew0KICAgICAgICAgICAgICBpZiAoYXNzZXNzbWVudC52YWx1ZVR5cGUgPT09ICJTaW5nbGUiKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgdm0uYXhpb3MucG9zdCgNCiAgICAgICAgICAgICAgICAgICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvc2luZ2xlLyIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGZrX2lkYXNzZXNzbWVudHBhcmFtZXRlcjogcmVzcG9zdGEuZGF0YS51cmwsDQogICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogYXNzZXNzbWVudC5zaW5nbGUudGhyZXNob2xkLA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIGhlYWRlcg0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzZXNzbWVudC52YWx1ZVR5cGUgPT09ICJSYW5nZSIpIHsNCiAgICAgICAgICAgICAgICBhc3Nlc3NtZW50LnJhbmdlcy5mb3JFYWNoKGFzeW5jIChyYW5nZSkgPT4gew0KICAgICAgICAgICAgICAgICAgYXdhaXQgdm0uYXhpb3MucG9zdCgNCiAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9yYW5nZS8iLA0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgbmFtZXJhbmdlOiByYW5nZS5uYW1lcmFuZ2UsDQogICAgICAgICAgICAgICAgICAgICAgZmtfaWRhc3Nlc3NtZW50cGFyYW1ldGVyOiByZXNwb3N0YS5kYXRhLnVybCwNCiAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICBsaW1pdHZhbHVlOiByYW5nZS5saW1pdHZhbHVlLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBoZWFkZXINCiAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGFkZFJhbmdlKGlkQXNzZXNzbWVudCkgew0KICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnJhbmdlcy5wdXNoKHsNCiAgICAgICAgbmFtZXJhbmdlOiAiIiwNCiAgICAgICAgaW5pdGlhbHZhbHVlOiAiIiwNCiAgICAgICAgbGltaXR2YWx1ZTogIiIsDQogICAgICAgIHVybDogIiIsDQogICAgICB9KTsNCiAgICB9LA0KICAgIGFzeW5jIGRlbGV0YVJhbmdlKGlkQXNzZXNzbWVudCwgaWRSYW5nZSkgew0KICAgICAgaWYgKHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS5yYW5nZXNbaWRSYW5nZV0udXJsKSB7DQogICAgICAgIHZhciBoZWFkZXIgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0SGVhZGVyIik7DQogICAgICAgIHRoaXMuYXhpb3MuZGVsZXRlKA0KICAgICAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS5yYW5nZXNbaWRSYW5nZV0udXJsLA0KICAgICAgICAgIGhlYWRlcg0KICAgICAgICApOw0KICAgICAgfQ0KICAgICAgaWYgKGlkUmFuZ2UgPT0gMCkgew0KICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzLnNoaWZ0KCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzLnNwbGljZShpZFJhbmdlLCAxKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFkZEFzc2Vzc21lbnQoKSB7DQogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goew0KICAgICAgICB0eXBlVGhyZXNob2xkOiAiIiwNCiAgICAgICAgc2NvcG86ICIiLA0KICAgICAgICBma19lbGVtZW50OiAiIiwNCiAgICAgICAgdmFsdWVUeXBlOiAiIiwNCiAgICAgICAgc2luZ2xlOiB7DQogICAgICAgICAgdGhyZXNob2xkOiAiIiwNCiAgICAgICAgICB1cmw6ICIiLA0KICAgICAgICB9LA0KICAgICAgICByYW5nZXM6IFtdLA0KICAgICAgICB1cmw6ICIiLA0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBkZWxldGFBc3Nlc3NtZW50KGlkQXNzZXNzbWVudCkgew0KICAgICAgaWYgKHRoaXMuYXNzZXNzbWVudENvbnRyb2xbaWRBc3Nlc3NtZW50XS51cmwgIT09IG51bGwpIHsNCiAgICAgICAgdmFyIGhlYWRlciA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRIZWFkZXIiKTsNCiAgICAgICAgYXdhaXQgdGhpcy5heGlvcy5kZWxldGUoDQogICAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnVybCwNCiAgICAgICAgICBoZWFkZXINCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICAgIGlmIChpZEFzc2Vzc21lbnQgPT0gMCkgew0KICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnNoaWZ0KCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnNwbGljZShpZEFzc2Vzc21lbnQsIDEpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZGVsZXRhU2luZ2xlKHVybFNpbmdsZSkgew0KICAgICAgdmFyIGhlYWRlciA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRIZWFkZXIiKTsNCiAgICAgIGF3YWl0IHRoaXMuYXhpb3MuZGVsZXRlKHVybFNpbmdsZSwgaGVhZGVyKTsNCiAgICB9LA0KICAgIGFzeW5jIHZhbGlkYXRlKCkgew0KICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgIHZhciBhdXhMb29wVmFsaWRhdGlvbiA9IDE7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2ldLmZrX2VsZW1lbnQgPT09DQogICAgICAgICAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbFtqXS5ma19lbGVtZW50ICYmDQogICAgICAgICAgICAgIGkgIT09IGoNCiAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICBhdXhMb29wVmFsaWRhdGlvbiA9IDA7DQogICAgICAgICAgICAgIHRoaXMubWVzc2FnZUVycm9yID0NCiAgICAgICAgICAgICAgICAiTsOjbyBwb2RlIGV4aXN0aXIgbWFpcyBkZSB1bSBwYXLDom1ldHJvIGRlIGF2YWxpYcOnw6NvIHBhcmEgbyBtZXNtbyBlbGVtZW50by4gVmVyaWZpcXVlIG9zIHBhcsOibWV0cm9zIGRlIGF2YWxpYcOnw6NvICIgKw0KICAgICAgICAgICAgICAgIChqICsgMSkgKw0KICAgICAgICAgICAgICAgICIgZSAiICsNCiAgICAgICAgICAgICAgICAoaSArIDEpICsNCiAgICAgICAgICAgICAgICAiLiI7DQogICAgICAgICAgICAgIHRoaXMuZGlhbG9nRXJyb3IgPSB0cnVlOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGF1eExvb3BWYWxpZGF0aW9uID09PSAxKSB7DQogICAgICAgICAgYXdhaXQgdGhpcy5wb3N0QXNzZXNzbWVudCgpOw0KICAgICAgICAgIGF3YWl0IHRoaXMucHV0VmlzaWJsZSgpOw0KICAgICAgICAgIGF3YWl0IHRoaXMucmVzZXRWYXJpYWJsZXMoKTsNCiAgICAgICAgICBhd2FpdCB0aGlzLiRlbWl0KCJjbG9zZV9vcl9zYXZlIiwgInNhdmUiKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXQoKSB7DQogICAgICB0aGlzLiRlbWl0KCJjbG9zZV9vcl9zYXZlIiwgImNsb3NlIik7DQogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sID0gW107DQogICAgfSwNCiAgICByZXNldFZhcmlhYmxlcygpIHsNCiAgICAgIHRoaXMuYXNzZXNzbWVudENvbnRyb2wgPSBbXTsNCiAgICB9LA0KICAgIHJlc2V0VmFsaWRhdGlvbigpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["AssessmentParameterDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AssessmentParameterDialog.vue","sourceRoot":"src/components/didatic_model","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-card-title style=\"background-color:purple; color:white;\">\r\n      <span class=\"headline\">\r\n        <p>Defina as informações equivalentes aos parâmetros de avaliação.</p>\r\n      </span>\r\n    </v-card-title>\r\n    <v-row class=\"mx-0 px-0\">\r\n      <v-row class=\"mx-0 px-0 pl-6\">\r\n        <h3 class=\"mt-5\">Parâmetros de avaliação</h3>\r\n        <v-btn icon=\"icon\" class=\"mb-1\">\r\n          <v-icon large class=\"mt-9 ml-2\" color=\"primary\" @click=\"addAssessment()\">mdi-plus-box</v-icon>\r\n        </v-btn>\r\n      </v-row>\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-row\r\n          v-for=\"(assessment, i) in assessmentControl\"\r\n          :key=\"i\"\r\n          style=\"margin-bottom: -20px;\"\r\n          class=\"mx-0 px-0 pl-6\"\r\n        >\r\n          <v-col cols=\"2\">\r\n            <v-select\r\n              v-model=\"assessmentControl[i].scopo\"\r\n              :items=\"scopoTypes\"\r\n              :rules=\"[v => !!v || 'Conceito é requerido']\"\r\n              label=\"Scopo\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"3\">\r\n            <v-select\r\n              v-model=\"assessmentControl[i].fk_element\"\r\n              :items=\"elementData\"\r\n              :rules=\"[v => !!v || 'O tipo do conceito é requerido']\"\r\n              label=\"Elemento\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"3\">\r\n            <v-select\r\n              v-model=\"assessmentControl[i].typeThreshold\"\r\n              :items=\"typesThreshold\"\r\n              :rules=\"[v => !!v || 'O tipo do conceito é requerido']\"\r\n              label=\"Tipo de Threshold\"\r\n              style=\"margin:0px;\"\r\n              required\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col cols=\"2\">\r\n            <v-select\r\n              style=\"margin-top: -1px;\"\r\n              v-model=\"assessmentControl[i].valueType\"\r\n              :items=\"valueTypes\"\r\n              :rules=\"[v => !!v || 'O tipo de dado é requerido']\"\r\n              label=\"Tipo de Dado\"\r\n              required\r\n            ></v-select>\r\n            <v-text-field\r\n              style=\"margin-top: -1px; margin-bottom: -10px;\"\r\n              v-if=\"assessmentControl[i].valueType==='Single'\"\r\n              v-model=\"assessmentControl[i].single.threshold\"\r\n              label=\"Valor\"\r\n              :suffix=\" assessmentControl[i].typeThreshold===1 ? '%' : ''\"\r\n              required\r\n            ></v-text-field>\r\n          </v-col>\r\n\r\n          <v-col cols=\"2\" class=\"mt-2\">\r\n            <v-btn icon=\"icon\" class=\"mb-1\" v-if=\"assessmentControl[i].valueType==='Range'\">\r\n              <v-icon large class=\"mb-1\" color=\"primary\" @click=\"addRange(i)\">mdi-plus-box</v-icon>\r\n            </v-btn>\r\n            <v-btn icon=\"icon\" class=\"mb-1\">\r\n              <v-icon large class=\"mb-1\" color=\"red\" @click=\"deletaAssessment(i)\">mdi-minus-box</v-icon>\r\n            </v-btn>\r\n          </v-col>\r\n          <v-row v-if=\"assessmentControl[i].valueType === 'Single'\" style=\"margin-top: -40px;\">\r\n            <v-col cols=\"7\"></v-col>\r\n            <v-col cols=\"2\" class=\"ml-10\"></v-col>\r\n          </v-row>\r\n          <div v-else>\r\n            <v-row\r\n              v-for=\"(range, idRange) in assessment.ranges\"\r\n              :key=\"idRange\"\r\n              style=\"margin-top: -30px;\"\r\n            >\r\n              <v-col cols=\"4\"></v-col>\r\n              <v-col cols=\"3\">\r\n                <v-text-field\r\n                  v-model=\"assessmentControl[i].ranges[idRange].namerange\"\r\n                  counter=\"15\"\r\n                  label=\"Nome do range\"\r\n                  style=\"margin:0px;\"\r\n                  required\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"2\">\r\n                <v-text-field\r\n                  v-model=\"assessmentControl[i].ranges[idRange].initialvalue\"\r\n                  label=\"Valor inicial\"\r\n                  style=\"margin:0px;\"\r\n                  type=\"number\"\r\n                  :suffix=\" assessmentControl[i].typeThreshold===1 ? '%' : ''\"\r\n                  required\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"2\">\r\n                <v-text-field\r\n                  v-model=\"assessmentControl[i].ranges[idRange].limitvalue\"\r\n                  label=\"Valor Limite\"\r\n                  style=\"margin:0px;\"\r\n                  type=\"number\"\r\n                  :suffix=\" assessmentControl[i].typeThreshold===1 ? '%' : ''\"\r\n                  required\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"1\">\r\n                <v-btn icon=\"icon\" class=\"mt-4\">\r\n                  <v-icon\r\n                    large\r\n                    class=\"mb-1\"\r\n                    color=\"red\"\r\n                    @click=\"deletaRange(i, idRange)\"\r\n                  >mdi-minus-box</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </div>\r\n        </v-row>\r\n      </v-form>\r\n    </v-row>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\r\n        Cancelar\r\n        <v-icon dark right>mdi-close</v-icon>\r\n      </v-btn>\r\n      <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\r\n        Salvar\r\n        <v-icon dark right>mdi-content-save</v-icon>\r\n      </v-btn>\r\n    </v-card-actions>\r\n    <div class=\"text-center\">\r\n      <v-dialog v-model=\"dialogError\" width=\"500\">\r\n        <v-card>\r\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\">ALERTA!</v-card-title>\r\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">{{messageError}}</v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn color=\"primary\" text @click=\"dialogError = false\">Ok</v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AssessmentParameterDialog\",\r\n  props: [\"domain\", \"dialog\"],\r\n  data: () => ({\r\n    valid: true,\r\n    treeData: [],\r\n    selection: [],\r\n    elementData: [],\r\n    scopoTypes: [\r\n      {\r\n        text: \"Avaliação\",\r\n        value: 1,\r\n      },\r\n      {\r\n        text: \"Domínio\",\r\n        value: 2,\r\n      },\r\n    ],\r\n    typesThreshold: [\r\n      {\r\n        text: \"Porcentagem\",\r\n        value: 1,\r\n      },\r\n      {\r\n        text: \"Literal\",\r\n        value: 2,\r\n      },\r\n    ],\r\n    valueTypes: [\"Single\", \"Range\"],\r\n    assessmentControl: [],\r\n    dialogError: false,\r\n    messageError: \"\",\r\n    newItems: [],\r\n    checkbox: true,\r\n  }),\r\n  watch: {\r\n    domain: async function () {\r\n      this.assessmentControl = [];\r\n      if (this.domain) {\r\n        await this.getAssessments();\r\n        await this.setDomainVariables();\r\n      }\r\n    },\r\n    dialog: async function () {\r\n      this.assessmentControl = [];\r\n      if (this.domain) {\r\n        await this.getAssessments();\r\n        await this.setDomainVariables();\r\n      }\r\n    },\r\n    assessmentControl: function () {\r\n      this.assessmentControl.forEach((assess) => {\r\n        if (assess.valueType === \"Single\") {\r\n          assess.ranges.forEach((range) => {\r\n            if (range.url) {\r\n              this.deletaSingle(range.url);\r\n            }\r\n          });\r\n          assess.ranges = [];\r\n        } else if (assess.valueType === \"Range\") {\r\n          if (assess.single.url) {\r\n            this.deletaSingle(assess.single.url);\r\n            assess.single.url = \"\";\r\n          }\r\n          assess.single.threshold = \"\";\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted: async function () {\r\n    this.assessmentControl = [];\r\n    if (this.domain) {\r\n      await this.getAssessments();\r\n      await this.setDomainVariables();\r\n    }\r\n  },\r\n  methods: {\r\n    setDomainVariables() {\r\n      this.elementData.push({\r\n        text: \"[DOMINIO] \" + this.domain.nameknowledgedomain,\r\n        value: this.domain.url,\r\n      });\r\n      if (Array.isArray(this.domain.modules) && this.domain.modules.length) {\r\n        this.domain.modules.forEach((modulo) => {\r\n          if (modulo.fk_idmodule === null) {\r\n            var object = {\r\n              id: modulo.url,\r\n              name: \"[MODULO] \" + modulo.namemodule,\r\n              visible: modulo.visible,\r\n              children: [],\r\n            };\r\n            this.elementData.push({\r\n              text: object.name,\r\n              value: object.id,\r\n            });\r\n            if (modulo.submodules.length) {\r\n              modulo.submodules.forEach((submodulo) => {\r\n                var object = {\r\n                  id: submodulo.url,\r\n                  name: \"[SUBMODULO] \" + submodulo.namemodule,\r\n                  visible: submodulo.visible,\r\n                  children: [],\r\n                };\r\n                this.elementData.push({\r\n                  text: object.name,\r\n                  value: object.id,\r\n                });\r\n\r\n                if (submodulo.concepts.length) {\r\n                  submodulo.concepts.forEach((conceito) => {\r\n                    var object = {\r\n                      id: conceito.url,\r\n                      name: \"[CONCEITO] \" + conceito.nameconcept,\r\n                      visible: conceito.visible,\r\n                      children: [],\r\n                    };\r\n                    this.elementData.push({\r\n                      text: object.name,\r\n                      value: object.id,\r\n                    });\r\n                  });\r\n                }\r\n              });\r\n            }\r\n            if (modulo.concepts.length) {\r\n              modulo.concepts.forEach((conceito) => {\r\n                var object = {\r\n                  id: conceito.url,\r\n                  name: \"[CONCEITO] \" + conceito.nameconcept,\r\n                  visible: conceito.visible,\r\n                  children: [],\r\n                };\r\n                this.elementData.push({\r\n                  text: object.name,\r\n                  value: object.id,\r\n                });\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    getAssessments() {\r\n      // var vm = this;\r\n      if (this.domain) {\r\n        if (this.domain.assessmentparameter.length > 0) {\r\n          var assess = {\r\n            typeThreshold: parseInt(\r\n              this.domain.assessmentparameter[0].typethreshold.split(\"/\")[4]\r\n            ),\r\n            scopo: parseInt(\r\n              this.domain.assessmentparameter[0].scopo.split(\"/\")[4]\r\n            ),\r\n            fk_element: this.domain.assessmentparameter[0].fk_idknowledgedomain,\r\n            valueType: \"\",\r\n            single: {\r\n              threshold: \"\",\r\n              url: \"\",\r\n            },\r\n            ranges: [],\r\n            url: this.domain.assessmentparameter[0].url,\r\n          };\r\n          if (this.domain.assessmentparameter[0].single.length > 0) {\r\n            assess.valueType = \"Single\";\r\n            assess.single.threshold = this.domain.assessmentparameter[0].single[0].threshold;\r\n            assess.single.url = this.domain.assessmentparameter[0].single[0].url;\r\n          } else if (this.domain.assessmentparameter[0].ranges.length > 0) {\r\n            assess.valueType = \"Range\";\r\n            this.domain.assessmentparameter[0].ranges.forEach((range) => {\r\n              assess.ranges.push({\r\n                namerange: range.namerange,\r\n                initialvalue: range.initialvalue,\r\n                limitvalue: range.limitvalue,\r\n                url: range.url,\r\n              });\r\n            });\r\n          }\r\n          this.assessmentControl.push(assess);\r\n        }\r\n        if (this.domain.modules) {\r\n          this.domain.modules.forEach((module) => {\r\n            if (module.assessmentparameter.length > 0) {\r\n              var assess = {\r\n                typeThreshold: parseInt(\r\n                  module.assessmentparameter[0].typethreshold.split(\"/\")[4]\r\n                ),\r\n                scopo: parseInt(\r\n                  module.assessmentparameter[0].scopo.split(\"/\")[4]\r\n                ),\r\n                fk_element: module.url,\r\n                valueType: \"\",\r\n                single: {\r\n                  threshold: \"\",\r\n                  url: \"\",\r\n                },\r\n                ranges: [],\r\n                url: module.assessmentparameter[0].url,\r\n              };\r\n              if (module.assessmentparameter[0].single.length > 0) {\r\n                assess.valueType = \"Single\";\r\n                assess.single.threshold =\r\n                  module.assessmentparameter[0].single[0].threshold;\r\n                assess.single.url = module.assessmentparameter[0].single[0].url;\r\n              } else if (module.assessmentparameter[0].ranges.length > 0) {\r\n                assess.valueType = \"Range\";\r\n                module.assessmentparameter[0].ranges.forEach((range) => {\r\n                  assess.ranges.push({\r\n                    namerange: range.namerange,\r\n                    initialvalue: range.initialvalue,\r\n                    limitvalue: range.limitvalue,\r\n                    url: range.url,\r\n                  });\r\n                });\r\n              }\r\n              this.assessmentControl.push(assess);\r\n            }\r\n            if (module.concepts) {\r\n              module.concepts.forEach((moduleConcept) => {\r\n                if (moduleConcept.assessmentparameter.length > 0) {\r\n                  var assess = {\r\n                    typeThreshold: parseInt(\r\n                      moduleConcept.assessmentparameter[0].typethreshold.split(\r\n                        \"/\"\r\n                      )[4]\r\n                    ),\r\n                    scopo: parseInt(\r\n                      moduleConcept.assessmentparameter[0].scopo.split(\"/\")[4]\r\n                    ),\r\n                    fk_element: moduleConcept.url,\r\n                    valueType: \"\",\r\n                    single: {\r\n                      threshold: \"\",\r\n                      url: \"\",\r\n                    },\r\n                    ranges: [],\r\n                    url: moduleConcept.assessmentparameter[0].url,\r\n                  };\r\n                  if (moduleConcept.assessmentparameter[0].single.length > 0) {\r\n                    assess.valueType = \"Single\";\r\n                    assess.single.threshold =\r\n                      moduleConcept.assessmentparameter[0].single[0].threshold;\r\n                    assess.single.url =\r\n                      moduleConcept.assessmentparameter[0].single[0].url;\r\n                  } else if (\r\n                    moduleConcept.assessmentparameter[0].ranges.length > 0\r\n                  ) {\r\n                    assess.valueType = \"Range\";\r\n                    moduleConcept.assessmentparameter[0].ranges.forEach(\r\n                      (range) => {\r\n                        assess.ranges.push({\r\n                          namerange: range.namerange,\r\n                          initialvalue: range.initialvalue,\r\n                          limitvalue: range.limitvalue,\r\n                          url: range.url,\r\n                        });\r\n                      }\r\n                    );\r\n                  }\r\n                  this.assessmentControl.push(assess);\r\n                }\r\n              });\r\n            }\r\n            if (module.submodules) {\r\n              module.submodules.forEach((submodule) => {\r\n                if (submodule.assessmentparameter.length > 0) {\r\n                  var assess = {\r\n                    typeThreshold: parseInt(\r\n                      submodule.assessmentparameter[0].typethreshold.split(\r\n                        \"/\"\r\n                      )[4]\r\n                    ),\r\n                    scopo: parseInt(\r\n                      submodule.assessmentparameter[0].scopo.split(\"/\")[4]\r\n                    ),\r\n                    fk_element: submodule.url,\r\n                    valueType: \"\",\r\n                    single: {\r\n                      threshold: \"\",\r\n                      url: \"\",\r\n                    },\r\n                    ranges: [],\r\n                    url: submodule.assessmentparameter[0].url,\r\n                  };\r\n                  if (submodule.assessmentparameter[0].single.length > 0) {\r\n                    assess.valueType = \"Single\";\r\n                    assess.single.threshold =\r\n                      submodule.assessmentparameter[0].single[0].threshold;\r\n                    assess.single.url =\r\n                      submodule.assessmentparameter[0].single[0].url;\r\n                  } else if (\r\n                    submodule.assessmentparameter[0].ranges.length > 0\r\n                  ) {\r\n                    assess.valueType = \"Range\";\r\n                    submodule.assessmentparameter[0].ranges.forEach((range) => {\r\n                      assess.ranges.push({\r\n                        namerange: range.namerange,\r\n                        initialvalue: range.initialvalue,\r\n                        limitvalue: range.limitvalue,\r\n                        url: range.url,\r\n                      });\r\n                    });\r\n                  }\r\n                  this.assessmentControl.push(assess);\r\n                }\r\n                if (submodule.concepts) {\r\n                  submodule.concepts.forEach((submoduleConcept) => {\r\n                    if (submoduleConcept.assessmentparameter.length > 0) {\r\n                      var assess = {\r\n                        typeThreshold: parseInt(\r\n                          submoduleConcept.assessmentparameter[0].typethreshold.split(\r\n                            \"/\"\r\n                          )[4]\r\n                        ),\r\n                        scopo: parseInt(\r\n                          submoduleConcept.assessmentparameter[0].scopo.split(\r\n                            \"/\"\r\n                          )[4]\r\n                        ),\r\n                        fk_element: submoduleConcept.url,\r\n                        valueType: \"\",\r\n                        single: {\r\n                          threshold: \"\",\r\n                          url: \"\",\r\n                        },\r\n                        ranges: [],\r\n                        url: submoduleConcept.assessmentparameter[0].url,\r\n                      };\r\n                      if (\r\n                        submoduleConcept.assessmentparameter[0].single.length >\r\n                        0\r\n                      ) {\r\n                        assess.valueType = \"Single\";\r\n                        assess.single.threshold =\r\n                          submoduleConcept.assessmentparameter[0].single[0].threshold;\r\n                        assess.single.url =\r\n                          submoduleConcept.assessmentparameter[0].single[0].url;\r\n                      } else if (\r\n                        submoduleConcept.assessmentparameter[0].ranges.length >\r\n                        0\r\n                      ) {\r\n                        assess.valueType = \"Range\";\r\n                        submoduleConcept.assessmentparameter[0].ranges.forEach(\r\n                          (range) => {\r\n                            assess.ranges.push({\r\n                              namerange: range.namerange,\r\n                              initialvalue: range.initialvalue,\r\n                              limitvalue: range.limitvalue,\r\n                              url: range.url,\r\n                            });\r\n                          }\r\n                        );\r\n                      }\r\n                      this.assessmentControl.push(assess);\r\n                    }\r\n                  });\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    async postAssessment() {\r\n      var vm = this;\r\n      var header = await this.$store.dispatch(\"getHeader\");\r\n      await this.assessmentControl.forEach(async (assessment) => {\r\n        var auxAssessment = {\r\n          typethreshold:\r\n            `http://127.0.0.1:8000/typethreshold/` +\r\n            assessment.typeThreshold +\r\n            `/`,\r\n          scopo: `http://127.0.0.1:8000/scopo/` + assessment.scopo + `/`,\r\n          fk_idknowledgedomain: null,\r\n          fk_idmodule: null,\r\n          fk_idconcept: null,\r\n        };\r\n        if (assessment.fk_element.split(\"/\")[3] === \"knowledgedomain\") {\r\n          auxAssessment.fk_idknowledgedomain = assessment.fk_element;\r\n        } else if (assessment.fk_element.split(\"/\")[3] === \"module\") {\r\n          auxAssessment.fk_idmodule = assessment.fk_element;\r\n        } else if (assessment.fk_element.split(\"/\")[3] === \"concept\") {\r\n          auxAssessment.fk_idconcept = assessment.fk_element;\r\n        }\r\n\r\n        if (assessment.url) {\r\n          await this.axios\r\n            .put(assessment.url, auxAssessment, header)\r\n            .then(async function (resposta) {\r\n              if (assessment.valueType === \"Single\") {\r\n                if (assessment.ranges) {\r\n                  assessment.ranges.forEach((range) => {\r\n                    if (range.url) {\r\n                      vm.axios.delete(range.url, header);\r\n                    }\r\n                  });\r\n                }\r\n                await vm.axios.put(\r\n                  assessment.single.url,\r\n                  {\r\n                    fk_idassessmentparameter: resposta.data.url,\r\n                    threshold: assessment.single.threshold,\r\n                  },\r\n                  header\r\n                );\r\n              } else if (assessment.valueType === \"Range\") {\r\n                if (assessment.single.url) {\r\n                  vm.axios.delete(assessment.single.url, header);\r\n                }\r\n                assessment.ranges.forEach(async (range) => {\r\n                  if (range.url) {\r\n                    await vm.axios.put(\r\n                      range.url,\r\n                      {\r\n                        namerange: range.namerange,\r\n                        fk_idassessmentparameter: resposta.data.url,\r\n                        initialvalue: range.initialvalue,\r\n                        limitvalue: range.limitvalue,\r\n                      },\r\n                      header\r\n                    );\r\n                  } else {\r\n                    await vm.axios.post(\r\n                      \"http://127.0.0.1:8000/range/\",\r\n                      {\r\n                        namerange: range.namerange,\r\n                        fk_idassessmentparameter: resposta.data.url,\r\n                        initialvalue: range.initialvalue,\r\n                        limitvalue: range.limitvalue,\r\n                      },\r\n                      header\r\n                    );\r\n                  }\r\n                });\r\n              }\r\n            });\r\n        } else {\r\n          await this.axios\r\n            .post(\r\n              \"http://127.0.0.1:8000/assessmentparameter/\",\r\n              auxAssessment,\r\n              header\r\n            )\r\n            .then(async function (resposta) {\r\n              if (assessment.valueType === \"Single\") {\r\n                await vm.axios.post(\r\n                  \"http://127.0.0.1:8000/single/\",\r\n                  {\r\n                    fk_idassessmentparameter: resposta.data.url,\r\n                    threshold: assessment.single.threshold,\r\n                  },\r\n                  header\r\n                );\r\n              } else if (assessment.valueType === \"Range\") {\r\n                assessment.ranges.forEach(async (range) => {\r\n                  await vm.axios.post(\r\n                    \"http://127.0.0.1:8000/range/\",\r\n                    {\r\n                      namerange: range.namerange,\r\n                      fk_idassessmentparameter: resposta.data.url,\r\n                      initialvalue: range.initialvalue,\r\n                      limitvalue: range.limitvalue,\r\n                    },\r\n                    header\r\n                  );\r\n                });\r\n              }\r\n            });\r\n        }\r\n      });\r\n    },\r\n    addRange(idAssessment) {\r\n      this.assessmentControl[idAssessment].ranges.push({\r\n        namerange: \"\",\r\n        initialvalue: \"\",\r\n        limitvalue: \"\",\r\n        url: \"\",\r\n      });\r\n    },\r\n    async deletaRange(idAssessment, idRange) {\r\n      if (this.assessmentControl[idAssessment].ranges[idRange].url) {\r\n        var header = await this.$store.dispatch(\"getHeader\");\r\n        this.axios.delete(\r\n          this.assessmentControl[idAssessment].ranges[idRange].url,\r\n          header\r\n        );\r\n      }\r\n      if (idRange == 0) {\r\n        this.assessmentControl[idAssessment].ranges.shift();\r\n      } else {\r\n        this.assessmentControl[idAssessment].ranges.splice(idRange, 1);\r\n      }\r\n    },\r\n    addAssessment() {\r\n      this.assessmentControl.push({\r\n        typeThreshold: \"\",\r\n        scopo: \"\",\r\n        fk_element: \"\",\r\n        valueType: \"\",\r\n        single: {\r\n          threshold: \"\",\r\n          url: \"\",\r\n        },\r\n        ranges: [],\r\n        url: \"\",\r\n      });\r\n    },\r\n    async deletaAssessment(idAssessment) {\r\n      if (this.assessmentControl[idAssessment].url !== null) {\r\n        var header = await this.$store.dispatch(\"getHeader\");\r\n        await this.axios.delete(\r\n          this.assessmentControl[idAssessment].url,\r\n          header\r\n        );\r\n      }\r\n      if (idAssessment == 0) {\r\n        this.assessmentControl.shift();\r\n      } else {\r\n        this.assessmentControl.splice(idAssessment, 1);\r\n      }\r\n    },\r\n    async deletaSingle(urlSingle) {\r\n      var header = await this.$store.dispatch(\"getHeader\");\r\n      await this.axios.delete(urlSingle, header);\r\n    },\r\n    async validate() {\r\n      if (this.$refs.form.validate()) {\r\n        var auxLoopValidation = 1;\r\n        for (var i = 0; i < this.assessmentControl.length; i++) {\r\n          for (var j = 0; j < this.assessmentControl.length; j++) {\r\n            if (\r\n              this.assessmentControl[i].fk_element ===\r\n                this.assessmentControl[j].fk_element &&\r\n              i !== j\r\n            ) {\r\n              auxLoopValidation = 0;\r\n              this.messageError =\r\n                \"Não pode existir mais de um parâmetro de avaliação para o mesmo elemento. Verifique os parâmetros de avaliação \" +\r\n                (j + 1) +\r\n                \" e \" +\r\n                (i + 1) +\r\n                \".\";\r\n              this.dialogError = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (auxLoopValidation === 1) {\r\n          await this.postAssessment();\r\n          await this.putVisible();\r\n          await this.resetVariables();\r\n          await this.$emit(\"close_or_save\", \"save\");\r\n        }\r\n      }\r\n    },\r\n    reset() {\r\n      this.$emit(\"close_or_save\", \"close\");\r\n      this.assessmentControl = [];\r\n    },\r\n    resetVariables() {\r\n      this.assessmentControl = [];\r\n    },\r\n    resetValidation() {\r\n      this.$refs.form.resetValidation();\r\n    },\r\n  },\r\n};\r\n</script>"]}]}