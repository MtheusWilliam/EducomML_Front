{"remainingRequest":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vitor/Documentos/EducomML/EducomML_Front/master/src/components/instructional_model/ImageDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/src/components/instructional_model/ImageDialog.vue","mtime":1595786313499},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/cache-loader/dist/cjs.js","mtime":1593613513250},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/babel-loader/lib/index.js","mtime":1593613513143},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vuetify-loader/lib/loader.js","mtime":1593613518416},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/cache-loader/dist/cjs.js","mtime":1593613513250},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vue-loader/lib/index.js","mtime":1593613518353}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IENvb2tpZSBmcm9tICJqcy1jb29raWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkltYWdlRGlhbG9nIiwKICBwcm9wczogWyJvcHRpb25DYWxsIiwgInR5cGUiLCAiZG9tYWluIiwgImRpYWxvZyIsICJtb2JpbGVtZWRpYSJdLAogIGRhdGE6ICgpID0+ICh7CiAgICB2YWxpZDogdHJ1ZSwKICAgIGRpYWxvZ19hbGVydDogZmFsc2UsCiAgICB2aWV3SW1hZ2U6IGZhbHNlLAogICAgdmlld0ltYWdlU3JjOiAiIiwKICAgIGljb25WaWV3SW1hZ2VDb2xvcjogImJsdWUiLAogICAgdXJsRG93bmxvYWQ6ICIiLAogICAgcmVzb2x1dGlvbjogIiIsCiAgICBpbmZvTGV2ZWw6ICIiLAogICAgaW5mb0xlYXJuaW5nOiAiIiwKICAgIGluZm9DbGFzc2U6ICIiLAogICAgaW5mb0l0ZW1DbGFzc2VzOiBbIkNvbmNlaXRvIiwgIlByaW5jw61waW8iLCAiRmF0byJdLAogICAgaW5mb0l0ZW1MZXZlbHM6IFsiMCAtIEluaWNpYWwiLCAiMSAtIEbDoWNpbCIsICIyIC0gTcOpZGlvIiwgIjMgLSBEaWbDrWNpbCJdLAogICAgaW5mb0l0ZW1MZWFybmluZ1N0eWxlczogWyJWaXN1YWwiLCAiVGV4dHVhbCJdLAogICAgaW5mb1Jlc3VtZTogIiIsCiAgICBpbWFnZW1EZXNjcmlwdGlvbjogIiIsCiAgICBpbWFnZW1PYmplY3Q6IG51bGwsCiAgICBpbWFnZW1EZXNjcmlwdGlvblJ1bGVzOiBbCiAgICAgICh2KSA9PiAhIXYgfHwgIsOJIG5lY2Vzc8OhcmlvIGRlc2NyZXZlciBhIGltYWdlbSBhIHNlciBpbnNlcmlkYSIsCiAgICAgICh2KSA9PgogICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDEwMCkgfHwKICAgICAgICAiQSBkZXNjcmnDp8OjbyBkYSBpbWFnZW0gZGV2ZSB0ZXIgbm8gbcOheGltbyAxMDAgY2FyYWN0ZXJlcyIsCiAgICBdLAogIH0pLAogIHdhdGNoOiB7CiAgICBpbWFnZW1PYmplY3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuaW1hZ2VtT2JqZWN0KSB7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5pbWFnZW1PYmplY3QpOwogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2bS5yZXNvbHV0aW9uID0gaW1nLndpZHRoICsgIlgiICsgaW1nLmhlaWdodDsKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgZGlhbG9nOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuZ2V0TW9iaWxlTWVkaWEoKTsKICAgIH0sCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmdldE1vYmlsZU1lZGlhKCk7CiAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRNb2JpbGVNZWRpYSgpIHsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5wYXRoICE9PSBudWxsKSB7CiAgICAgICAgICAgIHZtLmltYWdlbURlc2NyaXB0aW9uID0gdGhpcy5tb2JpbGVtZWRpYS5kZXNjcmlwdGlvbjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5kaWZmaWN1bHR5TGV2ZWwgIT09IG51bGwpIHsKICAgICAgICAgICAgdm0uaW5mb0xldmVsID0gdm0uaW5mb0l0ZW1MZXZlbHNbdm0ubW9iaWxlbWVkaWEuZGlmZmljdWx0eUxldmVsXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5sZWFybmluZ1N0eWxlICE9PSBudWxsKSB7CiAgICAgICAgICAgIHZtLmluZm9MZWFybmluZyA9CiAgICAgICAgICAgICAgdm0uaW5mb0l0ZW1MZWFybmluZ1N0eWxlc1t2bS5tb2JpbGVtZWRpYS5sZWFybmluZ1N0eWxlXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5ma19pbmZvcm1hdGlvbml0ZW0pIHsKICAgICAgICAgICAgdmFyIGNzcmZ0b2tlbiA9IENvb2tpZS5nZXQoImNzcmZ0b2tlbiIpOwogICAgICAgICAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgICAgICAgICAiWC1DU1JGVE9LRU4iOiBjc3JmdG9rZW4sCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgIC5wYXRjaCgKICAgICAgICAgICAgICAgIHZtLm1vYmlsZW1lZGlhLmZrX2luZm9ybWF0aW9uaXRlbSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIiwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgICB2bS5pbmZvQ2xhc3NlID0KICAgICAgICAgICAgICAgICAgdm0uaW5mb0l0ZW1DbGFzc2VzWwogICAgICAgICAgICAgICAgICAgIHJlc3Bvc3RhLmRhdGEuZmtfaW5mb3JtYXRpb25pdGVtdHlwZS5zcGxpdCgiLyIpWzRdIC0gMQogICAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZtLmdldFNyY0ltYWdlKCk7CiAgICAgICAgdm0udmlld0ltYWdlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnZpZXdJbWFnZVNyYyA9ICIiOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgcG9zdE9yUHV0TW9iaWxlbWVkaWEoKSB7CiAgICAgIHZhciBhdXhpbmZvcm1hdGlvbml0ZW0gPSB7CiAgICAgICAgYXV4aW5mbzoKICAgICAgICAgIGBodHRwczovL2VkdWNvbW1sLWJhY2suaGVyb2t1YXBwLmNvbS9pbmZvcm1hdGlvbml0ZW10eXBlL2AgKwogICAgICAgICAgKHRoaXMuaW5mb0NsYXNzZSArIDEpICsKICAgICAgICAgICIvIiwKICAgICAgfTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHBhdGggPSAiIjsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICBwYXRoID0gdGhpcy5tb2JpbGVtZWRpYS5wYXRoOwogICAgICB9IGVsc2UgewogICAgICAgIHBhdGggPQogICAgICAgICAgdGhpcy5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSArCiAgICAgICAgICAiLyIgKwogICAgICAgICAgRGF0ZS5ub3coKS50b1N0cmluZygpOwogICAgICB9CiAgICAgIHZhciBtb2JpbGVtZWRpYSA9IHsKICAgICAgICBsYWJlbDogdGhpcy5pbWFnZW1EZXNjcmlwdGlvbiwKICAgICAgICBma19pZG1lZGlhdHlwZTogImh0dHBzOi8vZWR1Y29tbWwtYmFjay5oZXJva3VhcHAuY29tL21lZGlhdHlwZS8xLyIsCiAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICByZXNvbHV0aW9uOiB0aGlzLnJlc29sdXRpb24sCiAgICAgICAgbmFtZWZpbGU6IHBhdGguc3BsaXQoIi8iKVsxXSwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5pbWFnZW1EZXNjcmlwdGlvbiwKICAgICAgICB0aW1lOiBudWxsLAogICAgICAgIHRleHRmdWxsOiBudWxsLAogICAgICAgIHRleHRzaG9ydDogbnVsbCwKICAgICAgICB1cmxsaW5rOiBudWxsLAogICAgICB9OwoKICAgICAgYXdhaXQgZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigpLmNoaWxkKHBhdGgpLnB1dCh0aGlzLmltYWdlbU9iamVjdCk7CiAgICAgIGlmICh0aGlzLmluZm9DbGFzc2UgPT0gLTEpIHsKICAgICAgICB0aGlzLmluZm9DbGFzc2UgPSAxOwogICAgICAgIGF1eGluZm9ybWF0aW9uaXRlbS5hdXhpbmZvID0KICAgICAgICAgIGBodHRwczovL2VkdWNvbW1sLWJhY2suaGVyb2t1YXBwLmNvbS9pbmZvcm1hdGlvbml0ZW10eXBlL2AgKyB0aGlzLmluZm9DbGFzc2UgKyAiLyI7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaW5mb0xldmVsID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IHRoaXMuaW5mb0xldmVsLAogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLmluZm9MZWFybmluZyA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgbGVhcm5pbmdTdHlsZTogdGhpcy5pbmZvTGVhcm5pbmcsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImNvbmNlaXRvIikgewogICAgICAgIHZhciBpdGVtaW5mbyA9IHsKICAgICAgICAgIG5hbWVpbmZvcm1hdGlvbml0ZW06ICJpbWFnZW1fIiArIHZtLmltYWdlbU9iamVjdC5uYW1lLAogICAgICAgICAgZmtfaW5mb3JtYXRpb25pdGVtdHlwZTogYXV4aW5mb3JtYXRpb25pdGVtLmF1eGluZm8sCiAgICAgICAgICBma19pZGNvbmNlcHQ6IHRoaXMub3B0aW9uQ2FsbC51cmwsCiAgICAgICAgfTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIikgewogICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsKICAgICAgICAgIGZrX2lka25vd2xlZGdlZG9tYWluOiB0aGlzLm9wdGlvbkNhbGwudXJsLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gIm1vZHVsbyIpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBma19tb2R1bGU6IHRoaXMub3B0aW9uQ2FsbC51cmwsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLyogQ8OTRElHTyBQQVJBIEVEScOHw4NPIERPIE1PQklMRU1FRElBICovCiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhKSB7CiAgICAgICAgdm0gPSB0aGlzOwoKICAgICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7CiAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAucHV0KHZtLm1vYmlsZW1lZGlhLmZrX2luZm9ybWF0aW9uaXRlbSwgaXRlbWluZm8sIHsKICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uIChyZXNwb3N0YSkgewogICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsKICAgICAgICAgICAgICAgIGZrX2luZm9ybWF0aW9uaXRlbTogcmVzcG9zdGEuZGF0YS51cmwsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYXdhaXQgYXhpb3MKICAgICAgICAgICAgICAgIC5wdXQodm0ubW9iaWxlbWVkaWEudXJsLCBtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24gKC8qcmVzcG9zdGEqLykge30pOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gImRvbWluaW8iIHx8IHRoaXMudHlwZSA9PT0gIm1vZHVsbyIpIHsKICAgICAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgICAgIC5wdXQodGhpcy5tb2JpbGVtZWRpYS51cmwsIG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbiAoLypyZXNwb3N0YSovKSB7fSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgKi8KICAgICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7CiAgICAgICAgICAvKiBDw5NESUdPIFBBUkEgQ1JJQcOHw4NPIERPIE1PQklMRU1FRElBIENPTSBJVEVNSU5GTyovCgogICAgICAgICAgYXdhaXQgYXhpb3MKICAgICAgICAgICAgLnBvc3QoYGh0dHBzOi8vZWR1Y29tbWwtYmFjay5oZXJva3VhcHAuY29tL2luZm9ybWF0aW9uaXRlbS9gLCBpdGVtaW5mbywgewogICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgZmtfaW5mb3JtYXRpb25pdGVtOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAgICAgLnBvc3QoYGh0dHBzOi8vZWR1Y29tbWwtYmFjay5oZXJva3VhcHAuY29tL21vYmlsZW1lZGlhL2AsIG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIiwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoLypyZXNwb3N0YSovKSB7CiAgICAgICAgICAgICAgICAgIC8qdm0ubW9kdWxvVGl0bGUgPSByZXNwb3N0YS5kYXRhLm5hbWVtb2R1bGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnN1YlRpdGxlID0gcmVzcG9zdGEuZGF0YS5zdWJ0aXRsZTsqLwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAiZG9taW5pbyIgfHwgdGhpcy50eXBlID09PSAibW9kdWxvIikgewogICAgICAgICAgLyogQ8OTRElHTyBQQVJBIENSSUHDh8ODTyBETyBNT0JJTEVNRURJQSBTRU0gSVRFTSBJTkZPKi8KCiAgICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgICAucG9zdChgaHR0cHM6Ly9lZHVjb21tbC1iYWNrLmhlcm9rdWFwcC5jb20vbW9iaWxlbWVkaWEvYCwgbW9iaWxlbWVkaWEsIHsKICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgvKnJlc3Bvc3RhKi8pIHsKICAgICAgICAgICAgICAvKnZtLm1vZHVsb1RpdGxlID0gcmVzcG9zdGEuZGF0YS5uYW1lbW9kdWxlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnN1YlRpdGxlID0gcmVzcG9zdGEuZGF0YS5zdWJ0aXRsZTsqLwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5pbmZvQ2xhc3NlID0gdGhpcy5pbmZvSXRlbUNsYXNzZXMuZmluZEluZGV4KGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0NsYXNzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaW5mb0xldmVsID0gdGhpcy5pbmZvSXRlbUxldmVscy5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2bS5pbmZvTGV2ZWw7CiAgICAgIH0pOwogICAgICB0aGlzLmluZm9MZWFybmluZyA9IHRoaXMuaW5mb0l0ZW1MZWFybmluZ1N0eWxlcy5maW5kSW5kZXgoZnVuY3Rpb24gKAogICAgICAgIHZhbHVlCiAgICAgICkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0xlYXJuaW5nOwogICAgICB9KTsKICAgICAgaWYgKHRoaXMuaW1hZ2VtT2JqZWN0KSB7CiAgICAgICAgYXdhaXQgdGhpcy5wb3N0T3JQdXRNb2JpbGVtZWRpYSgpOwogICAgICAgIGF3YWl0IHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICAgICAgYXdhaXQgdGhpcy5yZXNldFZhcmlhYmxlcygpOwogICAgICAgIHRoaXMudmlld0ltYWdlID0gZmFsc2U7CiAgICAgICAgdGhpcy5pbWFnZW1PYmplY3QgPSBudWxsOwogICAgICAgIGF3YWl0IHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlhbG9nX2FsZXJ0ID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHJlc2V0KCkgewogICAgICBhd2FpdCB0aGlzLiRlbWl0KCJjbG9zZSIpOwogICAgICBhd2FpdCB0aGlzLnJlc2V0VmFyaWFibGVzKCk7CiAgICAgIHRoaXMudmlld0ltYWdlID0gZmFsc2U7CiAgICAgIHRoaXMuaW1hZ2VtT2JqZWN0ID0gbnVsbDsKICAgICAgYXdhaXQgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICB9LAogICAgcmVzZXRWYXJpYWJsZXMoKSB7CiAgICAgIHRoaXMuaW5mb0xldmVsID0gIiI7CiAgICAgIHRoaXMuaW5mb0xlYXJuaW5nID0gIiI7CiAgICAgIHRoaXMuaW5mb0NsYXNzZSA9ICIiOwogICAgfSwKICAgIGdldFNyY0ltYWdlKCkgewogICAgICBpZiAodGhpcy5tb2JpbGVtZWRpYS5wYXRoKSB7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICBmaXJlYmFzZQogICAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgICAgLnJlZih0aGlzLm1vYmlsZW1lZGlhLnBhdGgpCiAgICAgICAgICAuZ2V0RG93bmxvYWRVUkwoKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICB2bS52aWV3SW1hZ2VTcmMgPSB1cmw7CiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICJibG9iIjsKICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgYmxvYiA9IHhoci5yZXNwb25zZTsKICAgICAgICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCB2bS5tb2JpbGVtZWRpYS5uYW1lZmlsZSwgewogICAgICAgICAgICAgICAgdHlwZTogYmxvYi50eXBlLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZtLmltYWdlbU9iamVjdCA9IGZpbGU7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHhoci5vcGVuKCJHRVQiLCB1cmwpOwogICAgICAgICAgICB4aHIuc2VuZCgpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRJY29uQ29sb3IoKSB7CiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhLnBhdGgpIHsKICAgICAgICBpZiAodGhpcy5pY29uVmlld0ltYWdlQ29sb3IgPT09ICJncmV5IikgewogICAgICAgICAgdGhpcy5pY29uVmlld0ltYWdlQ29sb3IgPSAiYmx1ZSI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaWNvblZpZXdJbWFnZUNvbG9yID0gImdyZXkiOwogICAgICAgIH0KICAgICAgICB0aGlzLnZpZXdJbWFnZSA9ICF0aGlzLnZpZXdJbWFnZTsKICAgICAgICAvKmZpcmViYXNlCiAgICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgICAucmVmKHRoaXMubW9iaWxlbWVkaWEucGF0aCkKICAgICAgICAgIC5nZXREb3dubG9hZFVSTCgpCiAgICAgICAgICAudGhlbihmdW5jdGlvbih1cmwpIHsKICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsLCAiX2JsYW5rIik7CiAgICAgICAgICB9KTsqLwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ImageDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\n  <v-container class=\"pa-0\">\n    <v-card>\n      <v-card-title style=\"background-color:#63B0B0; color:white;\">\n        <span class=\"headline\">\n          <p>Importe sua imagem.</p>\n        </span>\n      </v-card-title>\n      <v-card-text>\n        <!--Formulario para adição de submódulo ou conceito-->\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n          <v-text-field\n            v-model=\"imagemDescription\"\n            :rules=\"imagemDescriptionRules\"\n            label=\"Utilize uma descrição para a imagem\"\n            required\n          ></v-text-field>\n        </v-form>\n        <v-row>\n          <v-col cols=\"3\" v-if=\"type==='conceito'\">\n            <label for=\"infoItemClassesSelect\">Classifique o item de informação</label>\n            <v-select\n              id=\"infoItemClassesSelect\"\n              v-model=\"infoClasse\"\n              :items=\"infoItemClasses\"\n              label=\"Classe\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"3\">\n            <label for=\"infoItemLevelsSelect\">Qual o nível de dificuldade deste conteúdo?</label>\n            <v-select\n              class=\"mt-5\"\n              id=\"infoItemLevelsSelect\"\n              v-model=\"infoLevel\"\n              :items=\"infoItemLevels\"\n              label=\"Nível\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\">\n            <label for=\"infoItemLearningStylesSelect\">Qual o estilo de aprendizado deste conteúdo?</label>\n            <v-select\n              id=\"infoItemLearningStylesSelect\"\n              v-model=\"infoLearning\"\n              :items=\"infoItemLearningStyles\"\n              label=\"Nível\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n        </v-row>\n        <v-spacer></v-spacer>\n        <v-file-input\n          label=\"UPLOAD IMAGE\"\n          filled\n          v-model=\"imagemObject\"\n          accept=\"image/*\"\n          prepend-icon=\"mdi-camera\"\n        ></v-file-input>\n        <v-spacer></v-spacer>\n        <label v-if=\"mobilemedia\" class=\"mr-2\" for=\"viewImageIconId\">Visualizar Imagem</label>\n        <v-icon\n          id=\"viewImageIconId\"\n          :color=\"iconViewImageColor\"\n          icon\n          @click=\"setIconColor()\"\n          v-if=\"mobilemedia\"\n        >mdi-eye</v-icon>\n\n        <v-img id=\"imagem\" class=\"mt-3\" v-bind:src=\"viewImageSrc\" v-if=\"viewImage\"></v-img>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"red\" height=\"49\" dark large @click=\"reset()\">\n          Cancelar\n          <v-icon dark right>mdi-close</v-icon>\n        </v-btn>\n        <v-btn color=\"success\" height=\"49\" dark large @click=\"validate()\">\n          Salvar\n          <v-icon dark right>mdi-content-save</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialog_alert\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\">ALERTA!</v-card-title>\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">É necessário importar alguma imagem.</v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialog_alert = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport * as firebase from \"firebase\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nexport default {\n  name: \"ImageDialog\",\n  props: [\"optionCall\", \"type\", \"domain\", \"dialog\", \"mobilemedia\"],\n  data: () => ({\n    valid: true,\n    dialog_alert: false,\n    viewImage: false,\n    viewImageSrc: \"\",\n    iconViewImageColor: \"blue\",\n    urlDownload: \"\",\n    resolution: \"\",\n    infoLevel: \"\",\n    infoLearning: \"\",\n    infoClasse: \"\",\n    infoItemClasses: [\"Conceito\", \"Princípio\", \"Fato\"],\n    infoItemLevels: [\"0 - Inicial\", \"1 - Fácil\", \"2 - Médio\", \"3 - Difícil\"],\n    infoItemLearningStyles: [\"Visual\", \"Textual\"],\n    infoResume: \"\",\n    imagemDescription: \"\",\n    imagemObject: null,\n    imagemDescriptionRules: [\n      (v) => !!v || \"É necessário descrever a imagem a ser inserida\",\n      (v) =>\n        (v && v.length <= 100) ||\n        \"A descrição da imagem deve ter no máximo 100 caracteres\",\n    ],\n  }),\n  watch: {\n    imagemObject: function () {\n      if (this.imagemObject) {\n        var vm = this;\n        var img = new Image();\n        img.src = URL.createObjectURL(this.imagemObject);\n        img.onload = function () {\n          vm.resolution = img.width + \"X\" + img.height;\n        };\n      }\n    },\n    dialog: function () {\n      this.getMobileMedia();\n    },\n  },\n  mounted: function () {\n    this.getMobileMedia();\n    this.$refs.form.resetValidation();\n  },\n  methods: {\n    getMobileMedia() {\n      if (this.mobilemedia) {\n        var vm = this;\n        this.$nextTick(function () {\n          if (vm.mobilemedia.path !== null) {\n            vm.imagemDescription = this.mobilemedia.description;\n          }\n          if (vm.mobilemedia.difficultyLevel !== null) {\n            vm.infoLevel = vm.infoItemLevels[vm.mobilemedia.difficultyLevel];\n          }\n          if (vm.mobilemedia.learningStyle !== null) {\n            vm.infoLearning =\n              vm.infoItemLearningStyles[vm.mobilemedia.learningStyle];\n          }\n          if (vm.mobilemedia.fk_informationitem) {\n            var csrftoken = Cookie.get(\"csrftoken\");\n            var headers = {\n              \"X-CSRFTOKEN\": csrftoken,\n            };\n\n            axios\n              .patch(\n                vm.mobilemedia.fk_informationitem,\n                {\n                  headers: headers,\n                },\n                {\n                  auth: {\n                    username: \"admin\",\n                    password: \"admin\",\n                  },\n                }\n              )\n              .then(function (resposta) {\n                vm.infoClasse =\n                  vm.infoItemClasses[\n                    resposta.data.fk_informationitemtype.split(\"/\")[4] - 1\n                  ];\n              });\n          }\n        });\n        vm.getSrcImage();\n        vm.viewImage = true;\n      } else {\n        this.viewImageSrc = \"\";\n      }\n    },\n    async postOrPutMobilemedia() {\n      var auxinformationitem = {\n        auxinfo:\n          `https://educomml-back.herokuapp.com/informationitemtype/` +\n          (this.infoClasse + 1) +\n          \"/\",\n      };\n      var vm = this;\n      var path = \"\";\n      if (this.mobilemedia) {\n        path = this.mobilemedia.path;\n      } else {\n        path =\n          this.domain.idknowledgedomain.toString() +\n          \"/\" +\n          Date.now().toString();\n      }\n      var mobilemedia = {\n        label: this.imagemDescription,\n        fk_idmediatype: \"https://educomml-back.herokuapp.com/mediatype/1/\",\n        path: path,\n        resolution: this.resolution,\n        namefile: path.split(\"/\")[1],\n        description: this.imagemDescription,\n        time: null,\n        textfull: null,\n        textshort: null,\n        urllink: null,\n      };\n\n      await firebase.storage().ref().child(path).put(this.imagemObject);\n      if (this.infoClasse == -1) {\n        this.infoClasse = 1;\n        auxinformationitem.auxinfo =\n          `https://educomml-back.herokuapp.com/informationitemtype/` + this.infoClasse + \"/\";\n      }\n      if (this.infoLevel > -1) {\n        Object.assign(mobilemedia, {\n          difficultyLevel: this.infoLevel,\n        });\n      }\n      if (this.infoLearning > -1) {\n        Object.assign(mobilemedia, {\n          learningStyle: this.infoLearning,\n        });\n      }\n      if (this.type === \"conceito\") {\n        var iteminfo = {\n          nameinformationitem: \"imagem_\" + vm.imagemObject.name,\n          fk_informationitemtype: auxinformationitem.auxinfo,\n          fk_idconcept: this.optionCall.url,\n        };\n      } else if (this.type === \"dominio\") {\n        Object.assign(mobilemedia, {\n          fk_idknowledgedomain: this.optionCall.url,\n        });\n      } else if (this.type === \"modulo\") {\n        Object.assign(mobilemedia, {\n          fk_module: this.optionCall.url,\n        });\n      }\n      /* CÓDIGO PARA EDIÇÃO DO MOBILEMEDIA */\n      if (this.mobilemedia) {\n        vm = this;\n\n        if (this.type === \"conceito\") {\n          await axios\n            .put(vm.mobilemedia.fk_informationitem, iteminfo, {\n              auth: {\n                username: \"admin\",\n                password: \"admin\",\n              },\n            })\n            .then(async function (resposta) {\n              Object.assign(mobilemedia, {\n                fk_informationitem: resposta.data.url,\n              });\n              await axios\n                .put(vm.mobilemedia.url, mobilemedia, {\n                  auth: {\n                    username: \"admin\",\n                    password: \"admin\",\n                  },\n                })\n                .then(async function (/*resposta*/) {});\n            });\n        } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n          await axios\n            .put(this.mobilemedia.url, mobilemedia, {\n              auth: {\n                username: \"admin\",\n                password: \"admin\",\n              },\n            })\n            .then(async function (/*resposta*/) {});\n        }\n      } else {\n        /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA */\n        if (this.type === \"conceito\") {\n          /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA COM ITEMINFO*/\n\n          await axios\n            .post(`https://educomml-back.herokuapp.com/informationitem/`, iteminfo, {\n              auth: {\n                username: \"admin\",\n                password: \"admin\",\n              },\n            })\n            .then(async function (resposta) {\n              Object.assign(mobilemedia, {\n                fk_informationitem: resposta.data.url,\n              });\n              await axios\n                .post(`https://educomml-back.herokuapp.com/mobilemedia/`, mobilemedia, {\n                  auth: {\n                    username: \"admin\",\n                    password: \"admin\",\n                  },\n                })\n                .then(function (/*resposta*/) {\n                  /*vm.moduloTitle = resposta.data.namemodule;\n                                    vm.subTitle = resposta.data.subtitle;*/\n                });\n            });\n        } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n          /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA SEM ITEM INFO*/\n\n          await axios\n            .post(`https://educomml-back.herokuapp.com/mobilemedia/`, mobilemedia, {\n              auth: {\n                username: \"admin\",\n                password: \"admin\",\n              },\n            })\n            .then(function (/*resposta*/) {\n              /*vm.moduloTitle = resposta.data.namemodule;\n                                vm.subTitle = resposta.data.subtitle;*/\n            });\n        }\n      }\n    },\n    async validate() {\n      var vm = this;\n      this.infoClasse = this.infoItemClasses.findIndex(function (value) {\n        return value === vm.infoClasse;\n      });\n      this.infoLevel = this.infoItemLevels.findIndex(function (value) {\n        return value === vm.infoLevel;\n      });\n      this.infoLearning = this.infoItemLearningStyles.findIndex(function (\n        value\n      ) {\n        return value === vm.infoLearning;\n      });\n      if (this.imagemObject) {\n        await this.postOrPutMobilemedia();\n        await this.$emit(\"close\");\n        await this.resetVariables();\n        this.viewImage = false;\n        this.imagemObject = null;\n        await this.$refs.form.reset();\n      } else {\n        this.dialog_alert = true;\n      }\n    },\n    async reset() {\n      await this.$emit(\"close\");\n      await this.resetVariables();\n      this.viewImage = false;\n      this.imagemObject = null;\n      await this.$refs.form.reset();\n    },\n    resetVariables() {\n      this.infoLevel = \"\";\n      this.infoLearning = \"\";\n      this.infoClasse = \"\";\n    },\n    getSrcImage() {\n      if (this.mobilemedia.path) {\n        var vm = this;\n        firebase\n          .storage()\n          .ref(this.mobilemedia.path)\n          .getDownloadURL()\n          .then(function (url) {\n            vm.viewImageSrc = url;\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = \"blob\";\n            xhr.onload = function () {\n              var blob = xhr.response;\n              const file = new File([blob], vm.mobilemedia.namefile, {\n                type: blob.type,\n              });\n              vm.imagemObject = file;\n            };\n            xhr.open(\"GET\", url);\n            xhr.send();\n          });\n      }\n    },\n    setIconColor() {\n      if (this.mobilemedia.path) {\n        if (this.iconViewImageColor === \"grey\") {\n          this.iconViewImageColor = \"blue\";\n        } else {\n          this.iconViewImageColor = \"grey\";\n        }\n        this.viewImage = !this.viewImage;\n        /*firebase\n          .storage()\n          .ref(this.mobilemedia.path)\n          .getDownloadURL()\n          .then(function(url) {\n            window.open(url, \"_blank\");\n          });*/\n      }\n    },\n  },\n};\n</script>\n"]}]}