{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\instructional_model\\ImageDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\instructional_model\\ImageDialog.vue","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1597353521000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IEFwaSBmcm9tICJAL3NlcnZpY2VzL0FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkltYWdlRGlhbG9nIiwKICBwcm9wczogWyJvcHRpb25DYWxsIiwgInR5cGUiLCAiZG9tYWluIiwgImRpYWxvZyIsICJtb2JpbGVtZWRpYSJdLAogIGRhdGE6ICgpID0+ICh7CiAgICB2YWxpZDogdHJ1ZSwKICAgIGRpYWxvZ19hbGVydDogZmFsc2UsCiAgICB2aWV3SW1hZ2U6IGZhbHNlLAogICAgdmlld0ltYWdlU3JjOiAiIiwKICAgIGljb25WaWV3SW1hZ2VDb2xvcjogImJsdWUiLAogICAgdXJsRG93bmxvYWQ6ICIiLAogICAgcmVzb2x1dGlvbjogIiIsCiAgICBpbmZvTGV2ZWw6ICIiLAogICAgaW5mb0xlYXJuaW5nOiAiIiwKICAgIGluZm9DbGFzc2U6ICIiLAogICAgaW5mb0l0ZW1DbGFzc2VzOiBbIkNvbmNlaXRvIiwgIlByaW5jw61waW8iLCAiRmF0byJdLAogICAgaW5mb0l0ZW1MZXZlbHM6IFsiMCAtIEluaWNpYWwiLCAiMSAtIEbDoWNpbCIsICIyIC0gTcOpZGlvIiwgIjMgLSBEaWbDrWNpbCJdLAogICAgaW5mb0l0ZW1MZWFybmluZ1N0eWxlczogWyJWaXN1YWwiLCAiVGV4dHVhbCJdLAogICAgaW5mb1Jlc3VtZTogIiIsCiAgICBpbWFnZW1EZXNjcmlwdGlvbjogIiIsCiAgICBpbWFnZW1PYmplY3Q6IG51bGwsCiAgICBpbWFnZW1EZXNjcmlwdGlvblJ1bGVzOiBbCiAgICAgICh2KSA9PiAhIXYgfHwgIsOJIG5lY2Vzc8OhcmlvIGRlc2NyZXZlciBhIGltYWdlbSBhIHNlciBpbnNlcmlkYSIsCiAgICAgICh2KSA9PgogICAgICAgICh2ICYmIHYubGVuZ3RoIDw9IDEwMCkgfHwKICAgICAgICAiQSBkZXNjcmnDp8OjbyBkYSBpbWFnZW0gZGV2ZSB0ZXIgbm8gbcOheGltbyAxMDAgY2FyYWN0ZXJlcyIsCiAgICBdLAogIH0pLAogIHdhdGNoOiB7CiAgICBpbWFnZW1PYmplY3Q6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5pbWFnZW1PYmplY3QpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmltYWdlbU9iamVjdCk7CiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgdm0ucmVzb2x1dGlvbiA9IGltZy53aWR0aCArICJYIiArIGltZy5oZWlnaHQ7CiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGRpYWxvZzogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuZ2V0TW9iaWxlTWVkaWEoKTsKICAgIH0sCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuZ2V0TW9iaWxlTWVkaWEoKTsKICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldE1vYmlsZU1lZGlhKCkgewogICAgICBpZiAodGhpcy5tb2JpbGVtZWRpYSkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEucGF0aCAhPT0gbnVsbCkgewogICAgICAgICAgICB2bS5pbWFnZW1EZXNjcmlwdGlvbiA9IHRoaXMubW9iaWxlbWVkaWEuZGVzY3JpcHRpb247CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEuZGlmZmljdWx0eUxldmVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIHZtLmluZm9MZXZlbCA9IHZtLmluZm9JdGVtTGV2ZWxzW3ZtLm1vYmlsZW1lZGlhLmRpZmZpY3VsdHlMZXZlbF07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEubGVhcm5pbmdTdHlsZSAhPT0gbnVsbCkgewogICAgICAgICAgICB2bS5pbmZvTGVhcm5pbmcgPQogICAgICAgICAgICAgIHZtLmluZm9JdGVtTGVhcm5pbmdTdHlsZXNbdm0ubW9iaWxlbWVkaWEubGVhcm5pbmdTdHlsZV07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodm0ubW9iaWxlbWVkaWEuZmtfaW5mb3JtYXRpb25pdGVtKSB7CiAgICAgICAgICAgIEFwaSgpCiAgICAgICAgICAgICAgLnBhdGNoKHZtLm1vYmlsZW1lZGlhLmZrX2luZm9ybWF0aW9uaXRlbSwge30pCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICAgIHZtLmluZm9DbGFzc2UgPQogICAgICAgICAgICAgICAgICB2bS5pbmZvSXRlbUNsYXNzZXNbCiAgICAgICAgICAgICAgICAgICAgcmVzcG9zdGEuZGF0YS5ma19pbmZvcm1hdGlvbml0ZW10eXBlLnNwbGl0KCIvIilbNF0gLSAxCiAgICAgICAgICAgICAgICAgIF07CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdm0uZ2V0U3JjSW1hZ2UoKTsKICAgICAgICB2bS52aWV3SW1hZ2UgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmlld0ltYWdlU3JjID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBwb3N0T3JQdXRNb2JpbGVtZWRpYSgpIHsKICAgICAgdmFyIGF1eGluZm9ybWF0aW9uaXRlbSA9IHsKICAgICAgICBhdXhpbmZvOiBgL2luZm9ybWF0aW9uaXRlbXR5cGUvYCArICh0aGlzLmluZm9DbGFzc2UgKyAxKSArICIvIiwKICAgICAgfTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHBhdGggPSAiIjsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICBwYXRoID0gdGhpcy5tb2JpbGVtZWRpYS5wYXRoOwogICAgICB9IGVsc2UgewogICAgICAgIHBhdGggPQogICAgICAgICAgdGhpcy5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSArCiAgICAgICAgICAiLyIgKwogICAgICAgICAgRGF0ZS5ub3coKS50b1N0cmluZygpOwogICAgICB9CiAgICAgIHZhciBtb2JpbGVtZWRpYSA9IHsKICAgICAgICBsYWJlbDogdGhpcy5pbWFnZW1EZXNjcmlwdGlvbiwKICAgICAgICBma19pZG1lZGlhdHlwZTogIi9tZWRpYXR5cGUvMS8iLAogICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgcmVzb2x1dGlvbjogdGhpcy5yZXNvbHV0aW9uLAogICAgICAgIG5hbWVmaWxlOiBwYXRoLnNwbGl0KCIvIilbMV0sCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuaW1hZ2VtRGVzY3JpcHRpb24sCiAgICAgICAgdGltZTogbnVsbCwKICAgICAgICB0ZXh0ZnVsbDogbnVsbCwKICAgICAgICB0ZXh0c2hvcnQ6IG51bGwsCiAgICAgICAgdXJsbGluazogbnVsbCwKICAgICAgfTsKCiAgICAgIGF3YWl0IGZpcmViYXNlCiAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgIC5yZWYoKQogICAgICAgIC5jaGlsZChwYXRoKQogICAgICAgIC5wdXQodGhpcy5pbWFnZW1PYmplY3QpOwogICAgICBpZiAodGhpcy5pbmZvQ2xhc3NlID09IC0xKSB7CiAgICAgICAgdGhpcy5pbmZvQ2xhc3NlID0gMTsKICAgICAgICBhdXhpbmZvcm1hdGlvbml0ZW0uYXV4aW5mbyA9CiAgICAgICAgICBgL2luZm9ybWF0aW9uaXRlbXR5cGUvYCArIHRoaXMuaW5mb0NsYXNzZSArICIvIjsKICAgICAgfQogICAgICBpZiAodGhpcy5pbmZvTGV2ZWwgPiAtMSkgewogICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsKICAgICAgICAgIGRpZmZpY3VsdHlMZXZlbDogdGhpcy5pbmZvTGV2ZWwsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaW5mb0xlYXJuaW5nID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBsZWFybmluZ1N0eWxlOiB0aGlzLmluZm9MZWFybmluZywKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7CiAgICAgICAgdmFyIGl0ZW1pbmZvID0gewogICAgICAgICAgbmFtZWluZm9ybWF0aW9uaXRlbTogImltYWdlbV8iICsgdm0uaW1hZ2VtT2JqZWN0Lm5hbWUsCiAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW10eXBlOiBhdXhpbmZvcm1hdGlvbml0ZW0uYXV4aW5mbywKICAgICAgICAgIGZrX2lkY29uY2VwdDogdGhpcy5vcHRpb25DYWxsLnVybCwKICAgICAgICB9OwogICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gImRvbWluaW8iKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgZmtfaWRrbm93bGVkZ2Vkb21haW46IHRoaXMub3B0aW9uQ2FsbC51cmwsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAibW9kdWxvIikgewogICAgICAgIE9iamVjdC5hc3NpZ24obW9iaWxlbWVkaWEsIHsKICAgICAgICAgIGZrX21vZHVsZTogdGhpcy5vcHRpb25DYWxsLnVybCwKICAgICAgICB9KTsKICAgICAgfQogICAgICAvKiBDw5NESUdPIFBBUkEgRURJw4fDg08gRE8gTU9CSUxFTUVESUEgKi8KICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICB2bSA9IHRoaXM7CgogICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJjb25jZWl0byIpIHsKICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgIC5wdXQodm0ubW9iaWxlbWVkaWEuZmtfaW5mb3JtYXRpb25pdGVtLCBpdGVtaW5mbykKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgICAgICAucHV0KHZtLm1vYmlsZW1lZGlhLnVybCwgbW9iaWxlbWVkaWEpCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbigvKnJlc3Bvc3RhKi8pIHt9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIiB8fCB0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7CiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucHV0KHRoaXMubW9iaWxlbWVkaWEudXJsLCBtb2JpbGVtZWRpYSkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7fSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgKi8KICAgICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7CiAgICAgICAgICAvKiBDw5NESUdPIFBBUkEgQ1JJQcOHw4NPIERPIE1PQklMRU1FRElBIENPTSBJVEVNSU5GTyovCgogICAgICAgICAgYXdhaXQgQXBpKCkKICAgICAgICAgICAgLnBvc3QoYC9pbmZvcm1hdGlvbml0ZW0vYCwgaXRlbWluZm8pCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgICAgICAgZmtfaW5mb3JtYXRpb25pdGVtOiByZXNwb3N0YS5kYXRhLnVybCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAgICAgLnBvc3QoYC9tb2JpbGVtZWRpYS9gLCBtb2JpbGVtZWRpYSkKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKC8qcmVzcG9zdGEqLykgewogICAgICAgICAgICAgICAgICAvKnZtLm1vZHVsb1RpdGxlID0gcmVzcG9zdGEuZGF0YS5uYW1lbW9kdWxlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3ViVGl0bGUgPSByZXNwb3N0YS5kYXRhLnN1YnRpdGxlOyovCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIiB8fCB0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7CiAgICAgICAgICAvKiBDw5NESUdPIFBBUkEgQ1JJQcOHw4NPIERPIE1PQklMRU1FRElBIFNFTSBJVEVNIElORk8qLwogICAgICAgICAgYXdhaXQgQXBpKCkKICAgICAgICAgICAgLnBvc3QoYC9tb2JpbGVtZWRpYS9gLCBtb2JpbGVtZWRpYSkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7CiAgICAgICAgICAgICAgLyp2bS5tb2R1bG9UaXRsZSA9IHJlc3Bvc3RhLmRhdGEubmFtZW1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3ViVGl0bGUgPSByZXNwb3N0YS5kYXRhLnN1YnRpdGxlOyovCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIHZhbGlkYXRlKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB0aGlzLmluZm9DbGFzc2UgPSB0aGlzLmluZm9JdGVtQ2xhc3Nlcy5maW5kSW5kZXgoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IHZtLmluZm9DbGFzc2U7CiAgICAgIH0pOwogICAgICB0aGlzLmluZm9MZXZlbCA9IHRoaXMuaW5mb0l0ZW1MZXZlbHMuZmluZEluZGV4KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2bS5pbmZvTGV2ZWw7CiAgICAgIH0pOwogICAgICB0aGlzLmluZm9MZWFybmluZyA9IHRoaXMuaW5mb0l0ZW1MZWFybmluZ1N0eWxlcy5maW5kSW5kZXgoZnVuY3Rpb24oCiAgICAgICAgdmFsdWUKICAgICAgKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB2bS5pbmZvTGVhcm5pbmc7CiAgICAgIH0pOwogICAgICBpZiAodGhpcy5pbWFnZW1PYmplY3QpIHsKICAgICAgICBhd2FpdCB0aGlzLnBvc3RPclB1dE1vYmlsZW1lZGlhKCk7CiAgICAgICAgYXdhaXQgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgICAgICBhd2FpdCB0aGlzLnJlc2V0VmFyaWFibGVzKCk7CiAgICAgICAgdGhpcy52aWV3SW1hZ2UgPSBmYWxzZTsKICAgICAgICB0aGlzLmltYWdlbU9iamVjdCA9IG51bGw7CiAgICAgICAgYXdhaXQgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaWFsb2dfYWxlcnQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgcmVzZXQoKSB7CiAgICAgIGF3YWl0IHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICAgIGF3YWl0IHRoaXMucmVzZXRWYXJpYWJsZXMoKTsKICAgICAgdGhpcy52aWV3SW1hZ2UgPSBmYWxzZTsKICAgICAgdGhpcy5pbWFnZW1PYmplY3QgPSBudWxsOwogICAgICBhd2FpdCB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgIH0sCiAgICByZXNldFZhcmlhYmxlcygpIHsKICAgICAgdGhpcy5pbmZvTGV2ZWwgPSAiIjsKICAgICAgdGhpcy5pbmZvTGVhcm5pbmcgPSAiIjsKICAgICAgdGhpcy5pbmZvQ2xhc3NlID0gIiI7CiAgICB9LAogICAgZ2V0U3JjSW1hZ2UoKSB7CiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhLnBhdGgpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIGZpcmViYXNlCiAgICAgICAgICAuc3RvcmFnZSgpCiAgICAgICAgICAucmVmKHRoaXMubW9iaWxlbWVkaWEucGF0aCkKICAgICAgICAgIC5nZXREb3dubG9hZFVSTCgpCiAgICAgICAgICAudGhlbihmdW5jdGlvbih1cmwpIHsKICAgICAgICAgICAgdm0udmlld0ltYWdlU3JjID0gdXJsOwogICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAiYmxvYiI7CiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB2YXIgYmxvYiA9IHhoci5yZXNwb25zZTsKICAgICAgICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCB2bS5tb2JpbGVtZWRpYS5uYW1lZmlsZSwgewogICAgICAgICAgICAgICAgdHlwZTogYmxvYi50eXBlLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZtLmltYWdlbU9iamVjdCA9IGZpbGU7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHhoci5vcGVuKCJHRVQiLCB1cmwpOwogICAgICAgICAgICB4aHIuc2VuZCgpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRJY29uQ29sb3IoKSB7CiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhLnBhdGgpIHsKICAgICAgICBpZiAodGhpcy5pY29uVmlld0ltYWdlQ29sb3IgPT09ICJncmV5IikgewogICAgICAgICAgdGhpcy5pY29uVmlld0ltYWdlQ29sb3IgPSAiYmx1ZSI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaWNvblZpZXdJbWFnZUNvbG9yID0gImdyZXkiOwogICAgICAgIH0KICAgICAgICB0aGlzLnZpZXdJbWFnZSA9ICF0aGlzLnZpZXdJbWFnZTsKICAgICAgICAvKmZpcmViYXNlCiAgICAgICAgLnN0b3JhZ2UoKQogICAgICAgIC5yZWYodGhpcy5tb2JpbGVtZWRpYS5wYXRoKQogICAgICAgIC5nZXREb3dubG9hZFVSTCgpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24odXJsKSB7CiAgICAgICAgICB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiKTsKICAgICAgICB9KTsqLwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ImageDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\n  <v-container class=\"pa-0\">\n    <v-card>\n      <v-card-title style=\"background-color:#63B0B0; color:white;\">\n        <span class=\"headline\">\n          <p>Importe sua imagem.</p>\n        </span>\n      </v-card-title>\n      <v-card-text>\n        <!--Formulario para adição de submódulo ou conceito-->\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n          <v-text-field\n            v-model=\"imagemDescription\"\n            :rules=\"imagemDescriptionRules\"\n            label=\"Utilize uma descrição para a imagem\"\n            required\n          ></v-text-field>\n        </v-form>\n        <v-row>\n          <v-col cols=\"3\" v-if=\"type === 'conceito'\">\n            <label for=\"infoItemClassesSelect\"\n              >Classifique o item de informação</label\n            >\n            <v-select\n              id=\"infoItemClassesSelect\"\n              v-model=\"infoClasse\"\n              :items=\"infoItemClasses\"\n              label=\"Classe\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"3\">\n            <label for=\"infoItemLevelsSelect\"\n              >Qual o nível de dificuldade deste conteúdo?</label\n            >\n            <v-select\n              class=\"mt-5\"\n              id=\"infoItemLevelsSelect\"\n              v-model=\"infoLevel\"\n              :items=\"infoItemLevels\"\n              label=\"Nível\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\">\n            <label for=\"infoItemLearningStylesSelect\"\n              >Qual o estilo de aprendizado deste conteúdo?</label\n            >\n            <v-select\n              id=\"infoItemLearningStylesSelect\"\n              v-model=\"infoLearning\"\n              :items=\"infoItemLearningStyles\"\n              label=\"Nível\"\n              style=\"margin:0px;\"\n            ></v-select>\n          </v-col>\n        </v-row>\n        <v-spacer></v-spacer>\n        <v-file-input\n          label=\"UPLOAD IMAGE\"\n          filled\n          v-model=\"imagemObject\"\n          accept=\"image/*\"\n          prepend-icon=\"mdi-camera\"\n        ></v-file-input>\n        <v-spacer></v-spacer>\n        <label v-if=\"mobilemedia\" class=\"mr-2\" for=\"viewImageIconId\"\n          >Visualizar Imagem</label\n        >\n        <v-icon\n          id=\"viewImageIconId\"\n          :color=\"iconViewImageColor\"\n          icon\n          @click=\"setIconColor()\"\n          v-if=\"mobilemedia\"\n          >mdi-eye</v-icon\n        >\n\n        <v-img\n          id=\"imagem\"\n          class=\"mt-3\"\n          v-bind:src=\"viewImageSrc\"\n          v-if=\"viewImage\"\n        ></v-img>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"red\" height=\"49\" dark large @click=\"reset()\">\n          Cancelar\n          <v-icon dark right>mdi-close</v-icon>\n        </v-btn>\n        <v-btn color=\"success\" height=\"49\" dark large @click=\"validate()\">\n          Salvar\n          <v-icon dark right>mdi-content-save</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialog_alert\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\"\n            >ALERTA!</v-card-title\n          >\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\"\n            >É necessário importar alguma imagem.</v-card-text\n          >\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialog_alert = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-container>\n</template>\n\n<script>\n  import * as firebase from \"firebase\";\n  import Api from \"@/services/Api\";\n\n  export default {\n    name: \"ImageDialog\",\n    props: [\"optionCall\", \"type\", \"domain\", \"dialog\", \"mobilemedia\"],\n    data: () => ({\n      valid: true,\n      dialog_alert: false,\n      viewImage: false,\n      viewImageSrc: \"\",\n      iconViewImageColor: \"blue\",\n      urlDownload: \"\",\n      resolution: \"\",\n      infoLevel: \"\",\n      infoLearning: \"\",\n      infoClasse: \"\",\n      infoItemClasses: [\"Conceito\", \"Princípio\", \"Fato\"],\n      infoItemLevels: [\"0 - Inicial\", \"1 - Fácil\", \"2 - Médio\", \"3 - Difícil\"],\n      infoItemLearningStyles: [\"Visual\", \"Textual\"],\n      infoResume: \"\",\n      imagemDescription: \"\",\n      imagemObject: null,\n      imagemDescriptionRules: [\n        (v) => !!v || \"É necessário descrever a imagem a ser inserida\",\n        (v) =>\n          (v && v.length <= 100) ||\n          \"A descrição da imagem deve ter no máximo 100 caracteres\",\n      ],\n    }),\n    watch: {\n      imagemObject: function() {\n        if (this.imagemObject) {\n          var vm = this;\n          var img = new Image();\n          img.src = URL.createObjectURL(this.imagemObject);\n          img.onload = function() {\n            vm.resolution = img.width + \"X\" + img.height;\n          };\n        }\n      },\n      dialog: function() {\n        this.getMobileMedia();\n      },\n    },\n    mounted: function() {\n      this.getMobileMedia();\n      this.$refs.form.resetValidation();\n    },\n    methods: {\n      getMobileMedia() {\n        if (this.mobilemedia) {\n          var vm = this;\n          this.$nextTick(function() {\n            if (vm.mobilemedia.path !== null) {\n              vm.imagemDescription = this.mobilemedia.description;\n            }\n            if (vm.mobilemedia.difficultyLevel !== null) {\n              vm.infoLevel = vm.infoItemLevels[vm.mobilemedia.difficultyLevel];\n            }\n            if (vm.mobilemedia.learningStyle !== null) {\n              vm.infoLearning =\n                vm.infoItemLearningStyles[vm.mobilemedia.learningStyle];\n            }\n            if (vm.mobilemedia.fk_informationitem) {\n              Api()\n                .patch(vm.mobilemedia.fk_informationitem, {})\n                .then(function(resposta) {\n                  vm.infoClasse =\n                    vm.infoItemClasses[\n                      resposta.data.fk_informationitemtype.split(\"/\")[4] - 1\n                    ];\n                });\n            }\n          });\n          vm.getSrcImage();\n          vm.viewImage = true;\n        } else {\n          this.viewImageSrc = \"\";\n        }\n      },\n      async postOrPutMobilemedia() {\n        var auxinformationitem = {\n          auxinfo: `/informationitemtype/` + (this.infoClasse + 1) + \"/\",\n        };\n        var vm = this;\n        var path = \"\";\n        if (this.mobilemedia) {\n          path = this.mobilemedia.path;\n        } else {\n          path =\n            this.domain.idknowledgedomain.toString() +\n            \"/\" +\n            Date.now().toString();\n        }\n        var mobilemedia = {\n          label: this.imagemDescription,\n          fk_idmediatype: \"/mediatype/1/\",\n          path: path,\n          resolution: this.resolution,\n          namefile: path.split(\"/\")[1],\n          description: this.imagemDescription,\n          time: null,\n          textfull: null,\n          textshort: null,\n          urllink: null,\n        };\n\n        await firebase\n          .storage()\n          .ref()\n          .child(path)\n          .put(this.imagemObject);\n        if (this.infoClasse == -1) {\n          this.infoClasse = 1;\n          auxinformationitem.auxinfo =\n            `/informationitemtype/` + this.infoClasse + \"/\";\n        }\n        if (this.infoLevel > -1) {\n          Object.assign(mobilemedia, {\n            difficultyLevel: this.infoLevel,\n          });\n        }\n        if (this.infoLearning > -1) {\n          Object.assign(mobilemedia, {\n            learningStyle: this.infoLearning,\n          });\n        }\n        if (this.type === \"conceito\") {\n          var iteminfo = {\n            nameinformationitem: \"imagem_\" + vm.imagemObject.name,\n            fk_informationitemtype: auxinformationitem.auxinfo,\n            fk_idconcept: this.optionCall.url,\n          };\n        } else if (this.type === \"dominio\") {\n          Object.assign(mobilemedia, {\n            fk_idknowledgedomain: this.optionCall.url,\n          });\n        } else if (this.type === \"modulo\") {\n          Object.assign(mobilemedia, {\n            fk_module: this.optionCall.url,\n          });\n        }\n        /* CÓDIGO PARA EDIÇÃO DO MOBILEMEDIA */\n        if (this.mobilemedia) {\n          vm = this;\n\n          if (this.type === \"conceito\") {\n            await Api()\n              .put(vm.mobilemedia.fk_informationitem, iteminfo)\n              .then(async function(resposta) {\n                Object.assign(mobilemedia, {\n                  fk_informationitem: resposta.data.url,\n                });\n                await Api()\n                  .put(vm.mobilemedia.url, mobilemedia)\n                  .then(async function(/*resposta*/) {});\n              });\n          } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n            await Api()\n              .put(this.mobilemedia.url, mobilemedia)\n              .then(async function(/*resposta*/) {});\n          }\n        } else {\n          /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA */\n          if (this.type === \"conceito\") {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA COM ITEMINFO*/\n\n            await Api()\n              .post(`/informationitem/`, iteminfo)\n              .then(async function(resposta) {\n                Object.assign(mobilemedia, {\n                  fk_informationitem: resposta.data.url,\n                });\n                await Api()\n                  .post(`/mobilemedia/`, mobilemedia)\n                  .then(function(/*resposta*/) {\n                    /*vm.moduloTitle = resposta.data.namemodule;\n                                    vm.subTitle = resposta.data.subtitle;*/\n                  });\n              });\n          } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA SEM ITEM INFO*/\n            await Api()\n              .post(`/mobilemedia/`, mobilemedia)\n              .then(function(/*resposta*/) {\n                /*vm.moduloTitle = resposta.data.namemodule;\n                                vm.subTitle = resposta.data.subtitle;*/\n              });\n          }\n        }\n      },\n      async validate() {\n        var vm = this;\n        this.infoClasse = this.infoItemClasses.findIndex(function(value) {\n          return value === vm.infoClasse;\n        });\n        this.infoLevel = this.infoItemLevels.findIndex(function(value) {\n          return value === vm.infoLevel;\n        });\n        this.infoLearning = this.infoItemLearningStyles.findIndex(function(\n          value\n        ) {\n          return value === vm.infoLearning;\n        });\n        if (this.imagemObject) {\n          await this.postOrPutMobilemedia();\n          await this.$emit(\"close\");\n          await this.resetVariables();\n          this.viewImage = false;\n          this.imagemObject = null;\n          await this.$refs.form.reset();\n        } else {\n          this.dialog_alert = true;\n        }\n      },\n      async reset() {\n        await this.$emit(\"close\");\n        await this.resetVariables();\n        this.viewImage = false;\n        this.imagemObject = null;\n        await this.$refs.form.reset();\n      },\n      resetVariables() {\n        this.infoLevel = \"\";\n        this.infoLearning = \"\";\n        this.infoClasse = \"\";\n      },\n      getSrcImage() {\n        if (this.mobilemedia.path) {\n          var vm = this;\n          firebase\n            .storage()\n            .ref(this.mobilemedia.path)\n            .getDownloadURL()\n            .then(function(url) {\n              vm.viewImageSrc = url;\n              var xhr = new XMLHttpRequest();\n              xhr.responseType = \"blob\";\n              xhr.onload = function() {\n                var blob = xhr.response;\n                const file = new File([blob], vm.mobilemedia.namefile, {\n                  type: blob.type,\n                });\n                vm.imagemObject = file;\n              };\n              xhr.open(\"GET\", url);\n              xhr.send();\n            });\n        }\n      },\n      setIconColor() {\n        if (this.mobilemedia.path) {\n          if (this.iconViewImageColor === \"grey\") {\n            this.iconViewImageColor = \"blue\";\n          } else {\n            this.iconViewImageColor = \"grey\";\n          }\n          this.viewImage = !this.viewImage;\n          /*firebase\n          .storage()\n          .ref(this.mobilemedia.path)\n          .getDownloadURL()\n          .then(function(url) {\n            window.open(url, \"_blank\");\n          });*/\n        }\n      },\n    },\n  };\n</script>\n"]}]}