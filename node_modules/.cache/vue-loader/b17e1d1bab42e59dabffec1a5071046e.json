{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\instructional_model\\VideoDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\instructional_model\\VideoDialog.vue","mtime":1596743861357},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1593634550126},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1593634595918},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1593634595223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gImZpcmViYXNlL2FwcCI7CmltcG9ydCBBcGkgZnJvbSAiQC9zZXJ2aWNlcy9BcGkiOwoKaW1wb3J0IE1lZGlhIGZyb20gIkBkb25naWRvL3Z1ZS12aWF1ZGlvIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNZWRpYSwKICB9LAogIG5hbWU6ICJWaWRlb0RpYWxvZyIsCiAgcHJvcHM6IFsib3B0aW9uQ2FsbCIsICJ0eXBlIiwgImRvbWFpbiIsICJkaWFsb2ciLCAibW9iaWxlbWVkaWEiXSwKICBkYXRhOiAoKSA9PiAoewogICAgdmFsaWQ6IHRydWUsCiAgICBkaWFsb2dfYWxlcnQ6IGZhbHNlLAogICAgdmlld1ZpZGVvOiBmYWxzZSwKICAgIHZpZXdWaWRlb1NyYzogIiIsCiAgICBpY29uVmlld1ZpZGVvQ29sb3I6ICJibHVlIiwKICAgIHJlc29sdXRpb246ICIiLAogICAgdGltZTogIiIsCiAgICBpbmZvTGV2ZWw6ICIiLAogICAgaW5mb0xlYXJuaW5nOiAiIiwKICAgIGluZm9DbGFzc2U6ICIiLAogICAgaW5mb0l0ZW1DbGFzc2VzOiBbIkNvbmNlaXRvIiwgIlByaW5jw61waW8iLCAiRmF0byJdLAogICAgaW5mb0l0ZW1MZXZlbHM6IFsiMCAtIEluaWNpYWwiLCAiMSAtIEbDoWNpbCIsICIyIC0gTcOpZGlvIiwgIjMgLSBEaWbDrWNpbCJdLAogICAgaW5mb0l0ZW1MZWFybmluZ1N0eWxlczogWyJWaXN1YWwiLCAiVGV4dHVhbCJdLAogICAgaW5mb1Jlc3VtZTogIiIsCiAgICB2aWRlb09iamVjdDoge30sCiAgfSksCiAgd2F0Y2g6IHsKICAgIHZpZGVvT2JqZWN0OiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMudmlkZW9PYmplY3QpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIik7CiAgICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNvdXJjZSIpOwogICAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoInNyYyIsIFVSTC5jcmVhdGVPYmplY3RVUkwodm0udmlkZW9PYmplY3QpKTsKICAgICAgICB2aWRlby5hcHBlbmRDaGlsZChzb3VyY2UpOwogICAgICAgIHZpZGVvLm9uY2FucGxheSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgdm0ucmVzb2x1dGlvbiA9IHZpZGVvLnZpZGVvV2lkdGggKyAiWCIgKyB2aWRlby52aWRlb0hlaWdodDsKICAgICAgICAgIHZtLnRpbWUgPSB2aWRlby5kdXJhdGlvbjsKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgZGlhbG9nOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5nZXRNb2JpbGVNZWRpYSgpOwogICAgfSwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5nZXRNb2JpbGVNZWRpYSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TW9iaWxlTWVkaWEoKSB7CiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhKSB7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpIHsKICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5kaWZmaWN1bHR5TGV2ZWwgIT09IG51bGwpIHsKICAgICAgICAgICAgdm0uaW5mb0xldmVsID0gdm0uaW5mb0l0ZW1MZXZlbHNbdm0ubW9iaWxlbWVkaWEuZGlmZmljdWx0eUxldmVsXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5sZWFybmluZ1N0eWxlICE9PSBudWxsKSB7CiAgICAgICAgICAgIHZtLmluZm9MZWFybmluZyA9CiAgICAgICAgICAgICAgdm0uaW5mb0l0ZW1MZWFybmluZ1N0eWxlc1t2bS5tb2JpbGVtZWRpYS5sZWFybmluZ1N0eWxlXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5ma19pbmZvcm1hdGlvbml0ZW0pIHsKICAgICAgICAgICAgQXBpKCkKICAgICAgICAgICAgICAucGF0Y2godm0ubW9iaWxlbWVkaWEuZmtfaW5mb3JtYXRpb25pdGVtLCB7fSkKICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb3N0YSkgewogICAgICAgICAgICAgICAgdm0uaW5mb0NsYXNzZSA9CiAgICAgICAgICAgICAgICAgIHZtLmluZm9JdGVtQ2xhc3Nlc1sKICAgICAgICAgICAgICAgICAgICByZXNwb3N0YS5kYXRhLmZrX2luZm9ybWF0aW9uaXRlbXR5cGUuc3BsaXQoIi8iKVs0XSAtIDEKICAgICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2bS5nZXRTcmNWaWRlbygpOwogICAgICAgIHZtLnZpZXdWaWRlbyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aWV3VmlkZW9TcmMgPSAiIjsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHBvc3RNb2JpbGVNZWRpYSgpIHsKICAgICAgdmFyIGF1eGluZm9ybWF0aW9uaXRlbSA9IHsKICAgICAgICBhdXhpbmZvOiBgL2luZm9ybWF0aW9uaXRlbXR5cGUvYCArICh0aGlzLmluZm9DbGFzc2UgKyAxKSArICIvIiwKICAgICAgfTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHBhdGggPSAiIjsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICBwYXRoID0gdGhpcy5tb2JpbGVtZWRpYS5wYXRoOwogICAgICB9IGVsc2UgewogICAgICAgIHBhdGggPQogICAgICAgICAgdGhpcy5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSArCiAgICAgICAgICAiLyIgKwogICAgICAgICAgRGF0ZS5ub3coKS50b1N0cmluZygpOwogICAgICB9CgogICAgICBhd2FpdCBmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKCkKICAgICAgICAuY2hpbGQocGF0aCkKICAgICAgICAucHV0KHRoaXMudmlkZW9PYmplY3QpOwoKICAgICAgdmFyIG1vYmlsZW1lZGlhID0gewogICAgICAgIGZrX2lkbWVkaWF0eXBlOiAiL21lZGlhdHlwZS8yLyIsCiAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICBuYW1lZmlsZTogcGF0aC5zcGxpdCgiLyIpWzFdLAogICAgICAgIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbiwKICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgdGltZTogdGhpcy50aW1lLAogICAgICAgIHRleHRmdWxsOiAiIiwKICAgICAgICB0ZXh0c2hvcnQ6ICIiLAogICAgICAgIHVybGxpbms6ICIiLAogICAgICB9OwoKICAgICAgaWYgKHRoaXMuaW5mb0NsYXNzZSA9PSAtMSkgewogICAgICAgIHRoaXMuaW5mb0NsYXNzZSA9IDE7CiAgICAgICAgYXV4aW5mb3JtYXRpb25pdGVtLmF1eGluZm8gPQogICAgICAgICAgYC9pbmZvcm1hdGlvbml0ZW10eXBlL2AgKyB0aGlzLmluZm9DbGFzc2UgKyAiLyI7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmluZm9MZXZlbCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgZGlmZmljdWx0eUxldmVsOiB0aGlzLmluZm9MZXZlbCwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5mb0xlYXJuaW5nID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBsZWFybmluZ1N0eWxlOiB0aGlzLmluZm9MZWFybmluZywKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImNvbmNlaXRvIikgewogICAgICAgIHZhciBpdGVtaW5mbyA9IHsKICAgICAgICAgIG5hbWVpbmZvcm1hdGlvbml0ZW06ICJ2aWRlb18iICsgdm0udmlkZW9PYmplY3QubmFtZSwKICAgICAgICAgIGZrX2luZm9ybWF0aW9uaXRlbXR5cGU6IGF1eGluZm9ybWF0aW9uaXRlbS5hdXhpbmZvLAogICAgICAgICAgZmtfaWRjb25jZXB0OiB0aGlzLm9wdGlvbkNhbGwudXJsLAogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAiZG9taW5pbyIpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBma19pZGtub3dsZWRnZWRvbWFpbjogdGhpcy5vcHRpb25DYWxsLnVybCwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgZmtfbW9kdWxlOiB0aGlzLm9wdGlvbkNhbGwudXJsLAogICAgICAgIH0pOwogICAgICB9CgogICAgICAvKiBDw5NESUdPIFBBUkEgRURJw4fDg08gRE8gTU9CSUxFTUVESUEgKi8KICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICB2bSA9IHRoaXM7CgogICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJjb25jZWl0byIpIHsKICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgIC5wdXQodm0ubW9iaWxlbWVkaWEuZmtfaW5mb3JtYXRpb25pdGVtLCBpdGVtaW5mbykKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgICAgICAucHV0KHZtLm1vYmlsZW1lZGlhLnVybCwgbW9iaWxlbWVkaWEpCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbigvKnJlc3Bvc3RhKi8pIHt9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIiB8fCB0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7CiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucHV0KHRoaXMubW9iaWxlbWVkaWEudXJsLCBtb2JpbGVtZWRpYSkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7fSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgKi8KICAgICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7CiAgICAgICAgICAvKiBDw5NESUdPIFBBUkEgQ1JJQcOHw4NPIERPIE1PQklMRU1FRElBIENPTSBJVEVNSU5GTyovCiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucG9zdChgL2luZm9ybWF0aW9uaXRlbS9gLCBpdGVtaW5mbykKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgICAgICAucG9zdChgL21vYmlsZW1lZGlhL2AsIG1vYmlsZW1lZGlhKQogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7CiAgICAgICAgICAgICAgICAgIC8qdm0ubW9kdWxvVGl0bGUgPSByZXNwb3N0YS5kYXRhLm5hbWVtb2R1bGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zdWJUaXRsZSA9IHJlc3Bvc3RhLmRhdGEuc3VidGl0bGU7Ki8KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gImRvbWluaW8iIHx8IHRoaXMudHlwZSA9PT0gIm1vZHVsbyIpIHsKICAgICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgU0VNIElURU0gSU5GTyovCiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucG9zdChgL21vYmlsZW1lZGlhL2AsIG1vYmlsZW1lZGlhKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbigvKnJlc3Bvc3RhKi8pIHsKICAgICAgICAgICAgICAvKnZtLm1vZHVsb1RpdGxlID0gcmVzcG9zdGEuZGF0YS5uYW1lbW9kdWxlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zdWJUaXRsZSA9IHJlc3Bvc3RhLmRhdGEuc3VidGl0bGU7Ki8KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgdmFsaWRhdGUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHRoaXMuaW5mb0NsYXNzZSA9IHRoaXMuaW5mb0l0ZW1DbGFzc2VzLmZpbmRJbmRleChmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0NsYXNzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaW5mb0xldmVsID0gdGhpcy5pbmZvSXRlbUxldmVscy5maW5kSW5kZXgoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IHZtLmluZm9MZXZlbDsKICAgICAgfSk7CiAgICAgIHRoaXMuaW5mb0xlYXJuaW5nID0gdGhpcy5pbmZvSXRlbUxlYXJuaW5nU3R5bGVzLmZpbmRJbmRleChmdW5jdGlvbigKICAgICAgICB2YWx1ZQogICAgICApIHsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IHZtLmluZm9MZWFybmluZzsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy52aWRlb09iamVjdCkgewogICAgICAgIGF3YWl0IHRoaXMucG9zdE1vYmlsZU1lZGlhKCk7CiAgICAgICAgYXdhaXQgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgICAgICBhd2FpdCB0aGlzLnJlc2V0VmFyaWFibGVzKCk7CiAgICAgICAgdGhpcy52aWV3VmlkZW8gPSBmYWxzZTsKICAgICAgICB0aGlzLnZpZGVvT2JqZWN0ID0gbnVsbDsKICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpYWxvZ19hbGVydCA9IHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgcmVzZXQoKSB7CiAgICAgIGF3YWl0IHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICAgIGF3YWl0IHRoaXMucmVzZXRWYXJpYWJsZXMoKTsKICAgICAgdGhpcy52aWV3VmlkZW8gPSBmYWxzZTsKICAgICAgdGhpcy52aWRlb09iamVjdCA9IG51bGw7CiAgICAgIGF3YWl0IHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOwogICAgfSwKICAgIHJlc2V0VmFyaWFibGVzKCkgewogICAgICB0aGlzLmluZm9MZXZlbCA9ICIiOwogICAgICB0aGlzLmluZm9MZWFybmluZyA9ICIiOwogICAgICB0aGlzLmluZm9DbGFzc2UgPSAiIjsKICAgIH0sCiAgICBnZXRTcmNWaWRlbygpIHsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEucGF0aCkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgZmlyZWJhc2UKICAgICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAgIC5yZWYodGhpcy5tb2JpbGVtZWRpYS5wYXRoKQogICAgICAgICAgLmdldERvd25sb2FkVVJMKCkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgICB2bS52aWV3VmlkZW9TcmMgPSB1cmw7CiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICJibG9iIjsKICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHZhciBibG9iID0geGhyLnJlc3BvbnNlOwogICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIHZtLm1vYmlsZW1lZGlhLm5hbWVmaWxlLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGUsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdm0udmlkZW9PYmplY3QgPSBmaWxlOwogICAgICAgICAgICB9OwogICAgICAgICAgICB4aHIub3BlbigiR0VUIiwgdXJsKTsKICAgICAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2V0SWNvbkNvbG9yKCkgewogICAgICBpZiAodGhpcy5tb2JpbGVtZWRpYS5wYXRoKSB7CiAgICAgICAgaWYgKHRoaXMuaWNvblZpZXdWaWRlb0NvbG9yID09PSAiZ3JleSIpIHsKICAgICAgICAgIHRoaXMuaWNvblZpZXdWaWRlb0NvbG9yID0gImJsdWUiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmljb25WaWV3VmlkZW9Db2xvciA9ICJncmV5IjsKICAgICAgICB9CiAgICAgICAgdGhpcy52aWV3VmlkZW8gPSAhdGhpcy52aWV3VmlkZW87CiAgICAgICAgLypmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKHRoaXMubW9iaWxlbWVkaWEucGF0aCkKICAgICAgICAuZ2V0RG93bmxvYWRVUkwoKQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgd2luZG93Lm9wZW4odXJsLCAiX2JsYW5rIik7CiAgICAgICAgfSk7Ki8KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["VideoDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VideoDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\r\n  <v-container class=\"pa-0\">\r\n    <v-card>\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-card-title style=\"background-color:#63B0B0; color:white;\">\r\n          <span class=\"headline\">\r\n            <p>Importe seu vídeo.</p>\r\n          </span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-row>\r\n            <v-col cols=\"4\" v-if=\"type === 'conceito'\">\r\n              <label for=\"infoItemClassesSelect\"\r\n                >Classifique o item de informação</label\r\n              >\r\n              <v-select\r\n                id=\"infoItemClassesSelect\"\r\n                v-model=\"infoClasse\"\r\n                :items=\"infoItemClasses\"\r\n                label=\"Classe\"\r\n                style=\"margin:0px;\"\r\n              ></v-select>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <label for=\"infoItemLevelsSelect\"\r\n                >Qual o nível de dificuldade deste conteúdo?</label\r\n              >\r\n              <v-select\r\n                id=\"infoItemLevelsSelect\"\r\n                v-model=\"infoLevel\"\r\n                :items=\"infoItemLevels\"\r\n                label=\"Nível\"\r\n                style=\"margin:0px;\"\r\n              ></v-select>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <label for=\"infoItemLearningStylesSelect\"\r\n                >Qual o estilo de aprendizado deste conteúdo?</label\r\n              >\r\n              <v-select\r\n                id=\"infoItemLearningStylesSelect\"\r\n                v-model=\"infoLearning\"\r\n                :items=\"infoItemLearningStyles\"\r\n                label=\"Nível\"\r\n                style=\"margin:0px;\"\r\n              ></v-select>\r\n            </v-col>\r\n          </v-row>\r\n          <v-spacer></v-spacer>\r\n          <v-file-input\r\n            label=\"UPLOAD VIDEO\"\r\n            filled\r\n            v-model=\"videoObject\"\r\n            accept=\"video/*\"\r\n            prepend-icon=\"mdi-video\"\r\n          ></v-file-input>\r\n          <label v-if=\"mobilemedia\" class=\"mr-2\" for=\"viewVideoIconId\"\r\n            >Visualizar Video</label\r\n          >\r\n          <v-icon\r\n            id=\"viewVideoIconId\"\r\n            :color=\"iconViewVideoColor\"\r\n            icon\r\n            @click=\"setIconColor()\"\r\n            v-if=\"mobilemedia\"\r\n            >mdi-eye</v-icon\r\n          >\r\n          <v-spacer></v-spacer>\r\n          <v-row>\r\n            <v-spacer></v-spacer>\r\n            <Media\r\n              :kind=\"'video'\"\r\n              :controls=\"true\"\r\n              :src=\"[viewVideoSrc]\"\r\n              v-if=\"viewVideo\"\r\n            ></Media>\r\n            <v-spacer></v-spacer>\r\n          </v-row>\r\n          <v-spacer></v-spacer>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\r\n            Cancelar\r\n            <v-icon dark right>mdi-close</v-icon>\r\n          </v-btn>\r\n          <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\r\n            Salvar\r\n            <v-icon dark right>mdi-content-save</v-icon>\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-form>\r\n    </v-card>\r\n    <div class=\"text-center\">\r\n      <v-dialog v-model=\"dialog_alert\" width=\"500\">\r\n        <v-card>\r\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\"\r\n            >ALERTA!</v-card-title\r\n          >\r\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\"\r\n            >É necessário importar algum vídeo.</v-card-text\r\n          >\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn color=\"primary\" text @click=\"dialog_alert = false\">Ok</v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import * as firebase from \"firebase/app\";\r\n  import Api from \"@/services/Api\";\r\n\r\n  import Media from \"@dongido/vue-viaudio\";\r\n\r\n  export default {\r\n    components: {\r\n      Media,\r\n    },\r\n    name: \"VideoDialog\",\r\n    props: [\"optionCall\", \"type\", \"domain\", \"dialog\", \"mobilemedia\"],\r\n    data: () => ({\r\n      valid: true,\r\n      dialog_alert: false,\r\n      viewVideo: false,\r\n      viewVideoSrc: \"\",\r\n      iconViewVideoColor: \"blue\",\r\n      resolution: \"\",\r\n      time: \"\",\r\n      infoLevel: \"\",\r\n      infoLearning: \"\",\r\n      infoClasse: \"\",\r\n      infoItemClasses: [\"Conceito\", \"Princípio\", \"Fato\"],\r\n      infoItemLevels: [\"0 - Inicial\", \"1 - Fácil\", \"2 - Médio\", \"3 - Difícil\"],\r\n      infoItemLearningStyles: [\"Visual\", \"Textual\"],\r\n      infoResume: \"\",\r\n      videoObject: {},\r\n    }),\r\n    watch: {\r\n      videoObject: function() {\r\n        if (this.videoObject) {\r\n          var vm = this;\r\n          var video = document.createElement(\"video\");\r\n          var source = document.createElement(\"source\");\r\n          source.setAttribute(\"src\", URL.createObjectURL(vm.videoObject));\r\n          video.appendChild(source);\r\n          video.oncanplay = function() {\r\n            vm.resolution = video.videoWidth + \"X\" + video.videoHeight;\r\n            vm.time = video.duration;\r\n          };\r\n        }\r\n      },\r\n      dialog: function() {\r\n        this.getMobileMedia();\r\n      },\r\n    },\r\n    mounted: function() {\r\n      this.getMobileMedia();\r\n    },\r\n    methods: {\r\n      getMobileMedia() {\r\n        if (this.mobilemedia) {\r\n          var vm = this;\r\n          this.$nextTick(function() {\r\n            if (vm.mobilemedia.difficultyLevel !== null) {\r\n              vm.infoLevel = vm.infoItemLevels[vm.mobilemedia.difficultyLevel];\r\n            }\r\n            if (vm.mobilemedia.learningStyle !== null) {\r\n              vm.infoLearning =\r\n                vm.infoItemLearningStyles[vm.mobilemedia.learningStyle];\r\n            }\r\n            if (vm.mobilemedia.fk_informationitem) {\r\n              Api()\r\n                .patch(vm.mobilemedia.fk_informationitem, {})\r\n                .then(function(resposta) {\r\n                  vm.infoClasse =\r\n                    vm.infoItemClasses[\r\n                      resposta.data.fk_informationitemtype.split(\"/\")[4] - 1\r\n                    ];\r\n                });\r\n            }\r\n          });\r\n          vm.getSrcVideo();\r\n          vm.viewVideo = true;\r\n        } else {\r\n          this.viewVideoSrc = \"\";\r\n        }\r\n      },\r\n      async postMobileMedia() {\r\n        var auxinformationitem = {\r\n          auxinfo: `/informationitemtype/` + (this.infoClasse + 1) + \"/\",\r\n        };\r\n        var vm = this;\r\n        var path = \"\";\r\n        if (this.mobilemedia) {\r\n          path = this.mobilemedia.path;\r\n        } else {\r\n          path =\r\n            this.domain.idknowledgedomain.toString() +\r\n            \"/\" +\r\n            Date.now().toString();\r\n        }\r\n\r\n        await firebase\r\n          .storage()\r\n          .ref()\r\n          .child(path)\r\n          .put(this.videoObject);\r\n\r\n        var mobilemedia = {\r\n          fk_idmediatype: \"/mediatype/2/\",\r\n          path: path,\r\n          namefile: path.split(\"/\")[1],\r\n          resolution: this.resolution,\r\n          description: \"\",\r\n          time: this.time,\r\n          textfull: \"\",\r\n          textshort: \"\",\r\n          urllink: \"\",\r\n        };\r\n\r\n        if (this.infoClasse == -1) {\r\n          this.infoClasse = 1;\r\n          auxinformationitem.auxinfo =\r\n            `/informationitemtype/` + this.infoClasse + \"/\";\r\n        }\r\n\r\n        if (this.infoLevel > -1) {\r\n          Object.assign(mobilemedia, {\r\n            difficultyLevel: this.infoLevel,\r\n          });\r\n        }\r\n\r\n        if (this.infoLearning > -1) {\r\n          Object.assign(mobilemedia, {\r\n            learningStyle: this.infoLearning,\r\n          });\r\n        }\r\n\r\n        if (this.type === \"conceito\") {\r\n          var iteminfo = {\r\n            nameinformationitem: \"video_\" + vm.videoObject.name,\r\n            fk_informationitemtype: auxinformationitem.auxinfo,\r\n            fk_idconcept: this.optionCall.url,\r\n          };\r\n        } else if (this.type === \"dominio\") {\r\n          Object.assign(mobilemedia, {\r\n            fk_idknowledgedomain: this.optionCall.url,\r\n          });\r\n        } else if (this.type === \"modulo\") {\r\n          Object.assign(mobilemedia, {\r\n            fk_module: this.optionCall.url,\r\n          });\r\n        }\r\n\r\n        /* CÓDIGO PARA EDIÇÃO DO MOBILEMEDIA */\r\n        if (this.mobilemedia) {\r\n          vm = this;\r\n\r\n          if (this.type === \"conceito\") {\r\n            await Api()\r\n              .put(vm.mobilemedia.fk_informationitem, iteminfo)\r\n              .then(async function(resposta) {\r\n                Object.assign(mobilemedia, {\r\n                  fk_informationitem: resposta.data.url,\r\n                });\r\n                await Api()\r\n                  .put(vm.mobilemedia.url, mobilemedia)\r\n                  .then(async function(/*resposta*/) {});\r\n              });\r\n          } else if (this.type === \"dominio\" || this.type === \"modulo\") {\r\n            await Api()\r\n              .put(this.mobilemedia.url, mobilemedia)\r\n              .then(async function(/*resposta*/) {});\r\n          }\r\n        } else {\r\n          /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA */\r\n          if (this.type === \"conceito\") {\r\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA COM ITEMINFO*/\r\n            await Api()\r\n              .post(`/informationitem/`, iteminfo)\r\n              .then(async function(resposta) {\r\n                Object.assign(mobilemedia, {\r\n                  fk_informationitem: resposta.data.url,\r\n                });\r\n                await Api()\r\n                  .post(`/mobilemedia/`, mobilemedia)\r\n                  .then(function(/*resposta*/) {\r\n                    /*vm.moduloTitle = resposta.data.namemodule;\r\n                                    vm.subTitle = resposta.data.subtitle;*/\r\n                  });\r\n              });\r\n          } else if (this.type === \"dominio\" || this.type === \"modulo\") {\r\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA SEM ITEM INFO*/\r\n            await Api()\r\n              .post(`/mobilemedia/`, mobilemedia)\r\n              .then(function(/*resposta*/) {\r\n                /*vm.moduloTitle = resposta.data.namemodule;\r\n                                vm.subTitle = resposta.data.subtitle;*/\r\n              });\r\n          }\r\n        }\r\n      },\r\n      async validate() {\r\n        var vm = this;\r\n        this.infoClasse = this.infoItemClasses.findIndex(function(value) {\r\n          return value === vm.infoClasse;\r\n        });\r\n        this.infoLevel = this.infoItemLevels.findIndex(function(value) {\r\n          return value === vm.infoLevel;\r\n        });\r\n        this.infoLearning = this.infoItemLearningStyles.findIndex(function(\r\n          value\r\n        ) {\r\n          return value === vm.infoLearning;\r\n        });\r\n\r\n        if (this.videoObject) {\r\n          await this.postMobileMedia();\r\n          await this.$emit(\"close\");\r\n          await this.resetVariables();\r\n          this.viewVideo = false;\r\n          this.videoObject = null;\r\n          await this.$refs.form.reset();\r\n        } else {\r\n          this.dialog_alert = true;\r\n        }\r\n      },\r\n\r\n      async reset() {\r\n        await this.$emit(\"close\");\r\n        await this.resetVariables();\r\n        this.viewVideo = false;\r\n        this.videoObject = null;\r\n        await this.$refs.form.reset();\r\n      },\r\n      resetVariables() {\r\n        this.infoLevel = \"\";\r\n        this.infoLearning = \"\";\r\n        this.infoClasse = \"\";\r\n      },\r\n      getSrcVideo() {\r\n        if (this.mobilemedia.path) {\r\n          var vm = this;\r\n          firebase\r\n            .storage()\r\n            .ref(this.mobilemedia.path)\r\n            .getDownloadURL()\r\n            .then(function(url) {\r\n              vm.viewVideoSrc = url;\r\n              var xhr = new XMLHttpRequest();\r\n              xhr.responseType = \"blob\";\r\n              xhr.onload = function() {\r\n                var blob = xhr.response;\r\n                const file = new File([blob], vm.mobilemedia.namefile, {\r\n                  type: blob.type,\r\n                });\r\n                vm.videoObject = file;\r\n              };\r\n              xhr.open(\"GET\", url);\r\n              xhr.send();\r\n            });\r\n        }\r\n      },\r\n      setIconColor() {\r\n        if (this.mobilemedia.path) {\r\n          if (this.iconViewVideoColor === \"grey\") {\r\n            this.iconViewVideoColor = \"blue\";\r\n          } else {\r\n            this.iconViewVideoColor = \"grey\";\r\n          }\r\n          this.viewVideo = !this.viewVideo;\r\n          /*firebase\r\n          .storage()\r\n          .ref(this.mobilemedia.path)\r\n          .getDownloadURL()\r\n          .then(function(url) {\r\n            window.open(url, \"_blank\");\r\n          });*/\r\n        }\r\n      },\r\n    },\r\n  };\r\n</script>\r\n"]}]}