{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\instructional_model\\VideoDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\instructional_model\\VideoDialog.vue","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597353521000},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1597353521000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gImZpcmViYXNlL2FwcCI7CmltcG9ydCBBcGkgZnJvbSAiQC9zZXJ2aWNlcy9BcGkiOwoKaW1wb3J0IE1lZGlhIGZyb20gIkBkb25naWRvL3Z1ZS12aWF1ZGlvIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNZWRpYSwKICB9LAogIG5hbWU6ICJWaWRlb0RpYWxvZyIsCiAgcHJvcHM6IFsib3B0aW9uQ2FsbCIsICJ0eXBlIiwgImRvbWFpbiIsICJkaWFsb2ciLCAibW9iaWxlbWVkaWEiXSwKICBkYXRhOiAoKSA9PiAoewogICAgdmFsaWQ6IHRydWUsCiAgICBkaWFsb2dfYWxlcnQ6IGZhbHNlLAogICAgdmlld1ZpZGVvOiBmYWxzZSwKICAgIHZpZXdWaWRlb1NyYzogIiIsCiAgICBpY29uVmlld1ZpZGVvQ29sb3I6ICJibHVlIiwKICAgIHJlc29sdXRpb246ICIiLAogICAgdGltZTogIiIsCiAgICBpbmZvTGV2ZWw6ICIiLAogICAgaW5mb0xlYXJuaW5nOiAiIiwKICAgIGluZm9DbGFzc2U6ICIiLAogICAgaW5mb0l0ZW1DbGFzc2VzOiBbIkNvbmNlaXRvIiwgIlByaW5jw61waW8iLCAiRmF0byJdLAogICAgaW5mb0l0ZW1MZXZlbHM6IFsiMCAtIEluaWNpYWwiLCAiMSAtIEbDoWNpbCIsICIyIC0gTcOpZGlvIiwgIjMgLSBEaWbDrWNpbCJdLAogICAgaW5mb0l0ZW1MZWFybmluZ1N0eWxlczogWyJWaXN1YWwiLCAiVGV4dHVhbCJdLAogICAgaW5mb1Jlc3VtZTogIiIsCiAgICB2aWRlb09iamVjdDoge30sCiAgfSksCiAgd2F0Y2g6IHsKICAgIHZpZGVvT2JqZWN0OiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMudmlkZW9PYmplY3QpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIik7CiAgICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNvdXJjZSIpOwogICAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoInNyYyIsIFVSTC5jcmVhdGVPYmplY3RVUkwodm0udmlkZW9PYmplY3QpKTsKICAgICAgICB2aWRlby5hcHBlbmRDaGlsZChzb3VyY2UpOwogICAgICAgIHZpZGVvLm9uY2FucGxheSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgdm0ucmVzb2x1dGlvbiA9IHZpZGVvLnZpZGVvV2lkdGggKyAiWCIgKyB2aWRlby52aWRlb0hlaWdodDsKICAgICAgICAgIHZtLnRpbWUgPSB2aWRlby5kdXJhdGlvbjsKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgZGlhbG9nOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5nZXRNb2JpbGVNZWRpYSgpOwogICAgfSwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5nZXRNb2JpbGVNZWRpYSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TW9iaWxlTWVkaWEoKSB7CiAgICAgIGlmICh0aGlzLm1vYmlsZW1lZGlhKSB7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpIHsKICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5kaWZmaWN1bHR5TGV2ZWwgIT09IG51bGwpIHsKICAgICAgICAgICAgdm0uaW5mb0xldmVsID0gdm0uaW5mb0l0ZW1MZXZlbHNbdm0ubW9iaWxlbWVkaWEuZGlmZmljdWx0eUxldmVsXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5sZWFybmluZ1N0eWxlICE9PSBudWxsKSB7CiAgICAgICAgICAgIHZtLmluZm9MZWFybmluZyA9CiAgICAgICAgICAgICAgdm0uaW5mb0l0ZW1MZWFybmluZ1N0eWxlc1t2bS5tb2JpbGVtZWRpYS5sZWFybmluZ1N0eWxlXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2bS5tb2JpbGVtZWRpYS5ma19pbmZvcm1hdGlvbml0ZW0pIHsKICAgICAgICAgICAgQXBpKCkKICAgICAgICAgICAgICAucGF0Y2godm0ubW9iaWxlbWVkaWEuZmtfaW5mb3JtYXRpb25pdGVtLCB7fSkKICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb3N0YSkgewogICAgICAgICAgICAgICAgdm0uaW5mb0NsYXNzZSA9CiAgICAgICAgICAgICAgICAgIHZtLmluZm9JdGVtQ2xhc3Nlc1sKICAgICAgICAgICAgICAgICAgICByZXNwb3N0YS5kYXRhLmZrX2luZm9ybWF0aW9uaXRlbXR5cGUuc3BsaXQoIi8iKVs0XSAtIDEKICAgICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2bS5nZXRTcmNWaWRlbygpOwogICAgICAgIHZtLnZpZXdWaWRlbyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aWV3VmlkZW9TcmMgPSAiIjsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHBvc3RNb2JpbGVNZWRpYSgpIHsKICAgICAgdmFyIGF1eGluZm9ybWF0aW9uaXRlbSA9IHsKICAgICAgICBhdXhpbmZvOiBgL2luZm9ybWF0aW9uaXRlbXR5cGUvYCArICh0aGlzLmluZm9DbGFzc2UgKyAxKSArICIvIiwKICAgICAgfTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHBhdGggPSAiIjsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICBwYXRoID0gdGhpcy5tb2JpbGVtZWRpYS5wYXRoOwogICAgICB9IGVsc2UgewogICAgICAgIHBhdGggPQogICAgICAgICAgdGhpcy5kb21haW4uaWRrbm93bGVkZ2Vkb21haW4udG9TdHJpbmcoKSArCiAgICAgICAgICAiLyIgKwogICAgICAgICAgRGF0ZS5ub3coKS50b1N0cmluZygpOwogICAgICB9CgogICAgICBhd2FpdCBmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKCkKICAgICAgICAuY2hpbGQocGF0aCkKICAgICAgICAucHV0KHRoaXMudmlkZW9PYmplY3QpOwoKICAgICAgdmFyIG1vYmlsZW1lZGlhID0gewogICAgICAgIGZrX2lkbWVkaWF0eXBlOiAiL21lZGlhdHlwZS8yLyIsCiAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICBuYW1lZmlsZTogcGF0aC5zcGxpdCgiLyIpWzFdLAogICAgICAgIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbiwKICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgdGltZTogdGhpcy50aW1lLAogICAgICAgIHRleHRmdWxsOiAiIiwKICAgICAgICB0ZXh0c2hvcnQ6ICIiLAogICAgICAgIHVybGxpbms6ICIiLAogICAgICB9OwoKICAgICAgaWYgKHRoaXMuaW5mb0NsYXNzZSA9PSAtMSkgewogICAgICAgIHRoaXMuaW5mb0NsYXNzZSA9IDE7CiAgICAgICAgYXV4aW5mb3JtYXRpb25pdGVtLmF1eGluZm8gPQogICAgICAgICAgYC9pbmZvcm1hdGlvbml0ZW10eXBlL2AgKyB0aGlzLmluZm9DbGFzc2UgKyAiLyI7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmluZm9MZXZlbCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgZGlmZmljdWx0eUxldmVsOiB0aGlzLmluZm9MZXZlbCwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5mb0xlYXJuaW5nID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBsZWFybmluZ1N0eWxlOiB0aGlzLmluZm9MZWFybmluZywKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImNvbmNlaXRvIikgewogICAgICAgIHZhciBpdGVtaW5mbyA9IHsKICAgICAgICAgIG5hbWVpbmZvcm1hdGlvbml0ZW06ICJ2aWRlb18iICsgdm0udmlkZW9PYmplY3QubmFtZSwKICAgICAgICAgIGZrX2luZm9ybWF0aW9uaXRlbXR5cGU6IGF1eGluZm9ybWF0aW9uaXRlbS5hdXhpbmZvLAogICAgICAgICAgZmtfaWRjb25jZXB0OiB0aGlzLm9wdGlvbkNhbGwudXJsLAogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAiZG9taW5pbyIpIHsKICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICBma19pZGtub3dsZWRnZWRvbWFpbjogdGhpcy5vcHRpb25DYWxsLnVybCwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2JpbGVtZWRpYSwgewogICAgICAgICAgZmtfbW9kdWxlOiB0aGlzLm9wdGlvbkNhbGwudXJsLAogICAgICAgIH0pOwogICAgICB9CgogICAgICAvKiBDw5NESUdPIFBBUkEgRURJw4fDg08gRE8gTU9CSUxFTUVESUEgKi8KICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEpIHsKICAgICAgICB2bSA9IHRoaXM7CgogICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJjb25jZWl0byIpIHsKICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgIC5wdXQodm0ubW9iaWxlbWVkaWEuZmtfaW5mb3JtYXRpb25pdGVtLCBpdGVtaW5mbykKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgICAgICAucHV0KHZtLm1vYmlsZW1lZGlhLnVybCwgbW9iaWxlbWVkaWEpCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbigvKnJlc3Bvc3RhKi8pIHt9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICJkb21pbmlvIiB8fCB0aGlzLnR5cGUgPT09ICJtb2R1bG8iKSB7CiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucHV0KHRoaXMubW9iaWxlbWVkaWEudXJsLCBtb2JpbGVtZWRpYSkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7fSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgKi8KICAgICAgICBpZiAodGhpcy50eXBlID09PSAiY29uY2VpdG8iKSB7CiAgICAgICAgICAvKiBDw5NESUdPIFBBUkEgQ1JJQcOHw4NPIERPIE1PQklMRU1FRElBIENPTSBJVEVNSU5GTyovCiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucG9zdChgL2luZm9ybWF0aW9uaXRlbS9gLCBpdGVtaW5mbykKICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vYmlsZW1lZGlhLCB7CiAgICAgICAgICAgICAgICBma19pbmZvcm1hdGlvbml0ZW06IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGF3YWl0IEFwaSgpCiAgICAgICAgICAgICAgICAucG9zdChgL21vYmlsZW1lZGlhL2AsIG1vYmlsZW1lZGlhKQogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oLypyZXNwb3N0YSovKSB7CiAgICAgICAgICAgICAgICAgIC8qdm0ubW9kdWxvVGl0bGUgPSByZXNwb3N0YS5kYXRhLm5hbWVtb2R1bGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zdWJUaXRsZSA9IHJlc3Bvc3RhLmRhdGEuc3VidGl0bGU7Ki8KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gImRvbWluaW8iIHx8IHRoaXMudHlwZSA9PT0gIm1vZHVsbyIpIHsKICAgICAgICAgIC8qIEPDk0RJR08gUEFSQSBDUklBw4fDg08gRE8gTU9CSUxFTUVESUEgU0VNIElURU0gSU5GTyovCiAgICAgICAgICBhd2FpdCBBcGkoKQogICAgICAgICAgICAucG9zdChgL21vYmlsZW1lZGlhL2AsIG1vYmlsZW1lZGlhKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbigvKnJlc3Bvc3RhKi8pIHsKICAgICAgICAgICAgICAvKnZtLm1vZHVsb1RpdGxlID0gcmVzcG9zdGEuZGF0YS5uYW1lbW9kdWxlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zdWJUaXRsZSA9IHJlc3Bvc3RhLmRhdGEuc3VidGl0bGU7Ki8KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgdmFsaWRhdGUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHRoaXMuaW5mb0NsYXNzZSA9IHRoaXMuaW5mb0l0ZW1DbGFzc2VzLmZpbmRJbmRleChmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdm0uaW5mb0NsYXNzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaW5mb0xldmVsID0gdGhpcy5pbmZvSXRlbUxldmVscy5maW5kSW5kZXgoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IHZtLmluZm9MZXZlbDsKICAgICAgfSk7CiAgICAgIHRoaXMuaW5mb0xlYXJuaW5nID0gdGhpcy5pbmZvSXRlbUxlYXJuaW5nU3R5bGVzLmZpbmRJbmRleChmdW5jdGlvbigKICAgICAgICB2YWx1ZQogICAgICApIHsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IHZtLmluZm9MZWFybmluZzsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy52aWRlb09iamVjdCkgewogICAgICAgIGF3YWl0IHRoaXMucG9zdE1vYmlsZU1lZGlhKCk7CiAgICAgICAgYXdhaXQgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgICAgICBhd2FpdCB0aGlzLnJlc2V0VmFyaWFibGVzKCk7CiAgICAgICAgdGhpcy52aWV3VmlkZW8gPSBmYWxzZTsKICAgICAgICB0aGlzLnZpZGVvT2JqZWN0ID0gbnVsbDsKICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpYWxvZ19hbGVydCA9IHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgcmVzZXQoKSB7CiAgICAgIGF3YWl0IHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICAgIGF3YWl0IHRoaXMucmVzZXRWYXJpYWJsZXMoKTsKICAgICAgdGhpcy52aWV3VmlkZW8gPSBmYWxzZTsKICAgICAgdGhpcy52aWRlb09iamVjdCA9IG51bGw7CiAgICAgIGF3YWl0IHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOwogICAgfSwKICAgIHJlc2V0VmFyaWFibGVzKCkgewogICAgICB0aGlzLmluZm9MZXZlbCA9ICIiOwogICAgICB0aGlzLmluZm9MZWFybmluZyA9ICIiOwogICAgICB0aGlzLmluZm9DbGFzc2UgPSAiIjsKICAgIH0sCiAgICBnZXRTcmNWaWRlbygpIHsKICAgICAgaWYgKHRoaXMubW9iaWxlbWVkaWEucGF0aCkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgZmlyZWJhc2UKICAgICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAgIC5yZWYodGhpcy5tb2JpbGVtZWRpYS5wYXRoKQogICAgICAgICAgLmdldERvd25sb2FkVVJMKCkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgICB2bS52aWV3VmlkZW9TcmMgPSB1cmw7CiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICJibG9iIjsKICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHZhciBibG9iID0geGhyLnJlc3BvbnNlOwogICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIHZtLm1vYmlsZW1lZGlhLm5hbWVmaWxlLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGUsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdm0udmlkZW9PYmplY3QgPSBmaWxlOwogICAgICAgICAgICB9OwogICAgICAgICAgICB4aHIub3BlbigiR0VUIiwgdXJsKTsKICAgICAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2V0SWNvbkNvbG9yKCkgewogICAgICBpZiAodGhpcy5tb2JpbGVtZWRpYS5wYXRoKSB7CiAgICAgICAgaWYgKHRoaXMuaWNvblZpZXdWaWRlb0NvbG9yID09PSAiZ3JleSIpIHsKICAgICAgICAgIHRoaXMuaWNvblZpZXdWaWRlb0NvbG9yID0gImJsdWUiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmljb25WaWV3VmlkZW9Db2xvciA9ICJncmV5IjsKICAgICAgICB9CiAgICAgICAgdGhpcy52aWV3VmlkZW8gPSAhdGhpcy52aWV3VmlkZW87CiAgICAgICAgLypmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKHRoaXMubW9iaWxlbWVkaWEucGF0aCkKICAgICAgICAuZ2V0RG93bmxvYWRVUkwoKQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgd2luZG93Lm9wZW4odXJsLCAiX2JsYW5rIik7CiAgICAgICAgfSk7Ki8KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["VideoDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VideoDialog.vue","sourceRoot":"src/components/instructional_model","sourcesContent":["<template>\n  <v-container class=\"pa-0\">\n    <v-card>\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-card-title style=\"background-color:#63B0B0; color:white;\">\n          <span class=\"headline\">\n            <p>Importe seu vídeo.</p>\n          </span>\n        </v-card-title>\n        <v-card-text>\n          <v-row>\n            <v-col cols=\"4\" v-if=\"type === 'conceito'\">\n              <label for=\"infoItemClassesSelect\"\n                >Classifique o item de informação</label\n              >\n              <v-select\n                id=\"infoItemClassesSelect\"\n                v-model=\"infoClasse\"\n                :items=\"infoItemClasses\"\n                label=\"Classe\"\n                style=\"margin:0px;\"\n              ></v-select>\n            </v-col>\n            <v-col cols=\"4\">\n              <label for=\"infoItemLevelsSelect\"\n                >Qual o nível de dificuldade deste conteúdo?</label\n              >\n              <v-select\n                id=\"infoItemLevelsSelect\"\n                v-model=\"infoLevel\"\n                :items=\"infoItemLevels\"\n                label=\"Nível\"\n                style=\"margin:0px;\"\n              ></v-select>\n            </v-col>\n            <v-col cols=\"4\">\n              <label for=\"infoItemLearningStylesSelect\"\n                >Qual o estilo de aprendizado deste conteúdo?</label\n              >\n              <v-select\n                id=\"infoItemLearningStylesSelect\"\n                v-model=\"infoLearning\"\n                :items=\"infoItemLearningStyles\"\n                label=\"Nível\"\n                style=\"margin:0px;\"\n              ></v-select>\n            </v-col>\n          </v-row>\n          <v-spacer></v-spacer>\n          <v-file-input\n            label=\"UPLOAD VIDEO\"\n            filled\n            v-model=\"videoObject\"\n            accept=\"video/*\"\n            prepend-icon=\"mdi-video\"\n          ></v-file-input>\n          <label v-if=\"mobilemedia\" class=\"mr-2\" for=\"viewVideoIconId\"\n            >Visualizar Video</label\n          >\n          <v-icon\n            id=\"viewVideoIconId\"\n            :color=\"iconViewVideoColor\"\n            icon\n            @click=\"setIconColor()\"\n            v-if=\"mobilemedia\"\n            >mdi-eye</v-icon\n          >\n          <v-spacer></v-spacer>\n          <v-row>\n            <v-spacer></v-spacer>\n            <Media\n              :kind=\"'video'\"\n              :controls=\"true\"\n              :src=\"[viewVideoSrc]\"\n              v-if=\"viewVideo\"\n            ></Media>\n            <v-spacer></v-spacer>\n          </v-row>\n          <v-spacer></v-spacer>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\n            Cancelar\n            <v-icon dark right>mdi-close</v-icon>\n          </v-btn>\n          <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\n            Salvar\n            <v-icon dark right>mdi-content-save</v-icon>\n          </v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n    <div class=\"text-center\">\n      <v-dialog v-model=\"dialog_alert\" width=\"500\">\n        <v-card>\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\"\n            >ALERTA!</v-card-title\n          >\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\"\n            >É necessário importar algum vídeo.</v-card-text\n          >\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" text @click=\"dialog_alert = false\">Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-container>\n</template>\n\n<script>\n  import * as firebase from \"firebase/app\";\n  import Api from \"@/services/Api\";\n\n  import Media from \"@dongido/vue-viaudio\";\n\n  export default {\n    components: {\n      Media,\n    },\n    name: \"VideoDialog\",\n    props: [\"optionCall\", \"type\", \"domain\", \"dialog\", \"mobilemedia\"],\n    data: () => ({\n      valid: true,\n      dialog_alert: false,\n      viewVideo: false,\n      viewVideoSrc: \"\",\n      iconViewVideoColor: \"blue\",\n      resolution: \"\",\n      time: \"\",\n      infoLevel: \"\",\n      infoLearning: \"\",\n      infoClasse: \"\",\n      infoItemClasses: [\"Conceito\", \"Princípio\", \"Fato\"],\n      infoItemLevels: [\"0 - Inicial\", \"1 - Fácil\", \"2 - Médio\", \"3 - Difícil\"],\n      infoItemLearningStyles: [\"Visual\", \"Textual\"],\n      infoResume: \"\",\n      videoObject: {},\n    }),\n    watch: {\n      videoObject: function() {\n        if (this.videoObject) {\n          var vm = this;\n          var video = document.createElement(\"video\");\n          var source = document.createElement(\"source\");\n          source.setAttribute(\"src\", URL.createObjectURL(vm.videoObject));\n          video.appendChild(source);\n          video.oncanplay = function() {\n            vm.resolution = video.videoWidth + \"X\" + video.videoHeight;\n            vm.time = video.duration;\n          };\n        }\n      },\n      dialog: function() {\n        this.getMobileMedia();\n      },\n    },\n    mounted: function() {\n      this.getMobileMedia();\n    },\n    methods: {\n      getMobileMedia() {\n        if (this.mobilemedia) {\n          var vm = this;\n          this.$nextTick(function() {\n            if (vm.mobilemedia.difficultyLevel !== null) {\n              vm.infoLevel = vm.infoItemLevels[vm.mobilemedia.difficultyLevel];\n            }\n            if (vm.mobilemedia.learningStyle !== null) {\n              vm.infoLearning =\n                vm.infoItemLearningStyles[vm.mobilemedia.learningStyle];\n            }\n            if (vm.mobilemedia.fk_informationitem) {\n              Api()\n                .patch(vm.mobilemedia.fk_informationitem, {})\n                .then(function(resposta) {\n                  vm.infoClasse =\n                    vm.infoItemClasses[\n                      resposta.data.fk_informationitemtype.split(\"/\")[4] - 1\n                    ];\n                });\n            }\n          });\n          vm.getSrcVideo();\n          vm.viewVideo = true;\n        } else {\n          this.viewVideoSrc = \"\";\n        }\n      },\n      async postMobileMedia() {\n        var auxinformationitem = {\n          auxinfo: `/informationitemtype/` + (this.infoClasse + 1) + \"/\",\n        };\n        var vm = this;\n        var path = \"\";\n        if (this.mobilemedia) {\n          path = this.mobilemedia.path;\n        } else {\n          path =\n            this.domain.idknowledgedomain.toString() +\n            \"/\" +\n            Date.now().toString();\n        }\n\n        await firebase\n          .storage()\n          .ref()\n          .child(path)\n          .put(this.videoObject);\n\n        var mobilemedia = {\n          fk_idmediatype: \"/mediatype/2/\",\n          path: path,\n          namefile: path.split(\"/\")[1],\n          resolution: this.resolution,\n          description: \"\",\n          time: this.time,\n          textfull: \"\",\n          textshort: \"\",\n          urllink: \"\",\n        };\n\n        if (this.infoClasse == -1) {\n          this.infoClasse = 1;\n          auxinformationitem.auxinfo =\n            `/informationitemtype/` + this.infoClasse + \"/\";\n        }\n\n        if (this.infoLevel > -1) {\n          Object.assign(mobilemedia, {\n            difficultyLevel: this.infoLevel,\n          });\n        }\n\n        if (this.infoLearning > -1) {\n          Object.assign(mobilemedia, {\n            learningStyle: this.infoLearning,\n          });\n        }\n\n        if (this.type === \"conceito\") {\n          var iteminfo = {\n            nameinformationitem: \"video_\" + vm.videoObject.name,\n            fk_informationitemtype: auxinformationitem.auxinfo,\n            fk_idconcept: this.optionCall.url,\n          };\n        } else if (this.type === \"dominio\") {\n          Object.assign(mobilemedia, {\n            fk_idknowledgedomain: this.optionCall.url,\n          });\n        } else if (this.type === \"modulo\") {\n          Object.assign(mobilemedia, {\n            fk_module: this.optionCall.url,\n          });\n        }\n\n        /* CÓDIGO PARA EDIÇÃO DO MOBILEMEDIA */\n        if (this.mobilemedia) {\n          vm = this;\n\n          if (this.type === \"conceito\") {\n            await Api()\n              .put(vm.mobilemedia.fk_informationitem, iteminfo)\n              .then(async function(resposta) {\n                Object.assign(mobilemedia, {\n                  fk_informationitem: resposta.data.url,\n                });\n                await Api()\n                  .put(vm.mobilemedia.url, mobilemedia)\n                  .then(async function(/*resposta*/) {});\n              });\n          } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n            await Api()\n              .put(this.mobilemedia.url, mobilemedia)\n              .then(async function(/*resposta*/) {});\n          }\n        } else {\n          /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA */\n          if (this.type === \"conceito\") {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA COM ITEMINFO*/\n            await Api()\n              .post(`/informationitem/`, iteminfo)\n              .then(async function(resposta) {\n                Object.assign(mobilemedia, {\n                  fk_informationitem: resposta.data.url,\n                });\n                await Api()\n                  .post(`/mobilemedia/`, mobilemedia)\n                  .then(function(/*resposta*/) {\n                    /*vm.moduloTitle = resposta.data.namemodule;\n                                    vm.subTitle = resposta.data.subtitle;*/\n                  });\n              });\n          } else if (this.type === \"dominio\" || this.type === \"modulo\") {\n            /* CÓDIGO PARA CRIAÇÃO DO MOBILEMEDIA SEM ITEM INFO*/\n            await Api()\n              .post(`/mobilemedia/`, mobilemedia)\n              .then(function(/*resposta*/) {\n                /*vm.moduloTitle = resposta.data.namemodule;\n                                vm.subTitle = resposta.data.subtitle;*/\n              });\n          }\n        }\n      },\n      async validate() {\n        var vm = this;\n        this.infoClasse = this.infoItemClasses.findIndex(function(value) {\n          return value === vm.infoClasse;\n        });\n        this.infoLevel = this.infoItemLevels.findIndex(function(value) {\n          return value === vm.infoLevel;\n        });\n        this.infoLearning = this.infoItemLearningStyles.findIndex(function(\n          value\n        ) {\n          return value === vm.infoLearning;\n        });\n\n        if (this.videoObject) {\n          await this.postMobileMedia();\n          await this.$emit(\"close\");\n          await this.resetVariables();\n          this.viewVideo = false;\n          this.videoObject = null;\n          await this.$refs.form.reset();\n        } else {\n          this.dialog_alert = true;\n        }\n      },\n\n      async reset() {\n        await this.$emit(\"close\");\n        await this.resetVariables();\n        this.viewVideo = false;\n        this.videoObject = null;\n        await this.$refs.form.reset();\n      },\n      resetVariables() {\n        this.infoLevel = \"\";\n        this.infoLearning = \"\";\n        this.infoClasse = \"\";\n      },\n      getSrcVideo() {\n        if (this.mobilemedia.path) {\n          var vm = this;\n          firebase\n            .storage()\n            .ref(this.mobilemedia.path)\n            .getDownloadURL()\n            .then(function(url) {\n              vm.viewVideoSrc = url;\n              var xhr = new XMLHttpRequest();\n              xhr.responseType = \"blob\";\n              xhr.onload = function() {\n                var blob = xhr.response;\n                const file = new File([blob], vm.mobilemedia.namefile, {\n                  type: blob.type,\n                });\n                vm.videoObject = file;\n              };\n              xhr.open(\"GET\", url);\n              xhr.send();\n            });\n        }\n      },\n      setIconColor() {\n        if (this.mobilemedia.path) {\n          if (this.iconViewVideoColor === \"grey\") {\n            this.iconViewVideoColor = \"blue\";\n          } else {\n            this.iconViewVideoColor = \"grey\";\n          }\n          this.viewVideo = !this.viewVideo;\n          /*firebase\n          .storage()\n          .ref(this.mobilemedia.path)\n          .getDownloadURL()\n          .then(function(url) {\n            window.open(url, \"_blank\");\n          });*/\n        }\n      },\n    },\n  };\n</script>\n"]}]}