{"remainingRequest":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\VisibleDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\www\\EducomML\\EducomML_Front\\src\\components\\didatic_model\\VisibleDialog.vue","mtime":1597213771690},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":1593634550126},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1593634595918},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593634551412},{"path":"C:\\www\\EducomML\\EducomML_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1593634595223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXBpIGZyb20gIkAvc2VydmljZXMvQXBpIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiVmlzaWJsZURpYWxvZyIsDQogIHByb3BzOiBbImRvbWFpbiIsICJkaWFsb2ciXSwNCiAgZGF0YTogKCkgPT4gKHsNCiAgICB2YWxpZDogdHJ1ZSwNCiAgICB0cmVlRGF0YTogW10sDQogICAgc2VsZWN0aW9uOiBbXSwNCiAgICBlbGVtZW50RGF0YTogW10sDQogICAgZGlhbG9nRXJyb3I6IGZhbHNlLA0KICAgIG1lc3NhZ2VFcnJvcjogIiIsDQogICAgbmV3SXRlbXM6IFtdLA0KICAgIGNoZWNrYm94OiB0cnVlLA0KICB9KSwNCiAgd2F0Y2g6IHsNCiAgICBkb21haW46IGFzeW5jIGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLmRvbWFpbikgew0KICAgICAgICB0aGlzLnRyZWVEYXRhID0gW107DQogICAgICAgIHRoaXMuc2VsZWN0aW9uID0gW107DQogICAgICAgIGF3YWl0IHRoaXMuc2V0RG9tYWluVmFyaWFibGVzKCk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24gKCkgew0KICAgIGlmICh0aGlzLmRvbWFpbikgew0KICAgICAgdGhpcy50cmVlRGF0YSA9IFtdOw0KICAgICAgdGhpcy5zZWxlY3Rpb24gPSBbXTsNCiAgICAgIGF3YWl0IHRoaXMuc2V0RG9tYWluVmFyaWFibGVzKCk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdGVzdCh2YWx1ZSkgew0KICAgICAgaWYgKHZhbHVlLmxlbmd0aCkgew0KICAgICAgICBpZiAodmFsdWVbMF0uc3BsaXQoIi8iKVs1XSA9PT0gInN1YiIpIHsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJ0eXBlIiwgeyB0eXBlOiAic3VibW9kdWxvIiwgdXJsOiB2YWx1ZVswXSB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJ0eXBlIiwgeyB0eXBlOiB2YWx1ZVswXS5zcGxpdCgiLyIpWzNdLCB1cmw6IHZhbHVlWzBdIH0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBzZXREb21haW5WYXJpYWJsZXMoKSB7DQogICAgICB0aGlzLnRyZWVEYXRhID0gW107DQogICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goew0KICAgICAgICB0ZXh0OiAiW0RPTUlOSU9dICIgKyB0aGlzLmRvbWFpbi5uYW1la25vd2xlZGdlZG9tYWluLA0KICAgICAgICB2YWx1ZTogdGhpcy5kb21haW4udXJsLA0KICAgICAgfSk7DQogICAgICB2YXIgaW5kZXhtb2R1bG8gPSAwOw0KICAgICAgaWYgKHRoaXMuZG9tYWluLm1vYmlsZW1lZGlhcy5sZW5ndGgpIHsNCiAgICAgICAgdGhpcy5kb21haW4ubW9iaWxlbWVkaWFzLmZvckVhY2goKG1vYmlsZW1lZGlhKSA9PiB7DQogICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgIGlkOiBtb2JpbGVtZWRpYS51cmwsDQogICAgICAgICAgICBuYW1lOiAiW01PQklMRU1FRElBXSAiICsgbW9iaWxlbWVkaWEubGFiZWwsDQogICAgICAgICAgICB2aXNpYmxlOiBtb2JpbGVtZWRpYS52aXNpYmxlLA0KICAgICAgICAgIH07DQogICAgICAgICAgdGhpcy50cmVlRGF0YS5wdXNoKG9iamVjdCk7DQogICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7DQogICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIGluZGV4bW9kdWxvKys7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZG9tYWluLmluc3RydWN0aW9uYWxlbGVtZW50cy5sZW5ndGgpIHsNCiAgICAgICAgdGhpcy5kb21haW4uaW5zdHJ1Y3Rpb25hbGVsZW1lbnRzLmZvckVhY2goKGluc3RydWN0aW9uYWxlbGVtZW50KSA9PiB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQuZmtfaW5zdHJ1Y3Rpb25hbGVsZW1lbnR0eXBlLnNwbGl0KCIvIilbNF0gIT09IDQNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIHZhciBvYmplY3QgPSB7DQogICAgICAgICAgICAgIGlkOiBpbnN0cnVjdGlvbmFsZWxlbWVudC51cmwsDQogICAgICAgICAgICAgIG5hbWU6ICJbSU5TVFJVQ1RJT05BTCBFTEVNRU5UXSAiICsgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQubGFiZWwsDQogICAgICAgICAgICAgIHZpc2libGU6IGluc3RydWN0aW9uYWxlbGVtZW50LnZpc2libGUsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgdGhpcy50cmVlRGF0YS5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaW5kZXhtb2R1bG8rKzsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kb21haW4ubW9kdWxlcykgJiYgdGhpcy5kb21haW4ubW9kdWxlcy5sZW5ndGgpIHsNCiAgICAgICAgdGhpcy5kb21haW4ubW9kdWxlcy5mb3JFYWNoKChtb2R1bG8pID0+IHsNCiAgICAgICAgICBpZiAobW9kdWxvLmZrX2lkbW9kdWxlID09PSBudWxsKSB7DQogICAgICAgICAgICB2YXIgaW5kZXhzdWJtb2R1bG8gPSAwOw0KICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgICAgaWQ6IG1vZHVsby51cmwsDQogICAgICAgICAgICAgIG5hbWU6ICJbTU9EVUxPXSAiICsgbW9kdWxvLm5hbWVtb2R1bGUsDQogICAgICAgICAgICAgIHZpc2libGU6IG1vZHVsby52aXNpYmxlLA0KICAgICAgICAgICAgICBjaGlsZHJlbjogW10sDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgdGhpcy50cmVlRGF0YS5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goew0KICAgICAgICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgdmFsdWU6IG9iamVjdC5pZCwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7DQogICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2gob2JqZWN0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChtb2R1bG8ubW9iaWxlbWVkaWFzLmxlbmd0aCkgew0KICAgICAgICAgICAgICBtb2R1bG8ubW9iaWxlbWVkaWFzLmZvckVhY2goKG1vYmlsZW1lZGlhKSA9PiB7DQogICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgICAgICAgIGlkOiBtb2JpbGVtZWRpYS51cmwsDQogICAgICAgICAgICAgICAgICBuYW1lOiAiW01PQklMRU1FRElBXSAiICsgbW9iaWxlbWVkaWEubGFiZWwsDQogICAgICAgICAgICAgICAgICB2aXNpYmxlOiBtb2JpbGVtZWRpYS52aXNpYmxlLA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW4ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgew0KICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbysrOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKG1vZHVsby5pbnN0cnVjdGlvbmFsZWxlbWVudHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgIG1vZHVsby5pbnN0cnVjdGlvbmFsZWxlbWVudHMuZm9yRWFjaCgoaW5zdHJ1Y3Rpb25hbGVsZW1lbnQpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbmFsZWxlbWVudC5ma19pbnN0cnVjdGlvbmFsZWxlbWVudHR5cGUuc3BsaXQoDQogICAgICAgICAgICAgICAgICAgICIvIg0KICAgICAgICAgICAgICAgICAgKVs0XSAhPT0gNA0KICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGluc3RydWN0aW9uYWxlbGVtZW50LnVybCwNCiAgICAgICAgICAgICAgICAgICAgbmFtZToNCiAgICAgICAgICAgICAgICAgICAgICAiW0lOU1RSVUNUSU9OQUwgRUxFTUVOVF0gIiArIGluc3RydWN0aW9uYWxlbGVtZW50LmxhYmVsLA0KICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBpbnN0cnVjdGlvbmFsZWxlbWVudC52aXNpYmxlLA0KICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsNCiAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbysrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChtb2R1bG8uc3VibW9kdWxlcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgdmFyIGluZGV4Y29uY2VpdG8gPSAwOw0KICAgICAgICAgICAgICBtb2R1bG8uc3VibW9kdWxlcy5mb3JFYWNoKChzdWJtb2R1bG8pID0+IHsNCiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICAgICAgaWQ6IHN1Ym1vZHVsby51cmwsDQogICAgICAgICAgICAgICAgICBuYW1lOiAiW1NVQk1PRFVMT10gIiArIHN1Ym1vZHVsby5uYW1lbW9kdWxlLA0KICAgICAgICAgICAgICAgICAgdmlzaWJsZTogc3VibW9kdWxvLnZpc2libGUsDQogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB0aGlzLnRyZWVEYXRhW2luZGV4bW9kdWxvXS5jaGlsZHJlbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgIHRleHQ6IG9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgICAgdmFsdWU6IG9iamVjdC5pZCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2gob2JqZWN0KTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxvLm1vYmlsZW1lZGlhcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsby5tb2JpbGVtZWRpYXMuZm9yRWFjaCgobW9iaWxlbWVkaWEpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICBpZDogbW9iaWxlbWVkaWEudXJsLA0KICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbTU9CSUxFTUVESUFdICIgKyBtb2JpbGVtZWRpYS5sYWJlbCwNCiAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBtb2JpbGVtZWRpYS52aXNpYmxlLA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEYXRhW2luZGV4bW9kdWxvXS5jaGlsZHJlblsNCiAgICAgICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbw0KICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGluZGV4Y29uY2VpdG8rKzsNCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmIChzdWJtb2R1bG8uaW5zdHJ1Y3Rpb25hbGVsZW1lbnRzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgc3VibW9kdWxvLmluc3RydWN0aW9uYWxlbGVtZW50cy5mb3JFYWNoKA0KICAgICAgICAgICAgICAgICAgICAoaW5zdHJ1Y3Rpb25hbGVsZW1lbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluc3RydWN0aW9uYWxlbGVtZW50LnVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6DQogICAgICAgICAgICAgICAgICAgICAgICAgICJbSU5TVFJVQ1RJT05BTCBFTEVNRU5UXSAiICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQubGFiZWwsDQogICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBpbnN0cnVjdGlvbmFsZWxlbWVudC52aXNpYmxlLA0KICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW5bDQogICAgICAgICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbw0KICAgICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW4ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvKys7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKHN1Ym1vZHVsby5jb25jZXB0cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsby5jb25jZXB0cy5mb3JFYWNoKChjb25jZWl0bykgPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICAgICAgICAgIGlkOiBjb25jZWl0by51cmwsDQogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIltDT05DRUlUT10gIiArIGNvbmNlaXRvLm5hbWVjb25jZXB0LA0KICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGNvbmNlaXRvLnZpc2libGUsDQogICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEYXRhW2luZGV4bW9kdWxvXS5jaGlsZHJlblsNCiAgICAgICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbw0KICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnREYXRhLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG9iamVjdC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAoY29uY2VpdG8ubW9iaWxlbWVkaWFzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgIGNvbmNlaXRvLm1vYmlsZW1lZGlhcy5mb3JFYWNoKChtb2JpbGVtZWRpYSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1vYmlsZW1lZGlhLnVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIltNT0JJTEVNRURJQV0gIiArIG1vYmlsZW1lZGlhLmxhYmVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBtb2JpbGVtZWRpYS52aXNpYmxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWw0KICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbw0KICAgICAgICAgICAgICAgICAgICAgICAgXS5jaGlsZHJlbltpbmRleGNvbmNlaXRvXS5jaGlsZHJlbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmNlaXRvLmluc3RydWN0aW9uYWxlbGVtZW50cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICBjb25jZWl0by5pbnN0cnVjdGlvbmFsZWxlbWVudHMuZm9yRWFjaCgNCiAgICAgICAgICAgICAgICAgICAgICAgIChpbnN0cnVjdGlvbmFsZWxlbWVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0cnVjdGlvbmFsZWxlbWVudC51cmwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJbSU5TVFJVQ1RJT05BTCBFTEVNRU5UXSAiICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uYWxlbGVtZW50LmxhYmVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGluc3RydWN0aW9uYWxlbGVtZW50LnZpc2libGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4c3VibW9kdWxvDQogICAgICAgICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW5baW5kZXhjb25jZWl0b10uY2hpbGRyZW4ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmNlaXRvLmluZm9ybWF0aW9uaXRlbXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgY29uY2VpdG8uaW5mb3JtYXRpb25pdGVtcy5mb3JFYWNoKChwcm9jZWR1cmUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VkdXJlLmZrX2luZm9ybWF0aW9uaXRlbXR5cGUgPT09DQogICAgICAgICAgICAgICAgICAgICAgICAgICIvaW5mb3JtYXRpb25pdGVtdHlwZS80LyINCiAgICAgICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwcm9jZWR1cmUudXJsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiW1BST0NFRElNRU5UT10gIiArIHByb2NlZHVyZS5uYW1laW5mb3JtYXRpb25pdGVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHByb2NlZHVyZS52aXNpYmxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEYXRhW2luZGV4bW9kdWxvXS5jaGlsZHJlblsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbw0KICAgICAgICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuW2luZGV4Y29uY2VpdG9dLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvKys7DQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaW5kZXhzdWJtb2R1bG8rKzsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAobW9kdWxvLmNvbmNlcHRzLmxlbmd0aCkgew0KICAgICAgICAgICAgICBpZiAoaW5kZXhzdWJtb2R1bG8gPiAwKSB7DQogICAgICAgICAgICAgICAgaW5kZXhjb25jZWl0byA9IGluZGV4c3VibW9kdWxvOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGluZGV4Y29uY2VpdG8gPSAwOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIG1vZHVsby5jb25jZXB0cy5mb3JFYWNoKChjb25jZWl0bykgPT4gew0KICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7DQogICAgICAgICAgICAgICAgICBpZDogY29uY2VpdG8udXJsLA0KICAgICAgICAgICAgICAgICAgbmFtZTogIltDT05DRUlUT10gIiArIGNvbmNlaXRvLm5hbWVjb25jZXB0LA0KICAgICAgICAgICAgICAgICAgdmlzaWJsZTogY29uY2VpdG8udmlzaWJsZSwNCiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsNCg0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudERhdGEucHVzaCh7DQogICAgICAgICAgICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSwNCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChjb25jZWl0by5tb2JpbGVtZWRpYXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICBjb25jZWl0by5tb2JpbGVtZWRpYXMuZm9yRWFjaCgobW9iaWxlbWVkaWEpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICBpZDogbW9iaWxlbWVkaWEudXJsLA0KICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbTU9CSUxFTUVESUFdICIgKyBtb2JpbGVtZWRpYS5sYWJlbCwNCiAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBtb2JpbGVtZWRpYS52aXNpYmxlLA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEYXRhW2luZGV4bW9kdWxvXS5jaGlsZHJlblsNCiAgICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvDQogICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW4ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmIChjb25jZWl0by5pbnN0cnVjdGlvbmFsZWxlbWVudHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICBjb25jZWl0by5pbnN0cnVjdGlvbmFsZWxlbWVudHMuZm9yRWFjaCgNCiAgICAgICAgICAgICAgICAgICAgKGluc3RydWN0aW9uYWxlbGVtZW50KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0cnVjdGlvbmFsZWxlbWVudC51cmwsDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAiW0lOU1RSVUNUSU9OQUwgRUxFTUVOVF0gIiArDQogICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uYWxlbGVtZW50LmxhYmVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudmlzaWJsZSwNCiAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWw0KICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhjb25jZWl0bw0KICAgICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW4ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoY29uY2VpdG8uaW5mb3JtYXRpb25pdGVtcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIGNvbmNlaXRvLmluZm9ybWF0aW9uaXRlbXMuZm9yRWFjaCgocHJvY2VkdXJlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmUuZmtfaW5mb3JtYXRpb25pdGVtdHlwZSA9PT0NCiAgICAgICAgICAgICAgICAgICAgICAiL2luZm9ybWF0aW9uaXRlbXR5cGUvNC8iDQogICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZDogcHJvY2VkdXJlLnVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbUFJPQ0VESU1FTlRPXSAiICsgcHJvY2VkdXJlLm5hbWVpbmZvcm1hdGlvbml0ZW0sDQogICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBwcm9jZWR1cmUudmlzaWJsZSwNCiAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWw0KICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhjb25jZWl0bw0KICAgICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW4ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGluZGV4Y29uY2VpdG8rKzsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpbmRleG1vZHVsbysrOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBwdXRWaXNpYmxlKCkgew0KICAgICAgdmFyIHZtID0gdGhpczsNCg0KICAgICAgdGhpcy50cmVlRGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7DQogICAgICAgIGlmICgNCiAgICAgICAgICBlbGVtZW50LnZpc2libGUgPT09IHRydWUgJiYNCiAgICAgICAgICAhdGhpcy5zZWxlY3Rpb24uZmluZCgoZmluZEVsZW1lbnQpID0+IGZpbmRFbGVtZW50LmlkID09PSBlbGVtZW50LmlkKQ0KICAgICAgICApIHsNCiAgICAgICAgICBBcGkoKQ0KICAgICAgICAgICAgLnBhdGNoKGVsZW1lbnQuaWQpDQogICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbiAocmVzcG9zdGEpIHsNCiAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7DQogICAgICAgICAgICAgIGF3YWl0IE9iamVjdC5rZXlzKGF1eCkuZm9yRWFjaCgoYXRyaWJ1dG8pID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdXhbYXRyaWJ1dG9dKSkgew0KICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsNCiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG9bMF0gKyBhdHJpYnV0b1sxXSA9PT0gImlkIikgew0KICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInZpc2libGUiKSB7DQogICAgICAgICAgICAgICAgICBhdXgudmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIGF3YWl0IEFwaSgpLnB1dChlbGVtZW50LmlkLCBhdXgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgICAgZWxlbWVudC52aXNpYmxlID09PSBmYWxzZSAmJg0KICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmZpbmQoKGZpbmRFbGVtZW50KSA9PiBmaW5kRWxlbWVudC5pZCA9PT0gZWxlbWVudC5pZCkNCiAgICAgICAgKSB7DQogICAgICAgICAgQXBpKCkNCiAgICAgICAgICAgIC5wYXRjaChlbGVtZW50LmlkKQ0KICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHJlc3Bvc3RhKSB7DQogICAgICAgICAgICAgIHZhciBhdXggPSByZXNwb3N0YS5kYXRhOw0KICAgICAgICAgICAgICBhd2FpdCBPYmplY3Qua2V5cyhhdXgpLmZvckVhY2goKGF0cmlidXRvKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXV4W2F0cmlidXRvXSkpIHsNCiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ1cmwiKSB7DQogICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvWzBdICsgYXRyaWJ1dG9bMV0gPT09ICJpZCIpIHsNCiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ2aXNpYmxlIikgew0KICAgICAgICAgICAgICAgICAgYXV4LnZpc2libGUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIGF3YWl0IEFwaSgpLnB1dChlbGVtZW50LmlkLCBhdXgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudC5jaGlsZHJlbikgJiYgZWxlbWVudC5jaGlsZHJlbi5sZW5ndGgpIHsNCiAgICAgICAgICBlbGVtZW50LmNoaWxkcmVuLmZvckVhY2goKGVsZW1lbnQyKSA9PiB7DQogICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgIGVsZW1lbnQyLnZpc2libGUgPT09IHRydWUgJiYNCiAgICAgICAgICAgICAgIXRoaXMuc2VsZWN0aW9uLmZpbmQoDQogICAgICAgICAgICAgICAgKGZpbmRFbGVtZW50MikgPT4gZmluZEVsZW1lbnQyLmlkID09PSBlbGVtZW50Mi5pZA0KICAgICAgICAgICAgICApDQogICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgQXBpKCkNCiAgICAgICAgICAgICAgICAucGF0Y2goZWxlbWVudDIuaWQpDQogICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHJlc3Bvc3RhKSB7DQogICAgICAgICAgICAgICAgICB2YXIgYXV4ID0gcmVzcG9zdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAgIGF3YWl0IE9iamVjdC5rZXlzKGF1eCkuZm9yRWFjaCgoYXRyaWJ1dG8pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXV4W2F0cmlidXRvXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0b1swXSArIGF0cmlidXRvWzFdID09PSAiaWQiKSB7DQogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ2aXNpYmxlIikgew0KICAgICAgICAgICAgICAgICAgICAgIGF1eC52aXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wdXQoZWxlbWVudDIuaWQsIGF1eCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKA0KICAgICAgICAgICAgICBlbGVtZW50Mi52aXNpYmxlID09PSBmYWxzZSAmJg0KICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5maW5kKA0KICAgICAgICAgICAgICAgIChmaW5kRWxlbWVudDIpID0+IGZpbmRFbGVtZW50Mi5pZCA9PT0gZWxlbWVudDIuaWQNCiAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIEFwaSgpDQogICAgICAgICAgICAgICAgLnBhdGNoKGVsZW1lbnQyLmlkKQ0KICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uIChyZXNwb3N0YSkgew0KICAgICAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7DQogICAgICAgICAgICAgICAgICBhd2FpdCBPYmplY3Qua2V5cyhhdXgpLmZvckVhY2goKGF0cmlidXRvKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGF1eFthdHJpYnV0b10pKSB7DQogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ1cmwiKSB7DQogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG9bMF0gKyBhdHJpYnV0b1sxXSA9PT0gImlkIikgew0KICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidmlzaWJsZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICBhdXgudmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICBhd2FpdCBBcGkoKS5wdXQoZWxlbWVudDIuaWQsIGF1eCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQyLmNoaWxkcmVuKSAmJiBlbGVtZW50Mi5jaGlsZHJlbi5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgZWxlbWVudDIuY2hpbGRyZW4uZm9yRWFjaCgoZWxlbWVudDMpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICBlbGVtZW50My52aXNpYmxlID09PSB0cnVlICYmDQogICAgICAgICAgICAgICAgICAhdGhpcy5zZWxlY3Rpb24uZmluZCgNCiAgICAgICAgICAgICAgICAgICAgKGZpbmRFbGVtZW50MykgPT4gZmluZEVsZW1lbnQzLmlkID09PSBlbGVtZW50My5pZA0KICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgQXBpKCkNCiAgICAgICAgICAgICAgICAgICAgLnBhdGNoKGVsZW1lbnQzLmlkKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbiAocmVzcG9zdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXV4ID0gcmVzcG9zdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBPYmplY3Qua2V5cyhhdXgpLmZvckVhY2goKGF0cmlidXRvKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdXhbYXRyaWJ1dG9dKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ1cmwiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0b1swXSArIGF0cmlidXRvWzFdID09PSAiaWQiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInZpc2libGUiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGF1eC52aXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQXBpKCkucHV0KGVsZW1lbnQzLmlkLCBhdXgpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKA0KICAgICAgICAgICAgICAgICAgZWxlbWVudDMudmlzaWJsZSA9PT0gZmFsc2UgJiYNCiAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmZpbmQoDQogICAgICAgICAgICAgICAgICAgIChmaW5kRWxlbWVudDMpID0+IGZpbmRFbGVtZW50My5pZCA9PT0gZWxlbWVudDMuaWQNCiAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgIEFwaSgpDQogICAgICAgICAgICAgICAgICAgIC5wYXRjaChlbGVtZW50My5pZCkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHJlc3Bvc3RhKSB7DQogICAgICAgICAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7DQogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgT2JqZWN0LmtleXMoYXV4KS5mb3JFYWNoKChhdHJpYnV0bykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXV4W2F0cmlidXRvXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidXJsIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG9bMF0gKyBhdHJpYnV0b1sxXSA9PT0gImlkIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ2aXNpYmxlIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBhdXgudmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQXBpKCkucHV0KGVsZW1lbnQzLmlkLCBhdXgpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KGVsZW1lbnQzLmNoaWxkcmVuKSAmJg0KICAgICAgICAgICAgICAgICAgZWxlbWVudDMuY2hpbGRyZW4ubGVuZ3RoDQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICBlbGVtZW50My5jaGlsZHJlbi5mb3JFYWNoKChlbGVtZW50NCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDQudmlzaWJsZSA9PT0gdHJ1ZSAmJg0KICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnNlbGVjdGlvbi5maW5kKA0KICAgICAgICAgICAgICAgICAgICAgICAgKGZpbmRFbGVtZW50NCkgPT4gZmluZEVsZW1lbnQ0LmlkID09PSBlbGVtZW50NC5pZA0KICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgICAgQXBpKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5wYXRjaChlbGVtZW50NC5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uIChyZXNwb3N0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXV4ID0gcmVzcG9zdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgT2JqZWN0LmtleXMoYXV4KS5mb3JFYWNoKChhdHJpYnV0bykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGF1eFthdHJpYnV0b10pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidXJsIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0b1swXSArIGF0cmlidXRvWzFdID09PSAiaWQiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidmlzaWJsZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1eC52aXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQXBpKCkucHV0KGVsZW1lbnQ0LmlkLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKA0KICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ0LnZpc2libGUgPT09IGZhbHNlICYmDQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZmluZCgNCiAgICAgICAgICAgICAgICAgICAgICAgIChmaW5kRWxlbWVudDQpID0+IGZpbmRFbGVtZW50NC5pZCA9PT0gZWxlbWVudDQuaWQNCiAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgIEFwaSgpDQogICAgICAgICAgICAgICAgICAgICAgICAucGF0Y2goZWxlbWVudDQuaWQpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbiAocmVzcG9zdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IE9iamVjdC5rZXlzKGF1eCkuZm9yRWFjaCgoYXRyaWJ1dG8pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdXhbYXRyaWJ1dG9dKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG9bMF0gKyBhdHJpYnV0b1sxXSA9PT0gImlkIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInZpc2libGUiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXgudmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQXBpKCkucHV0KGVsZW1lbnQ0LmlkLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIGF3YWl0IHNldFRpbWVvdXQoYXN5bmMgZnVuY3Rpb24gKCkgew0KICAgICAgICB2bS4kZW1pdCgiY2xvc2Vfb3Jfc2F2ZSIsICJjbG9zZSIpOw0KICAgICAgfSwgMzAwKTsNCiAgICB9LA0KDQogICAgZGVzZWxlY3RBbGwoKSB7DQogICAgICB0aGlzLnNlbGVjdGlvbiA9IFtdOw0KICAgIH0sDQogICAgc2VsZWN0QWxsKCkgew0KICAgICAgdmFyIHZtID0gdGhpczsNCiAgICAgIHRoaXMuc2VsZWN0aW9uID0gW107DQogICAgICB0aGlzLnRyZWVEYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHsNCiAgICAgICAgdm0uc2VsZWN0aW9uLnB1c2goZWxlbWVudCk7DQogICAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuKSB7DQogICAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKChlbGVtZW50MikgPT4gew0KICAgICAgICAgICAgdm0uc2VsZWN0aW9uLnB1c2goZWxlbWVudDIpOw0KICAgICAgICAgICAgaWYgKGVsZW1lbnQyLmNoaWxkcmVuKSB7DQogICAgICAgICAgICAgIGVsZW1lbnQyLmNoaWxkcmVuLmZvckVhY2goKGVsZW1lbnQzKSA9PiB7DQogICAgICAgICAgICAgICAgdm0uc2VsZWN0aW9uLnB1c2goZWxlbWVudDMpOw0KICAgICAgICAgICAgICAgIGlmIChlbGVtZW50My5jaGlsZHJlbikgew0KICAgICAgICAgICAgICAgICAgZWxlbWVudDMuY2hpbGRyZW4uZm9yRWFjaCgoZWxlbWVudDQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdm0uc2VsZWN0aW9uLnB1c2goZWxlbWVudDQpOw0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyB2YWxpZGF0ZSgpIHsNCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgew0KICAgICAgICBhd2FpdCB0aGlzLnB1dFZpc2libGUoKTsNCiAgICAgICAgYXdhaXQgdGhpcy5yZXNldFZhcmlhYmxlcygpOw0KICAgICAgfQ0KICAgIH0sDQogICAgb3BlbkRpZGF0aWNEaWFsb2coZGlhbG9nKSB7DQogICAgICB0aGlzLiRlbWl0KCJvcGVuRGlkYXRpY0RpYWxvZyIsIGRpYWxvZyk7DQogICAgfSwNCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMuJGVtaXQoImNsb3NlX29yX3NhdmUiLCAiY2xvc2UiKTsNCiAgICB9LA0KICAgIHJlc2V0VmFsaWRhdGlvbigpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["VisibleDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VisibleDialog.vue","sourceRoot":"src/components/didatic_model","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-card-title style=\"background-color:purple; color:white;\">\r\n      <span class=\"headline\">\r\n        <p>Defina as informações equivalentes ao modelo didático.</p>\r\n      </span>\r\n    </v-card-title>\r\n    <v-row style=\"width : 100%\">\r\n      <v-col cols=\"12\">\r\n        <v-card-text>\r\n          <v-row class=\"ml-2\">\r\n            <v-btn\r\n              color=\"warning\"\r\n              height=\"40px\"\r\n              dark\r\n              x-small\r\n              small\r\n              @click=\"deselectAll()\"\r\n            >Deselecionar tudo</v-btn>\r\n            <v-btn\r\n              class=\"ml-1\"\r\n              color=\"primary\"\r\n              height=\"40\"\r\n              dark\r\n              small\r\n              @click=\"selectAll()\"\r\n            >Selecionar tudo</v-btn>\r\n            <v-btn\r\n              class=\"ml-1\"\r\n              color=\"#A5A5A5\"\r\n              height=\"40px\"\r\n              dark\r\n              small\r\n              @click=\"openDidaticDialog('assessment')\"\r\n            >Parâmetros de avaliação</v-btn>\r\n            <v-btn\r\n              class=\"ml-1\"\r\n              color=\"green\"\r\n              height=\"40\"\r\n              dark\r\n              small\r\n              @click=\"openDidaticDialog('prior')\"\r\n            >Conhecimentos Prévios</v-btn>\r\n          </v-row>\r\n\r\n          <v-treeview\r\n            @update:active=\"test\"\r\n            v-model=\"selection\"\r\n            :selection-type=\"'independent'\"\r\n            :items=\"treeData\"\r\n            return-object\r\n            selectable\r\n            selected-color=\"success\"\r\n            open-all\r\n          ></v-treeview>\r\n        </v-card-text>\r\n      </v-col>\r\n    </v-row>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\r\n        Cancelar\r\n        <v-icon dark right>mdi-close</v-icon>\r\n      </v-btn>\r\n      <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\r\n        Salvar\r\n        <v-icon dark right>mdi-content-save</v-icon>\r\n      </v-btn>\r\n    </v-card-actions>\r\n    <div class=\"text-center\">\r\n      <v-dialog v-model=\"dialogError\" width=\"500\">\r\n        <v-card>\r\n          <v-card-title class=\"headline red\" primary-title style=\"color:white;\">ALERTA!</v-card-title>\r\n          <v-card-text class=\"mt-3\" style=\"font-size: 1.3em;\">\r\n            {{\r\n            messageError\r\n            }}\r\n          </v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn color=\"primary\" text @click=\"dialogError = false\">Ok</v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport Api from \"@/services/Api\";\r\n\r\nexport default {\r\n  name: \"VisibleDialog\",\r\n  props: [\"domain\", \"dialog\"],\r\n  data: () => ({\r\n    valid: true,\r\n    treeData: [],\r\n    selection: [],\r\n    elementData: [],\r\n    dialogError: false,\r\n    messageError: \"\",\r\n    newItems: [],\r\n    checkbox: true,\r\n  }),\r\n  watch: {\r\n    domain: async function () {\r\n      if (this.domain) {\r\n        this.treeData = [];\r\n        this.selection = [];\r\n        await this.setDomainVariables();\r\n      }\r\n    },\r\n  },\r\n  mounted: async function () {\r\n    if (this.domain) {\r\n      this.treeData = [];\r\n      this.selection = [];\r\n      await this.setDomainVariables();\r\n    }\r\n  },\r\n  methods: {\r\n    test(value) {\r\n      if (value.length) {\r\n        if (value[0].split(\"/\")[5] === \"sub\") {\r\n          this.$emit(\"type\", { type: \"submodulo\", url: value[0] });\r\n        } else {\r\n          this.$emit(\"type\", { type: value[0].split(\"/\")[3], url: value[0] });\r\n        }\r\n      }\r\n    },\r\n    setDomainVariables() {\r\n      this.treeData = [];\r\n      this.elementData.push({\r\n        text: \"[DOMINIO] \" + this.domain.nameknowledgedomain,\r\n        value: this.domain.url,\r\n      });\r\n      var indexmodulo = 0;\r\n      if (this.domain.mobilemedias.length) {\r\n        this.domain.mobilemedias.forEach((mobilemedia) => {\r\n          var object = {\r\n            id: mobilemedia.url,\r\n            name: \"[MOBILEMEDIA] \" + mobilemedia.label,\r\n            visible: mobilemedia.visible,\r\n          };\r\n          this.treeData.push(object);\r\n          if (object.visible) {\r\n            this.selection.push(object);\r\n          }\r\n          indexmodulo++;\r\n        });\r\n      }\r\n      if (this.domain.instructionalelements.length) {\r\n        this.domain.instructionalelements.forEach((instructionalelement) => {\r\n          if (\r\n            instructionalelement.fk_instructionalelementtype.split(\"/\")[4] !== 4\r\n          ) {\r\n            var object = {\r\n              id: instructionalelement.url,\r\n              name: \"[INSTRUCTIONAL ELEMENT] \" + instructionalelement.label,\r\n              visible: instructionalelement.visible,\r\n            };\r\n            this.treeData.push(object);\r\n            if (object.visible) {\r\n              this.selection.push(object);\r\n            }\r\n            indexmodulo++;\r\n          }\r\n        });\r\n      }\r\n      if (Array.isArray(this.domain.modules) && this.domain.modules.length) {\r\n        this.domain.modules.forEach((modulo) => {\r\n          if (modulo.fk_idmodule === null) {\r\n            var indexsubmodulo = 0;\r\n            var object = {\r\n              id: modulo.url,\r\n              name: \"[MODULO] \" + modulo.namemodule,\r\n              visible: modulo.visible,\r\n              children: [],\r\n            };\r\n            this.treeData.push(object);\r\n            this.elementData.push({\r\n              text: object.name,\r\n              value: object.id,\r\n            });\r\n            if (object.visible) {\r\n              this.selection.push(object);\r\n            }\r\n            if (modulo.mobilemedias.length) {\r\n              modulo.mobilemedias.forEach((mobilemedia) => {\r\n                var object = {\r\n                  id: mobilemedia.url,\r\n                  name: \"[MOBILEMEDIA] \" + mobilemedia.label,\r\n                  visible: mobilemedia.visible,\r\n                };\r\n                this.treeData[indexmodulo].children.push(object);\r\n                if (object.visible) {\r\n                  this.selection.push(object);\r\n                }\r\n                indexsubmodulo++;\r\n              });\r\n            }\r\n\r\n            if (modulo.instructionalelements.length) {\r\n              modulo.instructionalelements.forEach((instructionalelement) => {\r\n                if (\r\n                  instructionalelement.fk_instructionalelementtype.split(\r\n                    \"/\"\r\n                  )[4] !== 4\r\n                ) {\r\n                  var object = {\r\n                    id: instructionalelement.url,\r\n                    name:\r\n                      \"[INSTRUCTIONAL ELEMENT] \" + instructionalelement.label,\r\n                    visible: instructionalelement.visible,\r\n                  };\r\n                  this.treeData[indexmodulo].children.push(object);\r\n                  if (object.visible) {\r\n                    this.selection.push(object);\r\n                  }\r\n                  indexsubmodulo++;\r\n                }\r\n              });\r\n            }\r\n\r\n            if (modulo.submodules.length) {\r\n              var indexconceito = 0;\r\n              modulo.submodules.forEach((submodulo) => {\r\n                var object = {\r\n                  id: submodulo.url,\r\n                  name: \"[SUBMODULO] \" + submodulo.namemodule,\r\n                  visible: submodulo.visible,\r\n                  children: [],\r\n                };\r\n                this.treeData[indexmodulo].children.push(object);\r\n                this.elementData.push({\r\n                  text: object.name,\r\n                  value: object.id,\r\n                });\r\n                if (object.visible) {\r\n                  this.selection.push(object);\r\n                }\r\n\r\n                if (submodulo.mobilemedias.length) {\r\n                  submodulo.mobilemedias.forEach((mobilemedia) => {\r\n                    var object = {\r\n                      id: mobilemedia.url,\r\n                      name: \"[MOBILEMEDIA] \" + mobilemedia.label,\r\n                      visible: mobilemedia.visible,\r\n                    };\r\n                    this.treeData[indexmodulo].children[\r\n                      indexsubmodulo\r\n                    ].children.push(object);\r\n                    if (object.visible) {\r\n                      this.selection.push(object);\r\n                    }\r\n                    indexconceito++;\r\n                  });\r\n                }\r\n\r\n                if (submodulo.instructionalelements.length) {\r\n                  submodulo.instructionalelements.forEach(\r\n                    (instructionalelement) => {\r\n                      var object = {\r\n                        id: instructionalelement.url,\r\n                        name:\r\n                          \"[INSTRUCTIONAL ELEMENT] \" +\r\n                          instructionalelement.label,\r\n                        visible: instructionalelement.visible,\r\n                      };\r\n                      this.treeData[indexmodulo].children[\r\n                        indexsubmodulo\r\n                      ].children.push(object);\r\n                      if (object.visible) {\r\n                        this.selection.push(object);\r\n                      }\r\n                      indexconceito++;\r\n                    }\r\n                  );\r\n                }\r\n\r\n                if (submodulo.concepts.length) {\r\n                  submodulo.concepts.forEach((conceito) => {\r\n                    var object = {\r\n                      id: conceito.url,\r\n                      name: \"[CONCEITO] \" + conceito.nameconcept,\r\n                      visible: conceito.visible,\r\n                      children: [],\r\n                    };\r\n                    this.treeData[indexmodulo].children[\r\n                      indexsubmodulo\r\n                    ].children.push(object);\r\n\r\n                    this.elementData.push({\r\n                      text: object.name,\r\n                      value: object.id,\r\n                    });\r\n                    if (object.visible) {\r\n                      this.selection.push(object);\r\n                    }\r\n\r\n                    if (conceito.mobilemedias.length) {\r\n                      conceito.mobilemedias.forEach((mobilemedia) => {\r\n                        var object = {\r\n                          id: mobilemedia.url,\r\n                          name: \"[MOBILEMEDIA] \" + mobilemedia.label,\r\n                          visible: mobilemedia.visible,\r\n                        };\r\n                        this.treeData[indexmodulo].children[\r\n                          indexsubmodulo\r\n                        ].children[indexconceito].children.push(object);\r\n                        if (object.visible) {\r\n                          this.selection.push(object);\r\n                        }\r\n                      });\r\n                    }\r\n\r\n                    if (conceito.instructionalelements.length) {\r\n                      conceito.instructionalelements.forEach(\r\n                        (instructionalelement) => {\r\n                          var object = {\r\n                            id: instructionalelement.url,\r\n                            name:\r\n                              \"[INSTRUCTIONAL ELEMENT] \" +\r\n                              instructionalelement.label,\r\n                            visible: instructionalelement.visible,\r\n                          };\r\n                          this.treeData[indexmodulo].children[\r\n                            indexsubmodulo\r\n                          ].children[indexconceito].children.push(object);\r\n                          if (object.visible) {\r\n                            this.selection.push(object);\r\n                          }\r\n                        }\r\n                      );\r\n                    }\r\n\r\n                    if (conceito.informationitems.length) {\r\n                      conceito.informationitems.forEach((procedure) => {\r\n                        if (\r\n                          procedure.fk_informationitemtype ===\r\n                          \"/informationitemtype/4/\"\r\n                        ) {\r\n                          var object = {\r\n                            id: procedure.url,\r\n                            name:\r\n                              \"[PROCEDIMENTO] \" + procedure.nameinformationitem,\r\n                            visible: procedure.visible,\r\n                          };\r\n                          this.treeData[indexmodulo].children[\r\n                            indexsubmodulo\r\n                          ].children[indexconceito].children.push(object);\r\n                          if (object.visible) {\r\n                            this.selection.push(object);\r\n                          }\r\n                        }\r\n                      });\r\n                    }\r\n\r\n                    indexconceito++;\r\n                  });\r\n                }\r\n                indexsubmodulo++;\r\n              });\r\n            }\r\n            if (modulo.concepts.length) {\r\n              if (indexsubmodulo > 0) {\r\n                indexconceito = indexsubmodulo;\r\n              } else {\r\n                indexconceito = 0;\r\n              }\r\n              modulo.concepts.forEach((conceito) => {\r\n                var object = {\r\n                  id: conceito.url,\r\n                  name: \"[CONCEITO] \" + conceito.nameconcept,\r\n                  visible: conceito.visible,\r\n                  children: [],\r\n                };\r\n                this.treeData[indexmodulo].children.push(object);\r\n\r\n                this.elementData.push({\r\n                  text: object.name,\r\n                  value: object.id,\r\n                });\r\n                if (object.visible) {\r\n                  this.selection.push(object);\r\n                }\r\n                if (conceito.mobilemedias.length) {\r\n                  conceito.mobilemedias.forEach((mobilemedia) => {\r\n                    var object = {\r\n                      id: mobilemedia.url,\r\n                      name: \"[MOBILEMEDIA] \" + mobilemedia.label,\r\n                      visible: mobilemedia.visible,\r\n                    };\r\n                    this.treeData[indexmodulo].children[\r\n                      indexconceito\r\n                    ].children.push(object);\r\n                    if (object.visible) {\r\n                      this.selection.push(object);\r\n                    }\r\n                  });\r\n                }\r\n\r\n                if (conceito.instructionalelements.length) {\r\n                  conceito.instructionalelements.forEach(\r\n                    (instructionalelement) => {\r\n                      var object = {\r\n                        id: instructionalelement.url,\r\n                        name:\r\n                          \"[INSTRUCTIONAL ELEMENT] \" +\r\n                          instructionalelement.label,\r\n                        visible: instructionalelement.visible,\r\n                      };\r\n                      this.treeData[indexmodulo].children[\r\n                        indexconceito\r\n                      ].children.push(object);\r\n                      if (object.visible) {\r\n                        this.selection.push(object);\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n\r\n                if (conceito.informationitems.length) {\r\n                  conceito.informationitems.forEach((procedure) => {\r\n                    if (\r\n                      procedure.fk_informationitemtype ===\r\n                      \"/informationitemtype/4/\"\r\n                    ) {\r\n                      var object = {\r\n                        id: procedure.url,\r\n                        name: \"[PROCEDIMENTO] \" + procedure.nameinformationitem,\r\n                        visible: procedure.visible,\r\n                      };\r\n                      this.treeData[indexmodulo].children[\r\n                        indexconceito\r\n                      ].children.push(object);\r\n                      if (object.visible) {\r\n                        this.selection.push(object);\r\n                      }\r\n                    }\r\n                  });\r\n                }\r\n                indexconceito++;\r\n              });\r\n            }\r\n            indexmodulo++;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    async putVisible() {\r\n      var vm = this;\r\n\r\n      this.treeData.forEach((element) => {\r\n        if (\r\n          element.visible === true &&\r\n          !this.selection.find((findElement) => findElement.id === element.id)\r\n        ) {\r\n          Api()\r\n            .patch(element.id)\r\n            .then(async function (resposta) {\r\n              var aux = resposta.data;\r\n              await Object.keys(aux).forEach((atributo) => {\r\n                if (Array.isArray(aux[atributo])) {\r\n                  delete aux[atributo];\r\n                } else if (atributo === \"url\") {\r\n                  delete aux[atributo];\r\n                } else if (atributo[0] + atributo[1] === \"id\") {\r\n                  delete aux[atributo];\r\n                } else if (atributo === \"visible\") {\r\n                  aux.visible = false;\r\n                }\r\n              });\r\n              await Api().put(element.id, aux);\r\n            });\r\n        } else if (\r\n          element.visible === false &&\r\n          this.selection.find((findElement) => findElement.id === element.id)\r\n        ) {\r\n          Api()\r\n            .patch(element.id)\r\n            .then(async function (resposta) {\r\n              var aux = resposta.data;\r\n              await Object.keys(aux).forEach((atributo) => {\r\n                if (Array.isArray(aux[atributo])) {\r\n                  delete aux[atributo];\r\n                } else if (atributo === \"url\") {\r\n                  delete aux[atributo];\r\n                } else if (atributo[0] + atributo[1] === \"id\") {\r\n                  delete aux[atributo];\r\n                } else if (atributo === \"visible\") {\r\n                  aux.visible = true;\r\n                }\r\n              });\r\n              await Api().put(element.id, aux);\r\n            });\r\n        }\r\n        if (Array.isArray(element.children) && element.children.length) {\r\n          element.children.forEach((element2) => {\r\n            if (\r\n              element2.visible === true &&\r\n              !this.selection.find(\r\n                (findElement2) => findElement2.id === element2.id\r\n              )\r\n            ) {\r\n              Api()\r\n                .patch(element2.id)\r\n                .then(async function (resposta) {\r\n                  var aux = resposta.data;\r\n                  await Object.keys(aux).forEach((atributo) => {\r\n                    if (Array.isArray(aux[atributo])) {\r\n                      delete aux[atributo];\r\n                    } else if (atributo === \"url\") {\r\n                      delete aux[atributo];\r\n                    } else if (atributo[0] + atributo[1] === \"id\") {\r\n                      delete aux[atributo];\r\n                    } else if (atributo === \"visible\") {\r\n                      aux.visible = false;\r\n                    }\r\n                  });\r\n\r\n                  await Api().put(element2.id, aux);\r\n                });\r\n            } else if (\r\n              element2.visible === false &&\r\n              this.selection.find(\r\n                (findElement2) => findElement2.id === element2.id\r\n              )\r\n            ) {\r\n              Api()\r\n                .patch(element2.id)\r\n                .then(async function (resposta) {\r\n                  var aux = resposta.data;\r\n                  await Object.keys(aux).forEach((atributo) => {\r\n                    if (Array.isArray(aux[atributo])) {\r\n                      delete aux[atributo];\r\n                    } else if (atributo === \"url\") {\r\n                      delete aux[atributo];\r\n                    } else if (atributo[0] + atributo[1] === \"id\") {\r\n                      delete aux[atributo];\r\n                    } else if (atributo === \"visible\") {\r\n                      aux.visible = true;\r\n                    }\r\n                  });\r\n\r\n                  await Api().put(element2.id, aux);\r\n                });\r\n            }\r\n\r\n            if (Array.isArray(element2.children) && element2.children.length) {\r\n              element2.children.forEach((element3) => {\r\n                if (\r\n                  element3.visible === true &&\r\n                  !this.selection.find(\r\n                    (findElement3) => findElement3.id === element3.id\r\n                  )\r\n                ) {\r\n                  Api()\r\n                    .patch(element3.id)\r\n                    .then(async function (resposta) {\r\n                      var aux = resposta.data;\r\n                      await Object.keys(aux).forEach((atributo) => {\r\n                        if (Array.isArray(aux[atributo])) {\r\n                          delete aux[atributo];\r\n                        } else if (atributo === \"url\") {\r\n                          delete aux[atributo];\r\n                        } else if (atributo[0] + atributo[1] === \"id\") {\r\n                          delete aux[atributo];\r\n                        } else if (atributo === \"visible\") {\r\n                          aux.visible = false;\r\n                        }\r\n                      });\r\n                      await Api().put(element3.id, aux);\r\n                    });\r\n                } else if (\r\n                  element3.visible === false &&\r\n                  this.selection.find(\r\n                    (findElement3) => findElement3.id === element3.id\r\n                  )\r\n                ) {\r\n                  Api()\r\n                    .patch(element3.id)\r\n                    .then(async function (resposta) {\r\n                      var aux = resposta.data;\r\n                      await Object.keys(aux).forEach((atributo) => {\r\n                        if (Array.isArray(aux[atributo])) {\r\n                          delete aux[atributo];\r\n                        } else if (atributo === \"url\") {\r\n                          delete aux[atributo];\r\n                        } else if (atributo[0] + atributo[1] === \"id\") {\r\n                          delete aux[atributo];\r\n                        } else if (atributo === \"visible\") {\r\n                          aux.visible = true;\r\n                        }\r\n                      });\r\n                      await Api().put(element3.id, aux);\r\n                    });\r\n                }\r\n\r\n                if (\r\n                  Array.isArray(element3.children) &&\r\n                  element3.children.length\r\n                ) {\r\n                  element3.children.forEach((element4) => {\r\n                    if (\r\n                      element4.visible === true &&\r\n                      !this.selection.find(\r\n                        (findElement4) => findElement4.id === element4.id\r\n                      )\r\n                    ) {\r\n                      Api()\r\n                        .patch(element4.id)\r\n                        .then(async function (resposta) {\r\n                          var aux = resposta.data;\r\n                          await Object.keys(aux).forEach((atributo) => {\r\n                            if (Array.isArray(aux[atributo])) {\r\n                              delete aux[atributo];\r\n                            } else if (atributo === \"url\") {\r\n                              delete aux[atributo];\r\n                            } else if (atributo[0] + atributo[1] === \"id\") {\r\n                              delete aux[atributo];\r\n                            } else if (atributo === \"visible\") {\r\n                              aux.visible = false;\r\n                            }\r\n                          });\r\n                          await Api().put(element4.id, {\r\n                            aux,\r\n                          });\r\n                        });\r\n                    } else if (\r\n                      element4.visible === false &&\r\n                      this.selection.find(\r\n                        (findElement4) => findElement4.id === element4.id\r\n                      )\r\n                    ) {\r\n                      Api()\r\n                        .patch(element4.id)\r\n                        .then(async function (resposta) {\r\n                          var aux = resposta.data;\r\n                          await Object.keys(aux).forEach((atributo) => {\r\n                            if (Array.isArray(aux[atributo])) {\r\n                              delete aux[atributo];\r\n                            } else if (atributo === \"url\") {\r\n                              delete aux[atributo];\r\n                            } else if (atributo[0] + atributo[1] === \"id\") {\r\n                              delete aux[atributo];\r\n                            } else if (atributo === \"visible\") {\r\n                              aux.visible = true;\r\n                            }\r\n                          });\r\n                          await Api().put(element4.id, {\r\n                            aux,\r\n                          });\r\n                        });\r\n                    }\r\n                  });\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n      await setTimeout(async function () {\r\n        vm.$emit(\"close_or_save\", \"close\");\r\n      }, 300);\r\n    },\r\n\r\n    deselectAll() {\r\n      this.selection = [];\r\n    },\r\n    selectAll() {\r\n      var vm = this;\r\n      this.selection = [];\r\n      this.treeData.forEach((element) => {\r\n        vm.selection.push(element);\r\n        if (element.children) {\r\n          element.children.forEach((element2) => {\r\n            vm.selection.push(element2);\r\n            if (element2.children) {\r\n              element2.children.forEach((element3) => {\r\n                vm.selection.push(element3);\r\n                if (element3.children) {\r\n                  element3.children.forEach((element4) => {\r\n                    vm.selection.push(element4);\r\n                  });\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    async validate() {\r\n      if (this.$refs.form.validate()) {\r\n        await this.putVisible();\r\n        await this.resetVariables();\r\n      }\r\n    },\r\n    openDidaticDialog(dialog) {\r\n      this.$emit(\"openDidaticDialog\", dialog);\r\n    },\r\n    reset() {\r\n      this.$emit(\"close_or_save\", \"close\");\r\n    },\r\n    resetValidation() {\r\n      this.$refs.form.resetValidation();\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}