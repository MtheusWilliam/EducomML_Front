{"remainingRequest":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vitor/Documentos/EducomML/EducomML_Front/master/src/components/didatic_model/VisibleDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/src/components/didatic_model/VisibleDialog.vue","mtime":1593895578991},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/cache-loader/dist/cjs.js","mtime":1593613513250},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/babel-loader/lib/index.js","mtime":1593613513143},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vuetify-loader/lib/loader.js","mtime":1593613518416},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/cache-loader/dist/cjs.js","mtime":1593613513250},{"path":"/home/vitor/Documentos/EducomML/EducomML_Front/master/node_modules/vue-loader/lib/index.js","mtime":1593613518353}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBDb29raWUgZnJvbSAianMtY29va2llIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJWaXNpYmxlRGlhbG9nIiwKICBwcm9wczogWyJkb21haW4iLCAiZGlhbG9nIl0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHZhbGlkOiB0cnVlLAogICAgdHJlZURhdGE6IFtdLAogICAgZWxlbWVudERhdGE6IFtdLAogICAgc2VsZWN0aW9uOiBbXSwKICAgIHNjb3BvVHlwZXM6IFsKICAgICAgewogICAgICAgIHRleHQ6ICJBdmFsaWHDp8OjbyIsCiAgICAgICAgdmFsdWU6IDEKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJEb23DrW5pbyIsCiAgICAgICAgdmFsdWU6IDIKICAgICAgfQogICAgXSwKICAgIHR5cGVzVGhyZXNob2xkOiBbCiAgICAgIHsKICAgICAgICB0ZXh0OiAiUG9yY2VudGFnZW0iLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiTGl0ZXJhbCIsCiAgICAgICAgdmFsdWU6IDIKICAgICAgfQogICAgXSwKICAgIHZhbHVlVHlwZXM6IFsiU2luZ2xlIiwgIlJhbmdlIl0sCiAgICBhc3Nlc3NtZW50Q29udHJvbDogW10sCiAgICBuZXdJdGVtczogW10sCiAgICBjaGVja2JveDogdHJ1ZQogIH0pLAogIHdhdGNoOiB7CiAgICBkb21haW46IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5kb21haW4pIHsKICAgICAgICB0aGlzLnRyZWVEYXRhID0gW107CiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBbXTsKICAgICAgICBhd2FpdCB0aGlzLnNldERvbWFpblZhcmlhYmxlcygpOwogICAgICB9CiAgICB9LAogICAgYXNzZXNzbWVudENvbnRyb2w6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLmZvckVhY2goYXNzZXNzID0+IHsKICAgICAgICBpZiAoYXNzZXNzLnZhbHVlVHlwZSA9PT0gIlNpbmdsZSIpIHsKICAgICAgICAgIGFzc2Vzcy5yYW5nZXMgPSBbXTsKICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzcy52YWx1ZVR5cGUgPT09ICJSYW5nZSIpIHsKICAgICAgICAgIGFzc2Vzcy5zaW5nbGUudGhyZXNob2xkID0gIiI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRlc3QodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlLmxlbmd0aCkgewogICAgICAgIGlmICh2YWx1ZVswXS5zcGxpdCgiLyIpWzVdID09PSAic3ViIikgewogICAgICAgICAgdGhpcy4kZW1pdCgidHlwZSIsIHsgdHlwZTogInN1Ym1vZHVsbyIsIHVybDogdmFsdWVbMF0gfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGVtaXQoInR5cGUiLCB7IHR5cGU6IHZhbHVlWzBdLnNwbGl0KCIvIilbM10sIHVybDogdmFsdWVbMF0gfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0RG9tYWluVmFyaWFibGVzKCkgewogICAgICB0aGlzLnRyZWVEYXRhID0gW107CiAgICAgIHRoaXMuZWxlbWVudERhdGEucHVzaCh7CiAgICAgICAgdGV4dDogIltET01JTklPXSAiICsgdGhpcy5kb21haW4ubmFtZWtub3dsZWRnZWRvbWFpbiwKICAgICAgICB2YWx1ZTogdGhpcy5kb21haW4udXJsCiAgICAgIH0pOwogICAgICB2YXIgaW5kZXhtb2R1bG8gPSAwOwogICAgICBpZiAodGhpcy5kb21haW4ubW9iaWxlbWVkaWFzLmxlbmd0aCkgewogICAgICAgIHRoaXMuZG9tYWluLm1vYmlsZW1lZGlhcy5mb3JFYWNoKG1vYmlsZW1lZGlhID0+IHsKICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgIGlkOiBtb2JpbGVtZWRpYS51cmwsCiAgICAgICAgICAgIG5hbWU6ICJbTU9CSUxFTUVESUFdICIgKyBtb2JpbGVtZWRpYS5sYWJlbCwKICAgICAgICAgICAgdmlzaWJsZTogbW9iaWxlbWVkaWEudmlzaWJsZQogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMudHJlZURhdGEucHVzaChvYmplY3QpOwogICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2gob2JqZWN0KTsKICAgICAgICAgIH0KICAgICAgICAgIGluZGV4bW9kdWxvKys7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZG9tYWluLmluc3RydWN0aW9uYWxlbGVtZW50cy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmRvbWFpbi5pbnN0cnVjdGlvbmFsZWxlbWVudHMuZm9yRWFjaChpbnN0cnVjdGlvbmFsZWxlbWVudCA9PiB7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGluc3RydWN0aW9uYWxlbGVtZW50LmZrX2luc3RydWN0aW9uYWxlbGVtZW50dHlwZS5zcGxpdCgiLyIpWzRdICE9PSA0CiAgICAgICAgICApIHsKICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICBpZDogaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudXJsLAogICAgICAgICAgICAgIG5hbWU6ICJbSU5TVFJVQ1RJT05BTCBFTEVNRU5UXSAiICsgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQubGFiZWwsCiAgICAgICAgICAgICAgdmlzaWJsZTogaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudmlzaWJsZQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLnRyZWVEYXRhLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7CiAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGluZGV4bW9kdWxvKys7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kb21haW4ubW9kdWxlcykgJiYgdGhpcy5kb21haW4ubW9kdWxlcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmRvbWFpbi5tb2R1bGVzLmZvckVhY2gobW9kdWxvID0+IHsKICAgICAgICAgIGlmIChtb2R1bG8uZmtfaWRtb2R1bGUgPT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIGluZGV4c3VibW9kdWxvID0gMDsKICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICBpZDogbW9kdWxvLnVybCwKICAgICAgICAgICAgICBuYW1lOiAiW01PRFVMT10gIiArIG1vZHVsby5uYW1lbW9kdWxlLAogICAgICAgICAgICAgIHZpc2libGU6IG1vZHVsby52aXNpYmxlLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLnRyZWVEYXRhLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0LmlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsKICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1vZHVsby5tb2JpbGVtZWRpYXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgbW9kdWxvLm1vYmlsZW1lZGlhcy5mb3JFYWNoKG1vYmlsZW1lZGlhID0+IHsKICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBtb2JpbGVtZWRpYS51cmwsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJbTU9CSUxFTUVESUFdICIgKyBtb2JpbGVtZWRpYS5sYWJlbCwKICAgICAgICAgICAgICAgICAgdmlzaWJsZTogbW9iaWxlbWVkaWEudmlzaWJsZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbysrOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobW9kdWxvLmluc3RydWN0aW9uYWxlbGVtZW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgICBtb2R1bG8uaW5zdHJ1Y3Rpb25hbGVsZW1lbnRzLmZvckVhY2goaW5zdHJ1Y3Rpb25hbGVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbmFsZWxlbWVudC5ma19pbnN0cnVjdGlvbmFsZWxlbWVudHR5cGUuc3BsaXQoCiAgICAgICAgICAgICAgICAgICAgIi8iCiAgICAgICAgICAgICAgICAgIClbNF0gIT09IDQKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0cnVjdGlvbmFsZWxlbWVudC51cmwsCiAgICAgICAgICAgICAgICAgICAgbmFtZToKICAgICAgICAgICAgICAgICAgICAgICJbSU5TVFJVQ1RJT05BTCBFTEVNRU5UXSAiICsgaW5zdHJ1Y3Rpb25hbGVsZW1lbnQubGFiZWwsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudmlzaWJsZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEYXRhW2luZGV4bW9kdWxvXS5jaGlsZHJlbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbysrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobW9kdWxvLnN1Ym1vZHVsZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdmFyIGluZGV4Y29uY2VpdG8gPSAwOwogICAgICAgICAgICAgIG1vZHVsby5zdWJtb2R1bGVzLmZvckVhY2goc3VibW9kdWxvID0+IHsKICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBzdWJtb2R1bG8udXJsLAogICAgICAgICAgICAgICAgICBuYW1lOiAiW1NVQk1PRFVMT10gIiArIHN1Ym1vZHVsby5uYW1lbW9kdWxlLAogICAgICAgICAgICAgICAgICB2aXNpYmxlOiBzdWJtb2R1bG8udmlzaWJsZSwKICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW4ucHVzaChvYmplY3QpOwogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgdGV4dDogb2JqZWN0Lm5hbWUsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxvLm1vYmlsZW1lZGlhcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgc3VibW9kdWxvLm1vYmlsZW1lZGlhcy5mb3JFYWNoKG1vYmlsZW1lZGlhID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgICAgaWQ6IG1vYmlsZW1lZGlhLnVybCwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbTU9CSUxFTUVESUFdICIgKyBtb2JpbGVtZWRpYS5sYWJlbCwKICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IG1vYmlsZW1lZGlhLnZpc2libGUKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWwogICAgICAgICAgICAgICAgICAgICAgaW5kZXhzdWJtb2R1bG8KICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaW5kZXhjb25jZWl0bysrOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoc3VibW9kdWxvLmluc3RydWN0aW9uYWxlbGVtZW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgc3VibW9kdWxvLmluc3RydWN0aW9uYWxlbGVtZW50cy5mb3JFYWNoKAogICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uYWxlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0cnVjdGlvbmFsZWxlbWVudC51cmwsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgIltJTlNUUlVDVElPTkFMIEVMRU1FTlRdICIgKwogICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uYWxlbGVtZW50LmxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBpbnN0cnVjdGlvbmFsZWxlbWVudC52aXNpYmxlCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW5bCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4c3VibW9kdWxvCiAgICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvKys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChzdWJtb2R1bG8uY29uY2VwdHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIHN1Ym1vZHVsby5jb25jZXB0cy5mb3JFYWNoKGNvbmNlaXRvID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbmNlaXRvLnVybCwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbQ09OQ0VJVE9dICIgKyBjb25jZWl0by5uYW1lY29uY2VwdCwKICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGNvbmNlaXRvLnZpc2libGUsCiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWwogICAgICAgICAgICAgICAgICAgICAgaW5kZXhzdWJtb2R1bG8KICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG9iamVjdC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9iamVjdC5pZAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmNlaXRvLm1vYmlsZW1lZGlhcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbmNlaXRvLm1vYmlsZW1lZGlhcy5mb3JFYWNoKG1vYmlsZW1lZGlhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbW9iaWxlbWVkaWEudXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJbTU9CSUxFTUVESUFdICIgKyBtb2JpbGVtZWRpYS5sYWJlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBtb2JpbGVtZWRpYS52aXNpYmxlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWwogICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4c3VibW9kdWxvCiAgICAgICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW5baW5kZXhjb25jZWl0b10uY2hpbGRyZW4ucHVzaChvYmplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LnZpc2libGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmNlaXRvLmluc3RydWN0aW9uYWxlbGVtZW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbmNlaXRvLmluc3RydWN0aW9uYWxlbGVtZW50cy5mb3JFYWNoKAogICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbmFsZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0cnVjdGlvbmFsZWxlbWVudC51cmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiW0lOU1RSVUNUSU9OQUwgRUxFTUVOVF0gIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uYWxlbGVtZW50LmxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudmlzaWJsZQogICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW5bCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbwogICAgICAgICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW5baW5kZXhjb25jZWl0b10uY2hpbGRyZW4ucHVzaChvYmplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChjb25jZWl0by5pbmZvcm1hdGlvbml0ZW1zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgY29uY2VpdG8uaW5mb3JtYXRpb25pdGVtcy5mb3JFYWNoKHByb2NlZHVyZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmUuZmtfaW5mb3JtYXRpb25pdGVtdHlwZSA9PT0KICAgICAgICAgICAgICAgICAgICAgICAgICAiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2luZm9ybWF0aW9uaXRlbXR5cGUvNC8iCiAgICAgICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcHJvY2VkdXJlLnVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJbUFJPQ0VESU1FTlRPXSAiICsgcHJvY2VkdXJlLm5hbWVpbmZvcm1hdGlvbml0ZW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBwcm9jZWR1cmUudmlzaWJsZQogICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW5bCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleHN1Ym1vZHVsbwogICAgICAgICAgICAgICAgICAgICAgICAgIF0uY2hpbGRyZW5baW5kZXhjb25jZWl0b10uY2hpbGRyZW4ucHVzaChvYmplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChvYmplY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvKys7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5kZXhzdWJtb2R1bG8rKzsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobW9kdWxvLmNvbmNlcHRzLmxlbmd0aCkgewogICAgICAgICAgICAgIGlmIChpbmRleHN1Ym1vZHVsbyA+IDApIHsKICAgICAgICAgICAgICAgIGluZGV4Y29uY2VpdG8gPSBpbmRleHN1Ym1vZHVsbzsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaW5kZXhjb25jZWl0byA9IDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIG1vZHVsby5jb25jZXB0cy5mb3JFYWNoKGNvbmNlaXRvID0+IHsKICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBjb25jZWl0by51cmwsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJbQ09OQ0VJVE9dICIgKyBjb25jZWl0by5uYW1lY29uY2VwdCwKICAgICAgICAgICAgICAgICAgdmlzaWJsZTogY29uY2VpdG8udmlzaWJsZSwKICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW4ucHVzaChvYmplY3QpOwoKICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudERhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgIHRleHQ6IG9iamVjdC5uYW1lLAogICAgICAgICAgICAgICAgICB2YWx1ZTogb2JqZWN0LmlkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGNvbmNlaXRvLm1vYmlsZW1lZGlhcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgY29uY2VpdG8ubW9iaWxlbWVkaWFzLmZvckVhY2gobW9iaWxlbWVkaWEgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICBpZDogbW9iaWxlbWVkaWEudXJsLAogICAgICAgICAgICAgICAgICAgICAgbmFtZTogIltNT0JJTEVNRURJQV0gIiArIG1vYmlsZW1lZGlhLmxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogbW9iaWxlbWVkaWEudmlzaWJsZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YVtpbmRleG1vZHVsb10uY2hpbGRyZW5bCiAgICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvCiAgICAgICAgICAgICAgICAgICAgXS5jaGlsZHJlbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC52aXNpYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoY29uY2VpdG8uaW5zdHJ1Y3Rpb25hbGVsZW1lbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBjb25jZWl0by5pbnN0cnVjdGlvbmFsZWxlbWVudHMuZm9yRWFjaCgKICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbmFsZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgICAgICBpZDogaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudXJsLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOgogICAgICAgICAgICAgICAgICAgICAgICAgICJbSU5TVFJVQ1RJT05BTCBFTEVNRU5UXSAiICsKICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbmFsZWxlbWVudC5sYWJlbCwKICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogaW5zdHJ1Y3Rpb25hbGVsZW1lbnQudmlzaWJsZQogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWwogICAgICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvCiAgICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChjb25jZWl0by5pbmZvcm1hdGlvbml0ZW1zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBjb25jZWl0by5pbmZvcm1hdGlvbml0ZW1zLmZvckVhY2gocHJvY2VkdXJlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmUuZmtfaW5mb3JtYXRpb25pdGVtdHlwZSA9PT0KICAgICAgICAgICAgICAgICAgICAgICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvaW5mb3JtYXRpb25pdGVtdHlwZS80LyIKICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwcm9jZWR1cmUudXJsLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiW1BST0NFRElNRU5UT10gIiArIHByb2NlZHVyZS5uYW1laW5mb3JtYXRpb25pdGVtLAogICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBwcm9jZWR1cmUudmlzaWJsZQogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZURhdGFbaW5kZXhtb2R1bG9dLmNoaWxkcmVuWwogICAgICAgICAgICAgICAgICAgICAgICBpbmRleGNvbmNlaXRvCiAgICAgICAgICAgICAgICAgICAgICBdLmNoaWxkcmVuLnB1c2gob2JqZWN0KTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QudmlzaWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5wdXNoKG9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGluZGV4Y29uY2VpdG8rKzsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbmRleG1vZHVsbysrOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgcG9zdEFzc2Vzc21lbnQoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBoZWFkZXIgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0SGVhZGVyIik7CiAgICAgIGF3YWl0IHRoaXMuYXNzZXNzbWVudENvbnRyb2wuZm9yRWFjaChhc3luYyBhc3Nlc3NtZW50ID0+IHsKICAgICAgICB2YXIgYXV4QXNzZXNzbWVudCA9IHsKICAgICAgICAgIHR5cGV0aHJlc2hvbGQ6CiAgICAgICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvdHlwZXRocmVzaG9sZC9gICsKICAgICAgICAgICAgYXNzZXNzbWVudC50eXBlVGhyZXNob2xkICsKICAgICAgICAgICAgYC9gLAogICAgICAgICAgc2NvcG86IGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvc2NvcG8vYCArIGFzc2Vzc21lbnQuc2NvcG8gKyBgL2AsCiAgICAgICAgICBma19pZGtub3dsZWRnZWRvbWFpbjogbnVsbCwKICAgICAgICAgIGZrX2lkbW9kdWxlOiBudWxsLAogICAgICAgICAgZmtfaWRjb25jZXB0OiBudWxsCiAgICAgICAgfTsKICAgICAgICBpZiAoYXNzZXNzbWVudC5zY29wbyA9PT0gMikgewogICAgICAgICAgYXV4QXNzZXNzbWVudC50eXBldGhyZXNob2xkID0gYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC90eXBldGhyZXNob2xkLzEvYDsKICAgICAgICB9CiAgICAgICAgaWYgKGFzc2Vzc21lbnQuZmtfZWxlbWVudC5zcGxpdCgiLyIpWzNdID09PSAia25vd2xlZGdlZG9tYWluIikgewogICAgICAgICAgYXV4QXNzZXNzbWVudC5ma19pZGtub3dsZWRnZWRvbWFpbiA9IGFzc2Vzc21lbnQuZmtfZWxlbWVudDsKICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzc21lbnQuZmtfZWxlbWVudC5zcGxpdCgiLyIpWzNdID09PSAibW9kdWxlIikgewogICAgICAgICAgYXV4QXNzZXNzbWVudC5ma19pZG1vZHVsZSA9IGFzc2Vzc21lbnQuZmtfZWxlbWVudDsKICAgICAgICB9IGVsc2UgaWYgKGFzc2Vzc21lbnQuZmtfZWxlbWVudC5zcGxpdCgiLyIpWzNdID09PSAiY29uY2VwdCIpIHsKICAgICAgICAgIGF1eEFzc2Vzc21lbnQuZmtfaWRjb25jZXB0ID0gYXNzZXNzbWVudC5ma19lbGVtZW50OwogICAgICAgIH0KICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hc3Nlc3NtZW50cGFyYW1ldGVyLyIsCiAgICAgICAgICAgIGF1eEFzc2Vzc21lbnQsCiAgICAgICAgICAgIGhlYWRlcgogICAgICAgICAgKQogICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgaWYgKHJlc3Bvc3RhLmRhdGEuc2NvcG8gPT09IGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvc2NvcG8vMS9gKSB7CiAgICAgICAgICAgICAgaWYgKGFzc2Vzc21lbnQudmFsdWVUeXBlID09PSAiU2luZ2xlIikgewogICAgICAgICAgICAgICAgYXdhaXQgdm0uYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9zaW5nbGUvIiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGZrX2lkYXNzZXNzbWVudHBhcmFtZXRlcjogcmVzcG9zdGEuZGF0YS51cmwsCiAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOiBhc3Nlc3NtZW50LnNpbmdsZS50aHJlc2hvbGQKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgaGVhZGVyCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzZXNzbWVudC52YWx1ZVR5cGUgPT09ICJSYW5nZSIpIHsKICAgICAgICAgICAgICAgIGFzc2Vzc21lbnQucmFuZ2VzLmZvckVhY2goYXN5bmMgcmFuZ2UgPT4gewogICAgICAgICAgICAgICAgICBhd2FpdCB2bS5heGlvcy5wb3N0KAogICAgICAgICAgICAgICAgICAgICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvcmFuZ2UvIiwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lcmFuZ2U6IHJhbmdlLm5hbWVyYW5nZSwKICAgICAgICAgICAgICAgICAgICAgIGZrX2lkYXNzZXNzbWVudHBhcmFtZXRlcjogcmVzcG9zdGEuZGF0YS51cmwsCiAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsdmFsdWU6IHJhbmdlLmluaXRpYWx2YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgIGxpbWl0dmFsdWU6IHJhbmdlLmxpbWl0dmFsdWUKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGhlYWRlcgogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHJlc3Bvc3RhLmRhdGEuc2NvcG8gPT09IGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvc2NvcG8vMi9gCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGF3YWl0IHZtLmF4aW9zLnBvc3QoCiAgICAgICAgICAgICAgICAiaHR0cDovLzEyNy4wLjAuMTo4MDAwL3NpbmdsZS8iLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBma19pZGFzc2Vzc21lbnRwYXJhbWV0ZXI6IHJlc3Bvc3RhLmRhdGEudXJsLAogICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IGFzc2Vzc21lbnQuc2luZ2xlLnRocmVzaG9sZAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGhlYWRlcgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBwdXRWaXNpYmxlKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgY3NyZnRva2VuID0gQ29va2llLmdldCgiY3NyZnRva2VuIik7CiAgICAgIHZhciBoZWFkZXJzID0gewogICAgICAgICJYLUNTUkZUT0tFTiI6IGNzcmZ0b2tlbgogICAgICB9OwogICAgICB0aGlzLnRyZWVEYXRhLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgaWYgKAogICAgICAgICAgZWxlbWVudC52aXNpYmxlID09PSB0cnVlICYmCiAgICAgICAgICAhdGhpcy5zZWxlY3Rpb24uZmluZChmaW5kRWxlbWVudCA9PiBmaW5kRWxlbWVudC5pZCA9PT0gZWxlbWVudC5pZCkKICAgICAgICApIHsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wYXRjaCgKICAgICAgICAgICAgICBlbGVtZW50LmlkLAogICAgICAgICAgICAgIHsgaGVhZGVyczogaGVhZGVycyB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7CiAgICAgICAgICAgICAgYXdhaXQgT2JqZWN0LmtleXMoYXV4KS5mb3JFYWNoKGF0cmlidXRvID0+IHsKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGF1eFthdHJpYnV0b10pKSB7CiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvWzBdICsgYXRyaWJ1dG9bMV0gPT09ICJpZCIpIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidmlzaWJsZSIpIHsKICAgICAgICAgICAgICAgICAgYXV4LnZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoZWxlbWVudC5pZCwgYXV4LCB7CiAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgZWxlbWVudC52aXNpYmxlID09PSBmYWxzZSAmJgogICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZmluZChmaW5kRWxlbWVudCA9PiBmaW5kRWxlbWVudC5pZCA9PT0gZWxlbWVudC5pZCkKICAgICAgICApIHsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wYXRjaCgKICAgICAgICAgICAgICBlbGVtZW50LmlkLAogICAgICAgICAgICAgIHsgaGVhZGVyczogaGVhZGVycyB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7CiAgICAgICAgICAgICAgYXdhaXQgT2JqZWN0LmtleXMoYXV4KS5mb3JFYWNoKGF0cmlidXRvID0+IHsKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGF1eFthdHJpYnV0b10pKSB7CiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvWzBdICsgYXRyaWJ1dG9bMV0gPT09ICJpZCIpIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidmlzaWJsZSIpIHsKICAgICAgICAgICAgICAgICAgYXV4LnZpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dChlbGVtZW50LmlkLCBhdXgsIHsKICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50LmNoaWxkcmVuKSAmJiBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnQyID0+IHsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGVsZW1lbnQyLnZpc2libGUgPT09IHRydWUgJiYKICAgICAgICAgICAgICAhdGhpcy5zZWxlY3Rpb24uZmluZCgKICAgICAgICAgICAgICAgIGZpbmRFbGVtZW50MiA9PiBmaW5kRWxlbWVudDIuaWQgPT09IGVsZW1lbnQyLmlkCiAgICAgICAgICAgICAgKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgLnBhdGNoKAogICAgICAgICAgICAgICAgICBlbGVtZW50Mi5pZCwKICAgICAgICAgICAgICAgICAgeyBoZWFkZXJzOiBoZWFkZXJzIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbihyZXNwb3N0YSkgewogICAgICAgICAgICAgICAgICB2YXIgYXV4ID0gcmVzcG9zdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgYXdhaXQgT2JqZWN0LmtleXMoYXV4KS5mb3JFYWNoKGF0cmlidXRvID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdXhbYXRyaWJ1dG9dKSkgewogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsKICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG9bMF0gKyBhdHJpYnV0b1sxXSA9PT0gImlkIikgewogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInZpc2libGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICBhdXgudmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoZWxlbWVudDIuaWQsIGF1eCwgewogICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgZWxlbWVudDIudmlzaWJsZSA9PT0gZmFsc2UgJiYKICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5maW5kKAogICAgICAgICAgICAgICAgZmluZEVsZW1lbnQyID0+IGZpbmRFbGVtZW50Mi5pZCA9PT0gZWxlbWVudDIuaWQKICAgICAgICAgICAgICApCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAucGF0Y2goCiAgICAgICAgICAgICAgICAgIGVsZW1lbnQyLmlkLAogICAgICAgICAgICAgICAgICB7IGhlYWRlcnM6IGhlYWRlcnMgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgICAgIHZhciBhdXggPSByZXNwb3N0YS5kYXRhOwogICAgICAgICAgICAgICAgICBhd2FpdCBPYmplY3Qua2V5cyhhdXgpLmZvckVhY2goYXRyaWJ1dG8gPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGF1eFthdHJpYnV0b10pKSB7CiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidXJsIikgewogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0b1swXSArIGF0cmlidXRvWzFdID09PSAiaWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidmlzaWJsZSIpIHsKICAgICAgICAgICAgICAgICAgICAgIGF1eC52aXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucHV0KGVsZW1lbnQyLmlkLCBhdXgsIHsKICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50Mi5jaGlsZHJlbikgJiYgZWxlbWVudDIuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgZWxlbWVudDIuY2hpbGRyZW4uZm9yRWFjaChlbGVtZW50MyA9PiB7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgIGVsZW1lbnQzLnZpc2libGUgPT09IHRydWUgJiYKICAgICAgICAgICAgICAgICAgIXRoaXMuc2VsZWN0aW9uLmZpbmQoCiAgICAgICAgICAgICAgICAgICAgZmluZEVsZW1lbnQzID0+IGZpbmRFbGVtZW50My5pZCA9PT0gZWxlbWVudDMuaWQKICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAgICAgLnBhdGNoKAogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDMuaWQsCiAgICAgICAgICAgICAgICAgICAgICB7IGhlYWRlcnM6IGhlYWRlcnMgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24ocmVzcG9zdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBhdXggPSByZXNwb3N0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgT2JqZWN0LmtleXMoYXV4KS5mb3JFYWNoKGF0cmlidXRvID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXV4W2F0cmlidXRvXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0b1swXSArIGF0cmlidXRvWzFdID09PSAiaWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ2aXNpYmxlIikgewogICAgICAgICAgICAgICAgICAgICAgICAgIGF1eC52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucHV0KGVsZW1lbnQzLmlkLCBhdXgsIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgICAgZWxlbWVudDMudmlzaWJsZSA9PT0gZmFsc2UgJiYKICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZmluZCgKICAgICAgICAgICAgICAgICAgICBmaW5kRWxlbWVudDMgPT4gZmluZEVsZW1lbnQzLmlkID09PSBlbGVtZW50My5pZAogICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgICAucGF0Y2goCiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50My5pZCwKICAgICAgICAgICAgICAgICAgICAgIHsgaGVhZGVyczogaGVhZGVycyB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbihyZXNwb3N0YSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBPYmplY3Qua2V5cyhhdXgpLmZvckVhY2goYXRyaWJ1dG8gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdXhbYXRyaWJ1dG9dKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidXJsIikgewogICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvWzBdICsgYXRyaWJ1dG9bMV0gPT09ICJpZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInZpc2libGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4LnZpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnB1dChlbGVtZW50My5pZCwgYXV4LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZWxlbWVudDMuY2hpbGRyZW4pICYmCiAgICAgICAgICAgICAgICAgIGVsZW1lbnQzLmNoaWxkcmVuLmxlbmd0aAogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgIGVsZW1lbnQzLmNoaWxkcmVuLmZvckVhY2goZWxlbWVudDQgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ0LnZpc2libGUgPT09IHRydWUgJiYKICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnNlbGVjdGlvbi5maW5kKAogICAgICAgICAgICAgICAgICAgICAgICBmaW5kRWxlbWVudDQgPT4gZmluZEVsZW1lbnQ0LmlkID09PSBlbGVtZW50NC5pZAogICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgICAgICAgLnBhdGNoKAogICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ0LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIHsgaGVhZGVyczogaGVhZGVycyB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiYWRtaW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIGZ1bmN0aW9uKHJlc3Bvc3RhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF1eCA9IHJlc3Bvc3RhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgT2JqZWN0LmtleXMoYXV4KS5mb3JFYWNoKGF0cmlidXRvID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGF1eFthdHJpYnV0b10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInVybCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvWzBdICsgYXRyaWJ1dG9bMV0gPT09ICJpZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF1eFthdHJpYnV0b107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0cmlidXRvID09PSAidmlzaWJsZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4LnZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50NC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50NC52aXNpYmxlID09PSBmYWxzZSAmJgogICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZmluZCgKICAgICAgICAgICAgICAgICAgICAgICAgZmluZEVsZW1lbnQ0ID0+IGZpbmRFbGVtZW50NC5pZCA9PT0gZWxlbWVudDQuaWQKICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAgICAgICAgIC5wYXRjaCgKICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50NC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICB7IGhlYWRlcnM6IGhlYWRlcnMgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogImFkbWluIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbihyZXNwb3N0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdXggPSByZXNwb3N0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IE9iamVjdC5rZXlzKGF1eCkuZm9yRWFjaChhdHJpYnV0byA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhdXhbYXRyaWJ1dG9dKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXV4W2F0cmlidXRvXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXRyaWJ1dG8gPT09ICJ1cmwiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0b1swXSArIGF0cmlidXRvWzFdID09PSAiaWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdXhbYXRyaWJ1dG9dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHJpYnV0byA9PT0gInZpc2libGUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1eC52aXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50NC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGF3YWl0IHNldFRpbWVvdXQoYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgICAgdm0uJGVtaXQoImNsb3NlX29yX3NhdmUiLCAiY2xvc2UiKTsKICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICBkZXNlbGVjdEFsbCgpIHsKICAgICAgdGhpcy5zZWxlY3Rpb24gPSBbXTsKICAgIH0sCiAgICBzZWxlY3RBbGwoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHRoaXMuc2VsZWN0aW9uID0gW107CiAgICAgIHRoaXMudHJlZURhdGEuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICB2bS5zZWxlY3Rpb24ucHVzaChlbGVtZW50KTsKICAgICAgICBpZiAoZWxlbWVudC5jaGlsZHJlbikgewogICAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnQyID0+IHsKICAgICAgICAgICAgdm0uc2VsZWN0aW9uLnB1c2goZWxlbWVudDIpOwogICAgICAgICAgICBpZiAoZWxlbWVudDIuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICBlbGVtZW50Mi5jaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnQzID0+IHsKICAgICAgICAgICAgICAgIHZtLnNlbGVjdGlvbi5wdXNoKGVsZW1lbnQzKTsKICAgICAgICAgICAgICAgIGlmIChlbGVtZW50My5jaGlsZHJlbikgewogICAgICAgICAgICAgICAgICBlbGVtZW50My5jaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnQ0ID0+IHsKICAgICAgICAgICAgICAgICAgICB2bS5zZWxlY3Rpb24ucHVzaChlbGVtZW50NCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFJhbmdlKGlkQXNzZXNzbWVudCkgewogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzLnB1c2goewogICAgICAgIG5hbWVyYW5nZTogIiIsCiAgICAgICAgaW5pdGlhbHZhbHVlOiAiIiwKICAgICAgICBsaW1pdHZhbHVlOiAiIiwKICAgICAgICB1cmw6ICIiCiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGRlbGV0YVJhbmdlKGlkQXNzZXNzbWVudCwgaWRSYW5nZSkgewogICAgICAvLyBpZiAodGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnJhbmdlc1tpZFJhbmdlXS51cmwgIT09IG51bGwpIHsKICAgICAgLy8gICB2YXIgaGVhZGVyID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEhlYWRlciIpOwogICAgICAvLyAgIHRoaXMuYXhpb3MuZGVsZXRlKAogICAgICAvLyAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnJhbmdlc1tpZFJhbmdlXS51cmwsCiAgICAgIC8vICAgICBoZWFkZXIKICAgICAgLy8gICApOwogICAgICAvLyB9CiAgICAgIGlmIChpZFJhbmdlID09IDApIHsKICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sW2lkQXNzZXNzbWVudF0ucmFuZ2VzLnNoaWZ0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnJhbmdlcy5zcGxpY2UoaWRSYW5nZSwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRBc3Nlc3NtZW50KCkgewogICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnB1c2goewogICAgICAgIHR5cGVUaHJlc2hvbGQ6ICIiLAogICAgICAgIHNjb3BvOiAiIiwKICAgICAgICBma19lbGVtZW50OiAiIiwKICAgICAgICB2YWx1ZVR5cGU6ICIiLAogICAgICAgIHNpbmdsZTogewogICAgICAgICAgdGhyZXNob2xkOiAiIiwKICAgICAgICAgIHVybDogIiIKICAgICAgICB9LAogICAgICAgIHJhbmdlczogW10sCiAgICAgICAgdXJsOiAiIgogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBkZWxldGFBc3Nlc3NtZW50KGlkQXNzZXNzbWVudCkgewogICAgICAvLyBpZiAodGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnVybCAhPT0gbnVsbCkgewogICAgICAvLyAgIHZhciBoZWFkZXIgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0SGVhZGVyIik7CiAgICAgIC8vICAgdGhpcy5heGlvcy5kZWxldGUodGhpcy5hc3Nlc3NtZW50Q29udHJvbFtpZEFzc2Vzc21lbnRdLnVybCwgaGVhZGVyKTsKICAgICAgLy8gfQogICAgICBpZiAoaWRBc3Nlc3NtZW50ID09IDApIHsKICAgICAgICB0aGlzLmFzc2Vzc21lbnRDb250cm9sLnNoaWZ0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hc3Nlc3NtZW50Q29udHJvbC5zcGxpY2UoaWRBc3Nlc3NtZW50LCAxKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHZhbGlkYXRlKCkgewogICAgICBhd2FpdCB0aGlzLnB1dFZpc2libGUoKTsKICAgICAgYXdhaXQgdGhpcy5wb3N0QXNzZXNzbWVudCgpOwogICAgfSwKICAgIHJlc2V0KCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZV9vcl9zYXZlIiwgImNsb3NlIik7CiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["VisibleDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VisibleDialog.vue","sourceRoot":"src/components/didatic_model","sourcesContent":["<template>\n  <v-card>\n    <v-card-title style=\"background-color:purple; color:white;\">\n      <span class=\"headline\">\n        <p>Defina as informações equivalentes ao modelo didático.</p>\n      </span>\n    </v-card-title>\n    <v-row style=\"width : 100%\">\n      <v-col cols=\"4\">\n        <v-card-text>\n          <v-row class=\"ml-2\">\n            <v-btn\n              color=\"warning\"\n              height=\"40px\"\n              dark\n              x-small\n              small\n              @click=\"deselectAll()\"\n            >Deselecionar tudo</v-btn>\n            <v-btn\n              class=\"ml-1\"\n              color=\"primary\"\n              height=\"40\"\n              dark\n              small\n              @click=\"selectAll()\"\n            >Selecionar tudo</v-btn>\n          </v-row>\n\n          <v-treeview\n            @update:active=\"test\"\n            v-model=\"selection\"\n            :selection-type=\"'independent'\"\n            :items=\"treeData\"\n            return-object\n            selectable\n            selected-color=\"success\"\n          ></v-treeview>\n        </v-card-text>\n      </v-col>\n      <v-col cols=\"8\">\n        <v-row>\n          <h3 class=\"mt-5\">Parâmetros de avaliação</h3>\n          <v-btn icon=\"icon\" class=\"mb-1\">\n            <v-icon large class=\"mt-9 ml-2\" color=\"primary\" @click=\"addAssessment()\">mdi-plus-box</v-icon>\n          </v-btn>\n        </v-row>\n        <v-row v-for=\"(assessment, i) in assessmentControl\" :key=\"i\" style=\"margin-bottom: -20px;\">\n          <v-col cols=\"2\">\n            <v-select\n              v-model=\"assessmentControl[i].scopo\"\n              :items=\"scopoTypes\"\n              :rules=\"[v => !!v || 'Conceito é requerido']\"\n              label=\"Scopo\"\n              style=\"margin:0px;\"\n              required\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-select\n              v-model=\"assessmentControl[i].fk_element\"\n              :items=\"elementData\"\n              :rules=\"[v => !!v || 'O tipo do conceito é requerido']\"\n              label=\"Elemento\"\n              style=\"margin:0px;\"\n              required\n            ></v-select>\n          </v-col>\n          <v-col cols=\"3\" v-if=\"assessmentControl[i].scopo===1\">\n            <v-select\n              v-model=\"assessmentControl[i].typeThreshold\"\n              :items=\"typesThreshold\"\n              :rules=\"[v => !!v || 'O tipo do conceito é requerido']\"\n              label=\"Tipo de Threshold\"\n              style=\"margin:0px;\"\n              required\n            ></v-select>\n          </v-col>\n          <v-col cols=\"2\" v-if=\"assessmentControl[i].scopo\">\n            <v-select\n              style=\"margin-top: -1px;\"\n              v-if=\"assessmentControl[i].scopo===1\"\n              v-model=\"assessmentControl[i].valueType\"\n              :items=\"valueTypes\"\n              :rules=\"[v => !!v || 'O tipo de dado é requerido']\"\n              label=\"Tipo de Dado\"\n              required\n            ></v-select>\n            <v-text-field\n              style=\"margin-top: -1px; margin-bottom: -10px;\"\n              v-if=\"assessmentControl[i].scopo===2 || assessmentControl[i].valueType==='Single'\"\n              v-model=\"assessmentControl[i].single.threshold\"\n              label=\"Valor\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col cols=\"2\" class=\"mt-2\">\n            <v-btn icon=\"icon\" class=\"mb-1\" v-if=\"assessmentControl[i].valueType==='Range'\">\n              <v-icon large class=\"mb-1\" color=\"primary\" @click=\"addRange(i)\">mdi-plus-box</v-icon>\n            </v-btn>\n            <v-btn icon=\"icon\" class=\"mb-1\">\n              <v-icon large class=\"mb-1\" color=\"red\" @click=\"deletaAssessment(i)\">mdi-minus-box</v-icon>\n            </v-btn>\n          </v-col>\n          <v-row v-if=\"assessmentControl[i].valueType === 'Single'\" style=\"margin-top: -40px;\">\n            <v-col cols=\"7\"></v-col>\n            <v-col cols=\"2\" class=\"ml-10\"></v-col>\n          </v-row>\n          <div v-else>\n            <v-row\n              v-for=\"(range, idRange) in assessment.ranges\"\n              :key=\"idRange\"\n              style=\"margin-top: -30px;\"\n            >\n              <v-col cols=\"3\"></v-col>\n              <v-col cols=\"3\">\n                <v-text-field\n                  v-model=\"assessmentControl[i].ranges[idRange].namerange\"\n                  counter=\"15\"\n                  label=\"Nome do range\"\n                  style=\"margin:0px;\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"2\">\n                <v-text-field\n                  v-model=\"assessmentControl[i].ranges[idRange].initialvalue\"\n                  label=\"Valor inicial\"\n                  style=\"margin:0px;\"\n                  type=\"number\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"2\">\n                <v-text-field\n                  v-model=\"assessmentControl[i].ranges[idRange].limitvalue\"\n                  label=\"Valor Limite\"\n                  style=\"margin:0px;\"\n                  type=\"number\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"1\">\n                <v-btn icon=\"icon\" class=\"mt-4\">\n                  <v-icon\n                    large\n                    class=\"mb-1\"\n                    color=\"red\"\n                    @click=\"deletaRange(i, idRange)\"\n                  >mdi-minus-box</v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n          </div>\n        </v-row>\n      </v-col>\n    </v-row>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn color=\"red\" height=\"49\" dark large @click=\"reset\">\n        Close\n        <v-icon dark right>mdi-close</v-icon>\n      </v-btn>\n      <v-btn color=\"success\" height=\"49\" dark large @click=\"validate\">\n        Save\n        <v-icon dark right>mdi-content-save</v-icon>\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\nexport default {\n  name: \"VisibleDialog\",\n  props: [\"domain\", \"dialog\"],\n  data: () => ({\n    valid: true,\n    treeData: [],\n    elementData: [],\n    selection: [],\n    scopoTypes: [\n      {\n        text: \"Avaliação\",\n        value: 1\n      },\n      {\n        text: \"Domínio\",\n        value: 2\n      }\n    ],\n    typesThreshold: [\n      {\n        text: \"Porcentagem\",\n        value: 1\n      },\n      {\n        text: \"Literal\",\n        value: 2\n      }\n    ],\n    valueTypes: [\"Single\", \"Range\"],\n    assessmentControl: [],\n    newItems: [],\n    checkbox: true\n  }),\n  watch: {\n    domain: async function() {\n      if (this.domain) {\n        this.treeData = [];\n        this.selection = [];\n        await this.setDomainVariables();\n      }\n    },\n    assessmentControl: function() {\n      this.assessmentControl.forEach(assess => {\n        if (assess.valueType === \"Single\") {\n          assess.ranges = [];\n        } else if (assess.valueType === \"Range\") {\n          assess.single.threshold = \"\";\n        }\n      });\n    }\n  },\n  methods: {\n    test(value) {\n      if (value.length) {\n        if (value[0].split(\"/\")[5] === \"sub\") {\n          this.$emit(\"type\", { type: \"submodulo\", url: value[0] });\n        } else {\n          this.$emit(\"type\", { type: value[0].split(\"/\")[3], url: value[0] });\n        }\n      }\n    },\n    setDomainVariables() {\n      this.treeData = [];\n      this.elementData.push({\n        text: \"[DOMINIO] \" + this.domain.nameknowledgedomain,\n        value: this.domain.url\n      });\n      var indexmodulo = 0;\n      if (this.domain.mobilemedias.length) {\n        this.domain.mobilemedias.forEach(mobilemedia => {\n          var object = {\n            id: mobilemedia.url,\n            name: \"[MOBILEMEDIA] \" + mobilemedia.label,\n            visible: mobilemedia.visible\n          };\n          this.treeData.push(object);\n          if (object.visible) {\n            this.selection.push(object);\n          }\n          indexmodulo++;\n        });\n      }\n      if (this.domain.instructionalelements.length) {\n        this.domain.instructionalelements.forEach(instructionalelement => {\n          if (\n            instructionalelement.fk_instructionalelementtype.split(\"/\")[4] !== 4\n          ) {\n            var object = {\n              id: instructionalelement.url,\n              name: \"[INSTRUCTIONAL ELEMENT] \" + instructionalelement.label,\n              visible: instructionalelement.visible\n            };\n            this.treeData.push(object);\n            if (object.visible) {\n              this.selection.push(object);\n            }\n            indexmodulo++;\n          }\n        });\n      }\n      if (Array.isArray(this.domain.modules) && this.domain.modules.length) {\n        this.domain.modules.forEach(modulo => {\n          if (modulo.fk_idmodule === null) {\n            var indexsubmodulo = 0;\n            var object = {\n              id: modulo.url,\n              name: \"[MODULO] \" + modulo.namemodule,\n              visible: modulo.visible,\n              children: []\n            };\n            this.treeData.push(object);\n            this.elementData.push({\n              text: object.name,\n              value: object.id\n            });\n            if (object.visible) {\n              this.selection.push(object);\n            }\n            if (modulo.mobilemedias.length) {\n              modulo.mobilemedias.forEach(mobilemedia => {\n                var object = {\n                  id: mobilemedia.url,\n                  name: \"[MOBILEMEDIA] \" + mobilemedia.label,\n                  visible: mobilemedia.visible\n                };\n                this.treeData[indexmodulo].children.push(object);\n                if (object.visible) {\n                  this.selection.push(object);\n                }\n                indexsubmodulo++;\n              });\n            }\n\n            if (modulo.instructionalelements.length) {\n              modulo.instructionalelements.forEach(instructionalelement => {\n                if (\n                  instructionalelement.fk_instructionalelementtype.split(\n                    \"/\"\n                  )[4] !== 4\n                ) {\n                  var object = {\n                    id: instructionalelement.url,\n                    name:\n                      \"[INSTRUCTIONAL ELEMENT] \" + instructionalelement.label,\n                    visible: instructionalelement.visible\n                  };\n                  this.treeData[indexmodulo].children.push(object);\n                  if (object.visible) {\n                    this.selection.push(object);\n                  }\n                  indexsubmodulo++;\n                }\n              });\n            }\n\n            if (modulo.submodules.length) {\n              var indexconceito = 0;\n              modulo.submodules.forEach(submodulo => {\n                var object = {\n                  id: submodulo.url,\n                  name: \"[SUBMODULO] \" + submodulo.namemodule,\n                  visible: submodulo.visible,\n                  children: []\n                };\n                this.treeData[indexmodulo].children.push(object);\n                this.elementData.push({\n                  text: object.name,\n                  value: object.id\n                });\n                if (object.visible) {\n                  this.selection.push(object);\n                }\n\n                if (submodulo.mobilemedias.length) {\n                  submodulo.mobilemedias.forEach(mobilemedia => {\n                    var object = {\n                      id: mobilemedia.url,\n                      name: \"[MOBILEMEDIA] \" + mobilemedia.label,\n                      visible: mobilemedia.visible\n                    };\n                    this.treeData[indexmodulo].children[\n                      indexsubmodulo\n                    ].children.push(object);\n                    if (object.visible) {\n                      this.selection.push(object);\n                    }\n                    indexconceito++;\n                  });\n                }\n\n                if (submodulo.instructionalelements.length) {\n                  submodulo.instructionalelements.forEach(\n                    instructionalelement => {\n                      var object = {\n                        id: instructionalelement.url,\n                        name:\n                          \"[INSTRUCTIONAL ELEMENT] \" +\n                          instructionalelement.label,\n                        visible: instructionalelement.visible\n                      };\n                      this.treeData[indexmodulo].children[\n                        indexsubmodulo\n                      ].children.push(object);\n                      if (object.visible) {\n                        this.selection.push(object);\n                      }\n                      indexconceito++;\n                    }\n                  );\n                }\n\n                if (submodulo.concepts.length) {\n                  submodulo.concepts.forEach(conceito => {\n                    var object = {\n                      id: conceito.url,\n                      name: \"[CONCEITO] \" + conceito.nameconcept,\n                      visible: conceito.visible,\n                      children: []\n                    };\n                    this.treeData[indexmodulo].children[\n                      indexsubmodulo\n                    ].children.push(object);\n\n                    this.elementData.push({\n                      text: object.name,\n                      value: object.id\n                    });\n                    if (object.visible) {\n                      this.selection.push(object);\n                    }\n\n                    if (conceito.mobilemedias.length) {\n                      conceito.mobilemedias.forEach(mobilemedia => {\n                        var object = {\n                          id: mobilemedia.url,\n                          name: \"[MOBILEMEDIA] \" + mobilemedia.label,\n                          visible: mobilemedia.visible\n                        };\n                        this.treeData[indexmodulo].children[\n                          indexsubmodulo\n                        ].children[indexconceito].children.push(object);\n                        if (object.visible) {\n                          this.selection.push(object);\n                        }\n                      });\n                    }\n\n                    if (conceito.instructionalelements.length) {\n                      conceito.instructionalelements.forEach(\n                        instructionalelement => {\n                          var object = {\n                            id: instructionalelement.url,\n                            name:\n                              \"[INSTRUCTIONAL ELEMENT] \" +\n                              instructionalelement.label,\n                            visible: instructionalelement.visible\n                          };\n                          this.treeData[indexmodulo].children[\n                            indexsubmodulo\n                          ].children[indexconceito].children.push(object);\n                          if (object.visible) {\n                            this.selection.push(object);\n                          }\n                        }\n                      );\n                    }\n\n                    if (conceito.informationitems.length) {\n                      conceito.informationitems.forEach(procedure => {\n                        if (\n                          procedure.fk_informationitemtype ===\n                          \"http://127.0.0.1:8000/informationitemtype/4/\"\n                        ) {\n                          var object = {\n                            id: procedure.url,\n                            name:\n                              \"[PROCEDIMENTO] \" + procedure.nameinformationitem,\n                            visible: procedure.visible\n                          };\n                          this.treeData[indexmodulo].children[\n                            indexsubmodulo\n                          ].children[indexconceito].children.push(object);\n                          if (object.visible) {\n                            this.selection.push(object);\n                          }\n                        }\n                      });\n                    }\n\n                    indexconceito++;\n                  });\n                }\n                indexsubmodulo++;\n              });\n            }\n            if (modulo.concepts.length) {\n              if (indexsubmodulo > 0) {\n                indexconceito = indexsubmodulo;\n              } else {\n                indexconceito = 0;\n              }\n              modulo.concepts.forEach(conceito => {\n                var object = {\n                  id: conceito.url,\n                  name: \"[CONCEITO] \" + conceito.nameconcept,\n                  visible: conceito.visible,\n                  children: []\n                };\n                this.treeData[indexmodulo].children.push(object);\n\n                this.elementData.push({\n                  text: object.name,\n                  value: object.id\n                });\n                if (object.visible) {\n                  this.selection.push(object);\n                }\n\n                if (conceito.mobilemedias.length) {\n                  conceito.mobilemedias.forEach(mobilemedia => {\n                    var object = {\n                      id: mobilemedia.url,\n                      name: \"[MOBILEMEDIA] \" + mobilemedia.label,\n                      visible: mobilemedia.visible\n                    };\n                    this.treeData[indexmodulo].children[\n                      indexconceito\n                    ].children.push(object);\n                    if (object.visible) {\n                      this.selection.push(object);\n                    }\n                  });\n                }\n\n                if (conceito.instructionalelements.length) {\n                  conceito.instructionalelements.forEach(\n                    instructionalelement => {\n                      var object = {\n                        id: instructionalelement.url,\n                        name:\n                          \"[INSTRUCTIONAL ELEMENT] \" +\n                          instructionalelement.label,\n                        visible: instructionalelement.visible\n                      };\n                      this.treeData[indexmodulo].children[\n                        indexconceito\n                      ].children.push(object);\n                      if (object.visible) {\n                        this.selection.push(object);\n                      }\n                    }\n                  );\n                }\n\n                if (conceito.informationitems.length) {\n                  conceito.informationitems.forEach(procedure => {\n                    if (\n                      procedure.fk_informationitemtype ===\n                      \"http://127.0.0.1:8000/informationitemtype/4/\"\n                    ) {\n                      var object = {\n                        id: procedure.url,\n                        name: \"[PROCEDIMENTO] \" + procedure.nameinformationitem,\n                        visible: procedure.visible\n                      };\n                      this.treeData[indexmodulo].children[\n                        indexconceito\n                      ].children.push(object);\n                      if (object.visible) {\n                        this.selection.push(object);\n                      }\n                    }\n                  });\n                }\n                indexconceito++;\n              });\n            }\n            indexmodulo++;\n          }\n        });\n      }\n    },\n    async postAssessment() {\n      var vm = this;\n      var header = await this.$store.dispatch(\"getHeader\");\n      await this.assessmentControl.forEach(async assessment => {\n        var auxAssessment = {\n          typethreshold:\n            `http://127.0.0.1:8000/typethreshold/` +\n            assessment.typeThreshold +\n            `/`,\n          scopo: `http://127.0.0.1:8000/scopo/` + assessment.scopo + `/`,\n          fk_idknowledgedomain: null,\n          fk_idmodule: null,\n          fk_idconcept: null\n        };\n        if (assessment.scopo === 2) {\n          auxAssessment.typethreshold = `http://127.0.0.1:8000/typethreshold/1/`;\n        }\n        if (assessment.fk_element.split(\"/\")[3] === \"knowledgedomain\") {\n          auxAssessment.fk_idknowledgedomain = assessment.fk_element;\n        } else if (assessment.fk_element.split(\"/\")[3] === \"module\") {\n          auxAssessment.fk_idmodule = assessment.fk_element;\n        } else if (assessment.fk_element.split(\"/\")[3] === \"concept\") {\n          auxAssessment.fk_idconcept = assessment.fk_element;\n        }\n        await this.axios\n          .post(\n            \"http://127.0.0.1:8000/assessmentparameter/\",\n            auxAssessment,\n            header\n          )\n          .then(async function(resposta) {\n            if (resposta.data.scopo === `http://127.0.0.1:8000/scopo/1/`) {\n              if (assessment.valueType === \"Single\") {\n                await vm.axios.post(\n                  \"http://127.0.0.1:8000/single/\",\n                  {\n                    fk_idassessmentparameter: resposta.data.url,\n                    threshold: assessment.single.threshold\n                  },\n                  header\n                );\n              } else if (assessment.valueType === \"Range\") {\n                assessment.ranges.forEach(async range => {\n                  await vm.axios.post(\n                    \"http://127.0.0.1:8000/range/\",\n                    {\n                      namerange: range.namerange,\n                      fk_idassessmentparameter: resposta.data.url,\n                      initialvalue: range.initialvalue,\n                      limitvalue: range.limitvalue\n                    },\n                    header\n                  );\n                });\n              }\n            } else if (\n              resposta.data.scopo === `http://127.0.0.1:8000/scopo/2/`\n            ) {\n              await vm.axios.post(\n                \"http://127.0.0.1:8000/single/\",\n                {\n                  fk_idassessmentparameter: resposta.data.url,\n                  threshold: assessment.single.threshold\n                },\n                header\n              );\n            }\n          });\n      });\n    },\n    async putVisible() {\n      var vm = this;\n      var csrftoken = Cookie.get(\"csrftoken\");\n      var headers = {\n        \"X-CSRFTOKEN\": csrftoken\n      };\n      this.treeData.forEach(element => {\n        if (\n          element.visible === true &&\n          !this.selection.find(findElement => findElement.id === element.id)\n        ) {\n          axios\n            .patch(\n              element.id,\n              { headers: headers },\n              {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              }\n            )\n            .then(async function(resposta) {\n              var aux = resposta.data;\n              await Object.keys(aux).forEach(atributo => {\n                if (Array.isArray(aux[atributo])) {\n                  delete aux[atributo];\n                } else if (atributo === \"url\") {\n                  delete aux[atributo];\n                } else if (atributo[0] + atributo[1] === \"id\") {\n                  delete aux[atributo];\n                } else if (atributo === \"visible\") {\n                  aux.visible = false;\n                }\n              });\n              await axios.put(element.id, aux, {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              });\n            });\n        } else if (\n          element.visible === false &&\n          this.selection.find(findElement => findElement.id === element.id)\n        ) {\n          axios\n            .patch(\n              element.id,\n              { headers: headers },\n              {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              }\n            )\n            .then(async function(resposta) {\n              var aux = resposta.data;\n              await Object.keys(aux).forEach(atributo => {\n                if (Array.isArray(aux[atributo])) {\n                  delete aux[atributo];\n                } else if (atributo === \"url\") {\n                  delete aux[atributo];\n                } else if (atributo[0] + atributo[1] === \"id\") {\n                  delete aux[atributo];\n                } else if (atributo === \"visible\") {\n                  aux.visible = true;\n                }\n              });\n              await axios.put(element.id, aux, {\n                auth: {\n                  username: \"admin\",\n                  password: \"admin\"\n                }\n              });\n            });\n        }\n        if (Array.isArray(element.children) && element.children.length) {\n          element.children.forEach(element2 => {\n            if (\n              element2.visible === true &&\n              !this.selection.find(\n                findElement2 => findElement2.id === element2.id\n              )\n            ) {\n              axios\n                .patch(\n                  element2.id,\n                  { headers: headers },\n                  {\n                    auth: {\n                      username: \"admin\",\n                      password: \"admin\"\n                    }\n                  }\n                )\n                .then(async function(resposta) {\n                  var aux = resposta.data;\n                  await Object.keys(aux).forEach(atributo => {\n                    if (Array.isArray(aux[atributo])) {\n                      delete aux[atributo];\n                    } else if (atributo === \"url\") {\n                      delete aux[atributo];\n                    } else if (atributo[0] + atributo[1] === \"id\") {\n                      delete aux[atributo];\n                    } else if (atributo === \"visible\") {\n                      aux.visible = false;\n                    }\n                  });\n\n                  await axios.put(element2.id, aux, {\n                    auth: {\n                      username: \"admin\",\n                      password: \"admin\"\n                    }\n                  });\n                });\n            } else if (\n              element2.visible === false &&\n              this.selection.find(\n                findElement2 => findElement2.id === element2.id\n              )\n            ) {\n              axios\n                .patch(\n                  element2.id,\n                  { headers: headers },\n                  {\n                    auth: {\n                      username: \"admin\",\n                      password: \"admin\"\n                    }\n                  }\n                )\n                .then(async function(resposta) {\n                  var aux = resposta.data;\n                  await Object.keys(aux).forEach(atributo => {\n                    if (Array.isArray(aux[atributo])) {\n                      delete aux[atributo];\n                    } else if (atributo === \"url\") {\n                      delete aux[atributo];\n                    } else if (atributo[0] + atributo[1] === \"id\") {\n                      delete aux[atributo];\n                    } else if (atributo === \"visible\") {\n                      aux.visible = true;\n                    }\n                  });\n\n                  await axios.put(element2.id, aux, {\n                    auth: {\n                      username: \"admin\",\n                      password: \"admin\"\n                    }\n                  });\n                });\n            }\n\n            if (Array.isArray(element2.children) && element2.children.length) {\n              element2.children.forEach(element3 => {\n                if (\n                  element3.visible === true &&\n                  !this.selection.find(\n                    findElement3 => findElement3.id === element3.id\n                  )\n                ) {\n                  axios\n                    .patch(\n                      element3.id,\n                      { headers: headers },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    )\n                    .then(async function(resposta) {\n                      var aux = resposta.data;\n                      await Object.keys(aux).forEach(atributo => {\n                        if (Array.isArray(aux[atributo])) {\n                          delete aux[atributo];\n                        } else if (atributo === \"url\") {\n                          delete aux[atributo];\n                        } else if (atributo[0] + atributo[1] === \"id\") {\n                          delete aux[atributo];\n                        } else if (atributo === \"visible\") {\n                          aux.visible = false;\n                        }\n                      });\n                      await axios.put(element3.id, aux, {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      });\n                    });\n                } else if (\n                  element3.visible === false &&\n                  this.selection.find(\n                    findElement3 => findElement3.id === element3.id\n                  )\n                ) {\n                  axios\n                    .patch(\n                      element3.id,\n                      { headers: headers },\n                      {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      }\n                    )\n                    .then(async function(resposta) {\n                      var aux = resposta.data;\n                      await Object.keys(aux).forEach(atributo => {\n                        if (Array.isArray(aux[atributo])) {\n                          delete aux[atributo];\n                        } else if (atributo === \"url\") {\n                          delete aux[atributo];\n                        } else if (atributo[0] + atributo[1] === \"id\") {\n                          delete aux[atributo];\n                        } else if (atributo === \"visible\") {\n                          aux.visible = true;\n                        }\n                      });\n                      await axios.put(element3.id, aux, {\n                        auth: {\n                          username: \"admin\",\n                          password: \"admin\"\n                        }\n                      });\n                    });\n                }\n\n                if (\n                  Array.isArray(element3.children) &&\n                  element3.children.length\n                ) {\n                  element3.children.forEach(element4 => {\n                    if (\n                      element4.visible === true &&\n                      !this.selection.find(\n                        findElement4 => findElement4.id === element4.id\n                      )\n                    ) {\n                      axios\n                        .patch(\n                          element4.id,\n                          { headers: headers },\n                          {\n                            auth: {\n                              username: \"admin\",\n                              password: \"admin\"\n                            }\n                          }\n                        )\n                        .then(async function(resposta) {\n                          var aux = resposta.data;\n                          await Object.keys(aux).forEach(atributo => {\n                            if (Array.isArray(aux[atributo])) {\n                              delete aux[atributo];\n                            } else if (atributo === \"url\") {\n                              delete aux[atributo];\n                            } else if (atributo[0] + atributo[1] === \"id\") {\n                              delete aux[atributo];\n                            } else if (atributo === \"visible\") {\n                              aux.visible = false;\n                            }\n                          });\n                          await axios.put(\n                            element4.id,\n                            {\n                              aux\n                            },\n                            {\n                              auth: {\n                                username: \"admin\",\n                                password: \"admin\"\n                              }\n                            }\n                          );\n                        });\n                    } else if (\n                      element4.visible === false &&\n                      this.selection.find(\n                        findElement4 => findElement4.id === element4.id\n                      )\n                    ) {\n                      axios\n                        .patch(\n                          element4.id,\n                          { headers: headers },\n                          {\n                            auth: {\n                              username: \"admin\",\n                              password: \"admin\"\n                            }\n                          }\n                        )\n                        .then(async function(resposta) {\n                          var aux = resposta.data;\n                          await Object.keys(aux).forEach(atributo => {\n                            if (Array.isArray(aux[atributo])) {\n                              delete aux[atributo];\n                            } else if (atributo === \"url\") {\n                              delete aux[atributo];\n                            } else if (atributo[0] + atributo[1] === \"id\") {\n                              delete aux[atributo];\n                            } else if (atributo === \"visible\") {\n                              aux.visible = true;\n                            }\n                          });\n                          await axios.put(\n                            element4.id,\n                            {\n                              aux\n                            },\n                            {\n                              auth: {\n                                username: \"admin\",\n                                password: \"admin\"\n                              }\n                            }\n                          );\n                        });\n                    }\n                  });\n                }\n              });\n            }\n          });\n        }\n      });\n      await setTimeout(async function() {\n        vm.$emit(\"close_or_save\", \"close\");\n      }, 300);\n    },\n    deselectAll() {\n      this.selection = [];\n    },\n    selectAll() {\n      var vm = this;\n      this.selection = [];\n      this.treeData.forEach(element => {\n        vm.selection.push(element);\n        if (element.children) {\n          element.children.forEach(element2 => {\n            vm.selection.push(element2);\n            if (element2.children) {\n              element2.children.forEach(element3 => {\n                vm.selection.push(element3);\n                if (element3.children) {\n                  element3.children.forEach(element4 => {\n                    vm.selection.push(element4);\n                  });\n                }\n              });\n            }\n          });\n        }\n      });\n    },\n    addRange(idAssessment) {\n      this.assessmentControl[idAssessment].ranges.push({\n        namerange: \"\",\n        initialvalue: \"\",\n        limitvalue: \"\",\n        url: \"\"\n      });\n    },\n    async deletaRange(idAssessment, idRange) {\n      // if (this.assessmentControl[idAssessment].ranges[idRange].url !== null) {\n      //   var header = await this.$store.dispatch(\"getHeader\");\n      //   this.axios.delete(\n      //     this.assessmentControl[idAssessment].ranges[idRange].url,\n      //     header\n      //   );\n      // }\n      if (idRange == 0) {\n        this.assessmentControl[idAssessment].ranges.shift();\n      } else {\n        this.assessmentControl[idAssessment].ranges.splice(idRange, 1);\n      }\n    },\n    addAssessment() {\n      this.assessmentControl.push({\n        typeThreshold: \"\",\n        scopo: \"\",\n        fk_element: \"\",\n        valueType: \"\",\n        single: {\n          threshold: \"\",\n          url: \"\"\n        },\n        ranges: [],\n        url: \"\"\n      });\n    },\n    async deletaAssessment(idAssessment) {\n      // if (this.assessmentControl[idAssessment].url !== null) {\n      //   var header = await this.$store.dispatch(\"getHeader\");\n      //   this.axios.delete(this.assessmentControl[idAssessment].url, header);\n      // }\n      if (idAssessment == 0) {\n        this.assessmentControl.shift();\n      } else {\n        this.assessmentControl.splice(idAssessment, 1);\n      }\n    },\n    async validate() {\n      await this.putVisible();\n      await this.postAssessment();\n    },\n    reset() {\n      this.$emit(\"close_or_save\", \"close\");\n    },\n    resetValidation() {\n      this.$refs.form.resetValidation();\n    }\n  }\n};\n</script>"]}]}